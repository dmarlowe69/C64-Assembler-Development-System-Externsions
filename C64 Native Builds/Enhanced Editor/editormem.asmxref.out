EDITORMEM.ASM......PAGE 0001

LINE# LOC   CODE        LINE


00001  0000              ;OPT NOLIST
00002  0000              ;*********************************
00003  0000              *=$C000                ;SYS49152
00004  C000              ;*********************************
00005  C000              ;
00006  C000              ;         EDITOR64
00007  C000              ;      EDITOR.C64 V072882
00008  C000              ; EDITOR FOR ASSEMBLER SOURCE FILES
00009  C000              ;       BASIC V2 EXTENSION
00010  C000              ; (C) 1982 BY COMMODORE MACHINES
00011  C000              ;
00012  C000              ;     2016 EXTENSION BY W.D.M
00013  C000              ;
00014  C000              ;  DOCUMENTED BY DENTON MARLOWE
00015  C000              ;********************************
00016  C000              .LIB   EDITOR.ASM
00017  C000              ;*********************************
00018  C000              ;
00019  C000              ;         EDITOR64
00020  C000              ;      EDITOR.C64 V072882
00021  C000              ; EDITOR FOR ASSEMBLER SOURCE FILES
00022  C000              ;       BASIC V2 EXTENSION
00023  C000              ; (C) 1982 BY COMMODORE MACHINES
00024  C000              ;
00025  C000              ;     2016 EXTENSION BY W.D.M
00026  C000              ;
00027  C000              ;  DOCUMENTED BY DENTON MARLOWE
00028  C000              ;********************************
00029  C000              ; EXTERNAL ADDRESS EQUATES
00030  C000              ;********************************
00031  C000              ; ZERO PAGE
00032  C000              ;********************************
00033  C000              TEMP0  = $0022
00034  C000              TEMP1  = $0023
00035  C000              TEMP2  = $0024
00036  C000              TEMP3  = $0025
00037  C000              OLDLIN = $003B
00038  C000              INPPTR = $0043
00039  C000              CHRMOD = $008A
00040  C000              FNADR  = $00BB         ;POINTER TO FILENAME
00041  C000              STACK  = $0100
00042  C000              ;********************************
00043  C000              ; BASIC EQUATES
00044  C000              ;********************************
00045  C000              BASBUF=$0200
00046  C000              READY=$A474
00047  C000              MAINE=$A52A
00048  C000              LINKPG=$A533
00049  C000              FNDLIN=$A613
00050  C000              CLRENT=$A659
00051  C000              LINGET=$A96B
00052  C000              PRINTE=$AAD7
00053  C000              ANDORE=$AEFD
00054  C000              SGNENT=$BC49
00055  C000              LINPRT=$BDCD






EDITORMEM.ASM......PAGE 0002

LINE# LOC   CODE        LINE


00056  C000              FOUT=$BDDD
00057  C000              ;********************************
00058  C000              ; KERNAL EQUATES
00059  C000              ;********************************
00060  C000              LSVPAR=$E1E6
00061  C000              CKCOMA=$E20E
00062  C000              SETLFS=$FFBA
00063  C000              SETNAM=$FFBD
00064  C000              OPEN=$FFC0
00065  C000              CLOSE=$FFC3
00066  C000              CHKIN=$FFC6
00067  C000              CHKOUT=$FFC9
00068  C000              CLRCHN=$FFCC
00069  C000              CHRIN=$FFCF
00070  C000              CHROUT=$FFD2
00071  C000              GETIN=$FFE4
00072  C000              SETTMO=$FFA2
00073  C000              ;********************************
00074  C000              ; EDITOR64 ENTRY POINT
00075  C000              ;********************************
00076  C000  A9 00              LDA #$00        ;NULL
00077  C002  85 3B              STA OLDLIN      ;$3B
00078  C004  85 3C              STA OLDLIN+1    ;$3C
00079  C006  A2 00              LDX #$00        ;ZERO OFFSET INTO TEXT
00080  C008  20 7E C5           JSR PRTXT       ;PRINT STARTUP MESSAGE
00081  C00B              ;********************************
00082  C00B              ; MODIFIY END OF CHRGET ROUTINE
00083  C00B              ; TO POINT TO EDITOR64 HANDLER
00084  C00B              ; AND ON KILL RESET
00085  C00B              ;********************************
00086  C00B                                     ;LDA #$4C      ;'L'
00087  C00B                                     ;BIT $60A9
00088  C00B  A9          XXCC0B .BYTE $A9       ; LDA #$4C
00089  C00C  4C          XXCC0C .BYTE $4C
00090  C00D  2C          XXCC0D .BYTE $2C
00091  C00E  A9          KILL   .BYTE $A9       ; LDA #$60
00092  C00F  60          XXCC0F .BYTE $60
00093  C010              ;
00094  C010  85 8A              STA CHRMOD
00095  C012  A9 2C              LDA #<XXC02C    ;#$2C
00096  C014  85 8B              STA CHRMOD+1
00097  C016  A9 C0              LDA #>XXC02C    ;$C0
00098  C018  85 8C              STA CHRMOD+2
00099  C01A  4C 29 C3           JMP XXC329
00100  C01D              ;********************************
00101  C01D  8D 6B C6    XXC01D STA XXC641
00102  C020  08                 PHP 
00103  C021  68                 PLA 
00104  C022  8D 6C C6           STA XXC642
00105  C025  8E 6D C6           STX XXC643
00106  C028  8C 6E C6           STY XXC644
00107  C02B  60                 RTS 
00108  C02C              ;********************************
00109  C02C  20 1D C0    XXC02C JSR XXC01D
00110  C02F  BA                 TSX 






EDITORMEM.ASM......PAGE 0003

LINE# LOC   CODE        LINE


00111  C030  BD 01 01           LDA STACK+1,X
00112  C033  C9 8C              CMP #$8C
00113  C035  D0 07              BNE XXC03E
00114  C037  BD 02 01           LDA STACK+2,X
00115  C03A  C9 A4              CMP #$A4
00116  C03C  F0 0F              BEQ XXC04D
00117  C03E  AC 6E C6    XXC03E LDY XXC644
00118  C041  AE 6D C6           LDX XXC643
00119  C044  AD 6C C6           LDA XXC642
00120  C047  48                 PHA 
00121  C048  AD 6B C6           LDA XXC641
00122  C04B  28                 PLP 
00123  C04C  60                 RTS 
00124  C04D              ;********************************
00125  C04D  AD 6C C6    XXC04D LDA XXC642
00126  C050  4A                 LSR A
00127  C051  90 4D              BCC XXC0A0
00128  C053  A2 00              LDX #$00
00129  C055  8E 69 C6           STX XXC63F
00130  C058  CA                 DEX 
00131  C059  E8                 INX 
00132  C05A  A4 7A       XXC05A LDY $7A
00133  C05C  B9 00 02    XXC05C LDA BASBUF,Y
00134  C05F  38                 SEC 
00135  C060  FD A4 C5           SBC CMDTAB,X
00136  C063  F0 14              BEQ XXC079
00137  C065  C9 80              CMP #$80
00138  C067  F0 14              BEQ XXC07D
00139  C069  EE 69 C6           INC XXC63F
00140  C06C  E8          XXC06C INX 
00141  C06D  BD A3 C5           LDA CMDTAB-1,X
00142  C070  10 FA              BPL XXC06C
00143  C072  BD A4 C5           LDA CMDTAB,X
00144  C075  D0 E3              BNE XXC05A
00145  C077  F0 C5              BEQ XXC03E
00146  C079  E8          XXC079 INX 
00147  C07A  C8                 INY 
00148  C07B  D0 DF              BNE XXC05C
00149  C07D  84 7A       XXC07D STY $7A
00150  C07F  AD 69 C6           LDA XXC63F
00151  C082  0A                 ASL A
00152  C083  AA                 TAX 
00153  C084  BD DB C5           LDA VECTOR+1,X
00154  C087  48                 PHA 
00155  C088  BD DA C5           LDA VECTOR,X
00156  C08B  48                 PHA 
00157  C08C  20 3E C0           JSR XXC03E
00158  C08F  4C 73 00           JMP $0073
00159  C092              ;********************************
00160  C092  20 6B A9    AUTO   JSR LINGET
00161  C095  A5 14              LDA $14
00162  C097  85 3B              STA OLDLIN
00163  C099  A5 15              LDA $15
00164  C09B  85 3C              STA OLDLIN+1
00165  C09D  4C 29 C3           JMP XXC329






EDITORMEM.ASM......PAGE 0004

LINE# LOC   CODE        LINE


00166  C0A0              ;********************************
00167  C0A0  68          XXC0A0 PLA 
00168  C0A1  68                 PLA 
00169  C0A2  20 3E C0           JSR XXC03E
00170  C0A5  20 6B A9           JSR LINGET
00171  C0A8  F0 37              BEQ XXC0E1
00172  C0AA  A5 3B              LDA OLDLIN
00173  C0AC  05 3C              ORA OLDLIN+1
00174  C0AE  F0 31              BEQ XXC0E1
00175  C0B0  A5 14              LDA $14
00176  C0B2  18                 CLC 
00177  C0B3  65 3B              ADC OLDLIN
00178  C0B5  85 63              STA $63
00179  C0B7  A5 15              LDA $15
00180  C0B9  65 3C              ADC OLDLIN+1
00181  C0BB  85 62              STA $62
00182  C0BD  A2 90              LDX #$90
00183  C0BF  38                 SEC 
00184  C0C0  20 49 BC           JSR SGNENT
00185  C0C3  20 DD BD           JSR FOUT
00186  C0C6  A2 00              LDX #$00
00187  C0C8  A9 20              LDA #$20        ;' '
00188  C0CA  9D 77 02           STA $0277,X
00189  C0CD  E8                 INX 
00190  C0CE  BD 00 01    XXC0CE LDA $0100,X
00191  C0D1  F0 06              BEQ XXC0D9
00192  C0D3  9D 77 02           STA $0277,X
00193  C0D6  E8                 INX 
00194  C0D7  D0 F5              BNE XXC0CE
00195  C0D9  A9 20       XXC0D9 LDA #$20        ;' '
00196  C0DB  9D 77 02           STA $0277,X
00197  C0DE  E8                 INX 
00198  C0DF  86 C6              STX $C6
00199  C0E1  20 0B C2    XXC0E1 JSR XXC20B
00200  C0E4  4C A2 A4           JMP $A4A2
00201  C0E7              ;********************************
00202  C0E7  F0 42       NUMBER BEQ XXC12B
00203  C0E9  20 6B A9           JSR LINGET
00204  C0EC  20 13 A6           JSR FNDLIN
00205  C0EF  20 FD AE           JSR ANDORE
00206  C0F2  20 6B A9           JSR LINGET
00207  C0F5  A5 14              LDA $14
00208  C0F7  85 BB              STA FNADR
00209  C0F9  A5 15              LDA $15
00210  C0FB  85 BC              STA FNADR+1
00211  C0FD  20 FD AE           JSR ANDORE
00212  C100  20 6B A9           JSR LINGET
00213  C103  20 CA C2    XXC103 JSR XXC2CA
00214  C106  F0 20              BEQ XXC128
00215  C108  20 C0 C2           JSR XXC2C0
00216  C10B  18                 CLC 
00217  C10C  A5 BB              LDA FNADR
00218  C10E  20 BC C2           JSR XXC2BC
00219  C111  65 14              ADC $14
00220  C113  85 BB              STA FNADR






EDITORMEM.ASM......PAGE 0005

LINE# LOC   CODE        LINE


00221  C115  A5 BC              LDA FNADR+1
00222  C117  20 BC C2           JSR XXC2BC
00223  C11A  65 15              ADC $15
00224  C11C  85 BC              STA FNADR+1
00225  C11E  20 CA C2    XXC11E JSR XXC2CA
00226  C121  D0 FB              BNE XXC11E
00227  C123  20 C0 C2           JSR XXC2C0
00228  C126  D0 DB              BNE XXC103
00229  C128  4C 29 C3    XXC128 JMP XXC329
00230  C12B              ;********************************
00231  C12B  20 D7 AA    XXC12B JSR PRINTE
00232  C12E  20 D2 C2           JSR XXC2D2
00233  C131  A9 E8              LDA #$E8
00234  C133  85 BB              STA FNADR
00235  C135  A9 03              LDA #$03
00236  C137  85 BC              STA FNADR+1
00237  C139  A9 0A              LDA #$0A
00238  C13B  85 14              STA $14
00239  C13D  A9 00              LDA #$00
00240  C13F  85 15              STA $15
00241  C141  4C 03 C1           JMP XXC103
00242  C144              ;********************************
00243  C144  20 9A C2    GET    JSR XXC29A
00244  C147  20 C6 FF           JSR CHKIN
00245  C14A  A5 90              LDA $90
00246  C14C  F0 03              BEQ XXC151
00247  C14E  4C 94 C5           JMP XXC594
00248  C151              ;********************************
00249  C151  A9 01       XXC151 LDA #$01
00250  C153  20 B6 C2           JSR XXC2B6
00251  C156  20 CF FF    XXC156 JSR CHRIN
00252  C159  C9 0D              CMP #$0D
00253  C15B  F0 09              BEQ XXC166
00254  C15D  20 BC C2           JSR XXC2BC
00255  C160  A5 90              LDA $90
00256  C162  D0 20              BNE XXC184
00257  C164  F0 F0              BEQ XXC156
00258  C166  20 9E C1    XXC166 JSR XXC19E
00259  C169  20 CD C2           JSR XXC2CD
00260  C16C  C9 01              CMP #$01
00261  C16E  D0 08              BNE XXC178
00262  C170  20 9E C1           JSR XXC19E
00263  C173  20 9B C1           JSR XXC19B
00264  C176  D0 08              BNE XXC180
00265  C178  20 C0 C2    XXC178 JSR XXC2C0
00266  C17B  A9 00              LDA #$00
00267  C17D  20 BC C2           JSR XXC2BC
00268  C180  A5 90       XXC180 LDA $90
00269  C182  F0 CD              BEQ XXC151
00270  C184  98          XXC184 TYA 
00271  C185  20 B6 C2           JSR XXC2B6
00272  C188  A5 5F              LDA $5F
00273  C18A  85 2D              STA $2D
00274  C18C  A5 60              LDA $60
00275  C18E  85 2E              STA $2E






EDITORMEM.ASM......PAGE 0006

LINE# LOC   CODE        LINE


00276  C190  20 CC FF           JSR CLRCHN
00277  C193  A9 08              LDA #$08
00278  C195  20 C3 FF           JSR CLOSE
00279  C198  4C 2B C1           JMP XXC12B
00280  C19B              ;********************************
00281  C19B  20 9E C1    XXC19B JSR XXC19E
00282  C19E  A5 5F       XXC19E LDA $5F
00283  C1A0  D0 02              BNE XXC1A4
00284  C1A2  C6 60              DEC $60
00285  C1A4  C6 5F       XXC1A4 DEC $5F
00286  C1A6  60                 RTS 
00287  C1A7              ;********************************
00288  C1A7              ; PUT/CPUT 
00289  C1A7              ; SAVE A FILE OR PART OF A FILE
00290  C1A7              ; TO FLOPPY DISK
00291  C1A7              ;********************************
00292  C1A7  A2 00       CPUT   LDX #$00
00293  C1A9                                     ;BIT SETTMO
00294  C1A9  2C                 .BYTE $2C
00295  C1AA  A2          PUT    .BYTE $A2
00296  C1AB  FF                 .BYTE $FF
00297  C1AC  8E 6F C6           STX INDEX
00298  C1AF  20 4F C2           JSR XXC24F
00299  C1B2  20 C9 FF           JSR CHKOUT
00300  C1B5  A5 90              LDA $90
00301  C1B7  F0 12              BEQ XXC1CB
00302  C1B9  4C 94 C5           JMP XXC594
00303  C1BC              ;********************************
00304  C1BC  A9 0D       XXC1BC LDA #$0D
00305  C1BE  20 D2 FF           JSR CHROUT
00306  C1C1  A5 90              LDA $90
00307  C1C3  F0 03              BEQ XXC1C8
00308  C1C5  4C 94 C5           JMP XXC594
00309  C1C8              ;********************************
00310  C1C8  20 C0 C2    XXC1C8 JSR XXC2C0
00311  C1CB  20 CA C2    XXC1CB JSR XXC2CA
00312  C1CE  F0 08              BEQ XXC1D8
00313  C1D0  AE 6F C6           LDX INDEX
00314  C1D3  20 81 C4           JSR XXC481
00315  C1D6  B0 0F              BCS XXC1E7
00316  C1D8  20 CC FF    XXC1D8 JSR CLRCHN
00317  C1DB  A9 08              LDA #$08
00318  C1DD  20 C3 FF           JSR CLOSE
00319  C1E0  4C 29 C3           JMP XXC329
00320  C1E3              ;********************************
00321  C1E3  98          XXC1E3 TYA 
00322  C1E4  20 D2 FF           JSR CHROUT
00323  C1E7  20 CA C2    XXC1E7 JSR XXC2CA
00324  C1EA  A8                 TAY 
00325  C1EB  F0 CF              BEQ XXC1BC
00326  C1ED  C9 20              CMP #$20        ;' '
00327  C1EF  D0 08              BNE XXC1F9
00328  C1F1  8A                 TXA 
00329  C1F2  30 EF              BMI XXC1E3
00330  C1F4  D0 F1              BNE XXC1E7






EDITORMEM.ASM......PAGE 0007

LINE# LOC   CODE        LINE


00331  C1F6  E8                 INX 
00332  C1F7  D0 EA              BNE XXC1E3
00333  C1F9  C9 3B       XXC1F9 CMP #OLDLIN      ;';'
00334  C1FB  F0 04              BEQ XXC201
00335  C1FD  C9 27              CMP #$27        ;'''
00336  C1FF  D0 02              BNE XXC203
00337  C201  A2 FF       XXC201 LDX #$FF
00338  C203  8A          XXC203 TXA 
00339  C204  30 DD              BMI XXC1E3
00340  C206  AE 6F C6           LDX INDEX
00341  C209  F0 D8              BEQ XXC1E3
00342  C20B  A2 FF       XXC20B LDX #$FF
00343  C20D  A0 00              LDY #$00
00344  C20F  E8          XXC20F INX 
00345  C210  BD 00 02           LDA BASBUF,X
00346  C213  C9 20              CMP #$20        ;' '
00347  C215  F0 F8              BEQ XXC20F
00348  C217              ;********************************
00349  C217  24                 .BYTE $24
00350  C218              ;********************************
00351  C218  E8          XXC218 INX 
00352  C219  BD 00 02           LDA BASBUF,X
00353  C21C  C9 30              CMP #$30        ;'0'
00354  C21E  90 04              BCC XXC224
00355  C220  C9 3A              CMP #$3A        ;':'
00356  C222  90 F4              BCC XXC218
00357  C224  BD 00 02    XXC224 LDA BASBUF,X
00358  C227  C9 20              CMP #$20        ;' '
00359  C229  D0 01              BNE XXC22C
00360  C22B  E8                 INX 
00361  C22C  BD 00 02    XXC22C LDA BASBUF,X
00362  C22F  F0 09              BEQ XXC23A
00363  C231  29 7F              AND #$7F
00364  C233  99 00 02           STA BASBUF,Y
00365  C236  E8                 INX 
00366  C237  C8                 INY 
00367  C238  D0 F2              BNE XXC22C
00368  C23A  99 00 02    XXC23A STA BASBUF,Y
00369  C23D  C8                 INY 
00370  C23E  C8                 INY 
00371  C23F  99 00 02           STA BASBUF,Y
00372  C242  C8                 INY 
00373  C243  C8                 INY 
00374  C244  C8                 INY 
00375  C245  60                 RTS 
00376  C246              ;********************************
00377  C246  A2 00       XXC246 LDX #$00
00378  C248  86 90              STX $90
00379  C24A  86 B7              STX $B7
00380  C24C  4C 57 E2           JMP $E257
00381  C24F              ;********************************
00382  C24F              ; OPEN SOURCE FILE OF FLOPPY DISK
00383  C24F              ;********************************
00384  C24F  20 46 C2    XXC24F JSR XXC246
00385  C252  A0 00              LDY #$00






EDITORMEM.ASM......PAGE 0008

LINE# LOC   CODE        LINE


00386  C254  B1 BB       XXC254 LDA (FNADR),Y
00387  C256  91 2D              STA ($2D),Y
00388  C258  C8                 INY 
00389  C259  C4 B7              CPY $B7
00390  C25B  D0 F7              BNE XXC254
00391  C25D  A2 04              LDX #$04
00392  C25F  BD 6F C6    XXC25F LDA INDEX,X
00393  C262  91 2D              STA ($2D),Y
00394  C264  C8                 INY 
00395  C265  CA                 DEX 
00396  C266  D0 F7              BNE XXC25F
00397  C268  84 B7              STY $B7
00398  C26A  20 79 00           JSR $0079
00399  C26D  F0 03              BEQ XXC272
00400  C26F  20 0E E2           JSR CKCOMA
00401  C272  20 52 C4    XXC272 JSR XXC452
00402  C275  20 E6 E1    XXC275 JSR LSVPAR
00403  C278  A9 08              LDA #$08
00404  C27A  A8                 TAY 
00405  C27B  A6 BA              LDX $BA
00406  C27D  20 BA FF           JSR SETLFS
00407  C280  A5 B7              LDA $B7
00408  C282  A6 2D              LDX $2D
00409  C284  A4 2E              LDY $2E
00410  C286  20 BD FF           JSR SETNAM
00411  C289  20 C0 FF           JSR OPEN
00412  C28C  A5 90              LDA $90
00413  C28E  F0 07              BEQ XXC297
00414  C290  C9 40              CMP #$40        ;'@'
00415  C292  F0 03              BEQ XXC297
00416  C294  4C 94 C5           JMP XXC594
00417  C297              ;********************************
00418  C297  A2 08       XXC297 LDX #$08
00419  C299  60                 RTS 
00420  C29A              ;********************************
00421  C29A  20 46 C2    XXC29A JSR XXC246
00422  C29D  20 79 00           JSR $0079
00423  C2A0  F0 03              BEQ XXC2A5
00424  C2A2  20 0E E2           JSR CKCOMA
00425  C2A5  20 6B A9    XXC2A5 JSR LINGET
00426  C2A8  20 13 A6           JSR FNDLIN
00427  C2AB  A5 BB              LDA FNADR
00428  C2AD  A4 BC              LDY FNADR+1
00429  C2AF  85 2D              STA $2D
00430  C2B1  84 2E              STY $2E
00431  C2B3  4C 75 C2           JMP XXC275
00432  C2B6              ;********************************
00433  C2B6  20 B9 C2    XXC2B6 JSR XXC2B9
00434  C2B9  20 BC C2    XXC2B9 JSR XXC2BC
00435  C2BC  A0 00       XXC2BC LDY #$00
00436  C2BE  91 5F              STA ($5F),Y
00437  C2C0  E6 5F       XXC2C0 INC $5F
00438  C2C2  D0 02              BNE XXC2C6
00439  C2C4  E6 60              INC $60
00440  C2C6  60          XXC2C6 RTS 






EDITORMEM.ASM......PAGE 0009

LINE# LOC   CODE        LINE


00441  C2C7              ;********************************
00442  C2C7  20 CA C2           JSR XXC2CA
00443  C2CA  20 C0 C2    XXC2CA JSR XXC2C0
00444  C2CD  A0 00       XXC2CD LDY #$00
00445  C2CF  B1 5F              LDA ($5F),Y
00446  C2D1  60                 RTS 
00447  C2D2              ;********************************
00448  C2D2  A5 2B       XXC2D2 LDA $2B
00449  C2D4  85 5F              STA $5F
00450  C2D6  A5 2C              LDA $2C
00451  C2D8  85 60              STA $60
00452  C2DA  60                 RTS 
00453  C2DB              ;********************************
00454  C2DB  4C 08 AF    XXC2DB JMP $AF08
00455  C2DE              ;********************************
00456  C2DE  F0 FB       DELETE BEQ XXC2DB
00457  C2E0  20 52 C4           JSR XXC452
00458  C2E3  A5 5F              LDA $5F
00459  C2E5  A6 60              LDX $60
00460  C2E7  85 24              STA TEMP2
00461  C2E9  86 25              STX TEMP3
00462  C2EB  20 13 A6           JSR FNDLIN
00463  C2EE  90 0E              BCC XXC2FE
00464  C2F0  A0 01              LDY #$01
00465  C2F2  B1 5F              LDA ($5F),Y
00466  C2F4  F0 08              BEQ XXC2FE
00467  C2F6  AA                 TAX 
00468  C2F7  88                 DEY 
00469  C2F8  B1 5F              LDA ($5F),Y
00470  C2FA  85 5F              STA $5F
00471  C2FC  86 60              STX $60
00472  C2FE  A5 24       XXC2FE LDA TEMP2
00473  C300  38                 SEC 
00474  C301  E5 5F              SBC $5F
00475  C303  AA                 TAX 
00476  C304  A5 25              LDA TEMP3
00477  C306  E5 60              SBC $60
00478  C308  A8                 TAY 
00479  C309  B0 1E              BCS XXC329
00480  C30B  8A                 TXA 
00481  C30C  18                 CLC 
00482  C30D  65 2D              ADC $2D
00483  C30F  85 2D              STA $2D
00484  C311  98                 TYA 
00485  C312  65 2E              ADC $2E
00486  C314  85 2E              STA $2E
00487  C316  A0 00              LDY #$00
00488  C318  B1 5F       XXC318 LDA ($5F),Y
00489  C31A  91 24              STA (TEMP2),Y
00490  C31C  C8                 INY 
00491  C31D  D0 F9              BNE XXC318
00492  C31F  E6 60              INC $60
00493  C321  E6 25              INC TEMP3
00494  C323  A5 2E              LDA $2E
00495  C325  C5 25              CMP TEMP3






EDITORMEM.ASM......PAGE 0010

LINE# LOC   CODE        LINE


00496  C327  B0 EF              BCS XXC318
00497  C329              ;********************************
00498  C329              ;
00499  C329              ;********************************
00500  C329  20 33 A5    XXC329 JSR LINKPG
00501  C32C  A5 22              LDA TEMP0
00502  C32E  A6 23              LDX TEMP1
00503  C330  18                 CLC 
00504  C331  69 02              ADC #$02
00505  C333  85 2D              STA $2D
00506  C335  90 01              BCC XXC338
00507  C337  E8                 INX 
00508  C338  86 2E       XXC338 STX $2E
00509  C33A  20 59 A6           JSR CLRENT
00510  C33D  4C 74 A4           JMP READY
00511  C340              ;********************************
00512  C340  8D 69 C6    CHANGE STA XXC63F
00513  C343  A2 00              LDX #$00
00514  C345  86 33              STX $33
00515  C347  20 37 C4           JSR XXC437
00516  C34A  A2 02              LDX #$02
00517  C34C  86 49              STX $49
00518  C34E  D0 07              BNE XXC357
00519  C350  8D 69 C6    FIND   STA XXC63F
00520  C353  A2 00              LDX #$00
00521  C355  86 49              STX $49
00522  C357  20 37 C4    XXC357 JSR XXC437
00523  C35A  20 73 00           JSR $0073
00524  C35D  F0 03              BEQ XXC362
00525  C35F  20 FD AE           JSR ANDORE
00526  C362  20 52 C4    XXC362 JSR XXC452
00527  C365  20 D7 AA           JSR PRINTE
00528  C368  D0 0B              BNE XXC375
00529  C36A  C8          XXC36A INY 
00530  C36B  98                 TYA 
00531  C36C  18                 CLC 
00532  C36D  65 5F              ADC $5F
00533  C36F  85 5F              STA $5F
00534  C371  90 02              BCC XXC375
00535  C373  E6 60              INC $60
00536  C375  20 CA C2    XXC375 JSR XXC2CA
00537  C378  F0 05              BEQ XXC37F
00538  C37A  20 81 C4           JSR XXC481
00539  C37D  B0 03              BCS XXC382
00540  C37F  4C 2A A5    XXC37F JMP MAINE
00541  C382              ;********************************
00542  C382  8C 6A C6    XXC382 STY XXC640
00543  C385  EE 6A C6    XXC385 INC XXC640
00544  C388  AC 6A C6           LDY XXC640
00545  C38B  A6 31              LDX $31
00546  C38D  A5 32              LDA $32
00547  C38F  8D 6B C6           STA XXC641
00548  C392  B1 5F       XXC392 LDA ($5F),Y
00549  C394  F0 D4              BEQ XXC36A
00550  C396  DD 00 02           CMP BASBUF,X






EDITORMEM.ASM......PAGE 0011

LINE# LOC   CODE        LINE


00551  C399  D0 EA              BNE XXC385
00552  C39B  E8                 INX 
00553  C39C  C8                 INY 
00554  C39D  CE 6B C6           DEC XXC641
00555  C3A0  D0 F0              BNE XXC392
00556  C3A2  88                 DEY 
00557  C3A3  8C 69 C6           STY XXC63F
00558  C3A6  8C 6D C6           STY XXC643
00559  C3A9  A5 49              LDA $49
00560  C3AB  F0 66              BEQ XXC413
00561  C3AD  20 95 C4           JSR XXC495
00562  C3B0  A5 34              LDA $34
00563  C3B2  38                 SEC 
00564  C3B3  E5 32              SBC $32
00565  C3B5  8D 6C C6           STA XXC642
00566  C3B8  F0 2D              BEQ XXC3E7
00567  C3BA  C8          XXC3BA INY 
00568  C3BB  F0 C2              BEQ XXC37F
00569  C3BD  B1 5F              LDA ($5F),Y
00570  C3BF  D0 F9              BNE XXC3BA
00571  C3C1  18                 CLC 
00572  C3C2  98                 TYA 
00573  C3C3  6D 6C C6           ADC XXC642
00574  C3C6  C9 02              CMP #$02
00575  C3C8  90 49              BCC XXC413
00576  C3CA  C9 4B              CMP #$4B        ;'K'
00577  C3CC  B0 45              BCS XXC413
00578  C3CE  AD 6C C6           LDA XXC642
00579  C3D1  10 03              BPL XXC3D6
00580  C3D3  CE 6B C6           DEC XXC641
00581  C3D6  18          XXC3D6 CLC 
00582  C3D7  6D 69 C6           ADC XXC63F
00583  C3DA  8D 6D C6           STA XXC643
00584  C3DD  B0 05              BCS XXC3E4
00585  C3DF  20 CB C4           JSR XXC4CB
00586  C3E2  F0 03              BEQ XXC3E7
00587  C3E4  20 B1 C4    XXC3E4 JSR XXC4B1
00588  C3E7  AD 6D C6    XXC3E7 LDA XXC643
00589  C3EA  38                 SEC 
00590  C3EB  E5 34              SBC $34
00591  C3ED  A8                 TAY 
00592  C3EE  C8                 INY 
00593  C3EF  A5 34              LDA $34
00594  C3F1  F0 11              BEQ XXC404
00595  C3F3  8D 6E C6           STA XXC644
00596  C3F6  A6 33              LDX $33
00597  C3F8  BD 00 02    XXC3F8 LDA BASBUF,X
00598  C3FB  91 5F              STA ($5F),Y
00599  C3FD  E8                 INX 
00600  C3FE  C8                 INY 
00601  C3FF  CE 6E C6           DEC XXC644
00602  C402  D0 F4              BNE XXC3F8
00603  C404  18          XXC404 CLC 
00604  C405  A5 2D              LDA $2D
00605  C407  6D 6C C6           ADC XXC642






EDITORMEM.ASM......PAGE 0012

LINE# LOC   CODE        LINE


00606  C40A  85 2D              STA $2D
00607  C40C  A5 2E              LDA $2E
00608  C40E  6D 6B C6           ADC XXC641
00609  C411  85 2E              STA $2E
00610  C413  A6 43       XXC413 LDX INPPTR
00611  C415  A5 44              LDA INPPTR+1
00612  C417  20 CD BD           JSR LINPRT
00613  C41A  A0 00              LDY #$00
00614  C41C  A9 20              LDA #$20        ;' '
00615  C41E  20 D2 FF    XXC41E JSR CHROUT
00616  C421  C8                 INY 
00617  C422  D0 03              BNE XXC427
00618  C424  4C 2A A5           JMP MAINE
00619  C427              ;********************************
00620  C427  B1 5F       XXC427 LDA ($5F),Y
00621  C429  D0 F3              BNE XXC41E
00622  C42B  20 D7 AA           JSR PRINTE
00623  C42E  20 5A C5           JSR XXC55A
00624  C431  AC 6D C6           LDY XXC643
00625  C434  4C 82 C3           JMP XXC382
00626  C437              ;********************************
00627  C437  A4 7A       XXC437 LDY $7A
00628  C439  C8                 INY 
00629  C43A  94 31              STY $31,X
00630  C43C  A9 00              LDA #$00
00631  C43E  95 32              STA $32,X
00632  C440  B9 00 02    XXC440 LDA BASBUF,Y
00633  C443  F0 15              BEQ XXC45A
00634  C445  CD 69 C6           CMP XXC63F
00635  C448  F0 05              BEQ XXC44F
00636  C44A  F6 32              INC $32,X
00637  C44C  C8                 INY 
00638  C44D  D0 F1              BNE XXC440
00639  C44F  84 7A       XXC44F STY $7A
00640  C451  60                 RTS 
00641  C452              ;********************************
00642  C452  90 09       XXC452 BCC XXC45D
00643  C454  F0 07              BEQ XXC45D
00644  C456  C9 2D              CMP #$2D        ;'-'
00645  C458  F0 03              BEQ XXC45D
00646  C45A  4C 08 AF    XXC45A JMP $AF08
00647  C45D              ;********************************
00648  C45D  20 6B A9    XXC45D JSR LINGET
00649  C460  20 13 A6           JSR FNDLIN
00650  C463  20 79 00           JSR $0079
00651  C466  F0 0C              BEQ XXC474
00652  C468  C9 2D              CMP #$2D        ;'-'
00653  C46A  D0 EE              BNE XXC45A
00654  C46C  20 73 00           JSR $0073
00655  C46F  20 6B A9           JSR LINGET
00656  C472  D0 E6              BNE XXC45A
00657  C474  A5 14       XXC474 LDA $14
00658  C476  05 15              ORA $15
00659  C478  D0 06              BNE XXC480
00660  C47A  A9 FF              LDA #$FF






EDITORMEM.ASM......PAGE 0013

LINE# LOC   CODE        LINE


00661  C47C  85 14              STA $14
00662  C47E  85 15              STA $15
00663  C480  60          XXC480 RTS 
00664  C481              ;********************************
00665  C481  20 CA C2    XXC481 JSR XXC2CA
00666  C484  85 43              STA INPPTR
00667  C486  20 CA C2           JSR XXC2CA
00668  C489  85 44              STA INPPTR+1
00669  C48B  38                 SEC 
00670  C48C  A5 14              LDA $14
00671  C48E  E5 43              SBC INPPTR
00672  C490  A5 15              LDA $15
00673  C492  E5 44              SBC INPPTR+1
00674  C494  60                 RTS 
00675  C495              ;********************************
00676  C495  A5 5F       XXC495 LDA $5F
00677  C497  85 22              STA TEMP0
00678  C499  A5 60              LDA $60
00679  C49B  85 23              STA TEMP1
00680  C49D  A5 2D              LDA $2D
00681  C49F  85 24              STA TEMP2
00682  C4A1  A5 2E              LDA $2E
00683  C4A3  85 25              STA TEMP3
00684  C4A5  60                 RTS 
00685  C4A6              ;********************************
00686  C4A6  A5 22       XXC4A6 LDA TEMP0
00687  C4A8  C5 24              CMP TEMP2
00688  C4AA  D0 04              BNE XXC4B0
00689  C4AC  A5 23              LDA TEMP1
00690  C4AE  C5 25              CMP TEMP3
00691  C4B0  60          XXC4B0 RTS 
00692  C4B1              ;********************************
00693  C4B1  AC 69 C6    XXC4B1 LDY XXC63F
00694  C4B4  C8                 INY 
00695  C4B5  B1 22              LDA (TEMP0),Y
00696  C4B7  AC 6D C6           LDY XXC643
00697  C4BA  C8                 INY 
00698  C4BB  91 22              STA (TEMP0),Y
00699  C4BD  20 A6 C4           JSR XXC4A6
00700  C4C0  D0 01              BNE XXC4C3
00701  C4C2  60                 RTS 
00702  C4C3              ;********************************
00703  C4C3  E6 22       XXC4C3 INC TEMP0
00704  C4C5  D0 EA              BNE XXC4B1
00705  C4C7  E6 23              INC TEMP1
00706  C4C9  D0 E6              BNE XXC4B1
00707  C4CB  AC 69 C6    XXC4CB LDY XXC63F
00708  C4CE  B1 24              LDA (TEMP2),Y
00709  C4D0  AC 6D C6           LDY XXC643
00710  C4D3  91 24              STA (TEMP2),Y
00711  C4D5  20 A6 C4           JSR XXC4A6
00712  C4D8  D0 01              BNE XXC4DB
00713  C4DA  60                 RTS 
00714  C4DB              ;********************************
00715  C4DB  A5 24       XXC4DB LDA TEMP2






EDITORMEM.ASM......PAGE 0014

LINE# LOC   CODE        LINE


00716  C4DD  D0 02              BNE XXC4E1
00717  C4DF  C6 25              DEC TEMP3
00718  C4E1  C6 24       XXC4E1 DEC TEMP2
00719  C4E3  4C CB C4           JMP XXC4CB
00720  C4E6              ;********************************
00721  C4E6  20 52 C4    FORMAT JSR XXC452
00722  C4E9  D0 03              BNE XXC4EE
00723  C4EB  20 C0 C2    XXC4EB JSR XXC2C0
00724  C4EE  20 D7 AA    XXC4EE JSR PRINTE
00725  C4F1  20 5A C5           JSR XXC55A
00726  C4F4  20 CA C2           JSR XXC2CA
00727  C4F7  F0 05              BEQ XXC4FE
00728  C4F9  20 81 C4           JSR XXC481
00729  C4FC  B0 03              BCS XXC501
00730  C4FE  4C 74 A4    XXC4FE JMP READY
00731  C501              ;********************************
00732  C501  A6 43       XXC501 LDX INPPTR
00733  C503  A5 44              LDA INPPTR+1
00734  C505  20 CD BD           JSR LINPRT
00735  C508  A9 20              LDA #$20        ;' '
00736  C50A  20 D2 FF           JSR CHROUT
00737  C50D  A2 00              LDX #$00
00738  C50F  20 CA C2    XXC50F JSR XXC2CA
00739  C512  F0 D7              BEQ XXC4EB
00740  C514  C9 3B              CMP #OLDLIN      ;';'
00741  C516  F0 38              BEQ XXC550
00742  C518  C9 20              CMP #$20        ;' '
00743  C51A  F0 06              BEQ XXC522
00744  C51C  20 D2 FF           JSR CHROUT
00745  C51F  E8                 INX 
00746  C520  D0 ED              BNE XXC50F
00747  C522  E0 07       XXC522 CPX #$07
00748  C524  B0 06              BCS XXC52C
00749  C526  20 D2 FF           JSR CHROUT
00750  C529  E8                 INX 
00751  C52A  D0 F6              BNE XXC522
00752  C52C  20 CA C2    XXC52C JSR XXC2CA
00753  C52F  F0 BA              BEQ XXC4EB
00754  C531  C9 20              CMP #$20        ;' '
00755  C533  F0 F7              BEQ XXC52C
00756  C535  20 D2 FF    XXC535 JSR CHROUT
00757  C538  E8                 INX 
00758  C539  20 CA C2           JSR XXC2CA
00759  C53C  F0 AD              BEQ XXC4EB
00760  C53E  C9 3B              CMP #OLDLIN      ;';'
00761  C540  D0 F3              BNE XXC535
00762  C542  48                 PHA 
00763  C543  A9 20              LDA #$20        ;' '
00764  C545  E0 17       XXC545 CPX #$17
00765  C547  B0 06              BCS XXC54F
00766  C549  20 D2 FF           JSR CHROUT
00767  C54C  E8                 INX 
00768  C54D  D0 F6              BNE XXC545
00769  C54F  68          XXC54F PLA 
00770  C550  20 D2 FF    XXC550 JSR CHROUT






EDITORMEM.ASM......PAGE 0015

LINE# LOC   CODE        LINE


00771  C553  20 CA C2           JSR XXC2CA
00772  C556  F0 93              BEQ XXC4EB
00773  C558  D0 F6              BNE XXC550
00774  C55A  20 E4 FF    XXC55A JSR GETIN
00775  C55D  F0 1E              BEQ XXC57D
00776  C55F  C9 03              CMP #$03
00777  C561  D0 06              BNE XXC569
00778  C563  20 59 A6    XXC563 JSR CLRENT
00779  C566  4C 74 A4           JMP READY
00780  C569              ;********************************
00781  C569  C9 20       XXC569 CMP #$20        ;' '
00782  C56B  D0 10              BNE XXC57D
00783  C56D  20 E4 FF    XXC56D JSR GETIN
00784  C570  C9 20              CMP #$20        ;' '
00785  C572  F0 F9              BEQ XXC56D
00786  C574  20 E4 FF    XXC574 JSR GETIN
00787  C577  F0 FB              BEQ XXC574
00788  C579  C9 03              CMP #$03
00789  C57B  F0 E6              BEQ XXC563
00790  C57D  60          XXC57D RTS 
00791  C57E              ;********************************
00792  C57E              ; PRINT MESSAGE TO SCREEN
00793  C57E              ; REG X CONTAINS INDEX INTO
00794  C57E              ; MESSAGE TABLE
00795  C57E              ;********************************
00796  C57E  8E 6F C6    PRTXT  STX INDEX       ;$C57E
00797  C581  AE 6F C6    PRTNEX LDX INDEX       ;$C581
00798  C584  BD F2 C5           LDA MSGSTR,X
00799  C587  08                 PHP 
00800  C588  29 7F              AND #$7F
00801  C58A  20 D2 FF           JSR CHROUT
00802  C58D  EE 6F C6           INC INDEX
00803  C590  28                 PLP 
00804  C591  10 EE              BPL PRTNEX
00805  C593  60                 RTS 
00806  C594              ;********************************
00807  C594              ; PRINT 'FILE ERROR'
00808  C594              ;********************************
00809  C594  20 CC FF    XXC594 JSR CLRCHN
00810  C597  A9 08              LDA #$08
00811  C599  20 C3 FF           JSR CLOSE
00812  C59C                                     ;LDX #$4D      ;'M'
00813  C59C  A2 6C              LDX #MSGERR-MSGSTR ;$4D.   
00814  C59E  20 7E C5           JSR PRTXT
00815  C5A1  4C 74 A4           JMP READY
00816  C5A4              ;********************************
00817  C5A4              ; COMMANDS
00818  C5A4              ; AUTO
00819  C5A4              ; CHANGE 
00820  C5A4              ; CPUT
00821  C5A4              ; DELETE
00822  C5A4              ; FIND
00823  C5A4              ; FORMAT
00824  C5A4              ; GET
00825  C5A4              ; KILL






EDITORMEM.ASM......PAGE 0016

LINE# LOC   CODE        LINE


00826  C5A4              ; NUMBER
00827  C5A4              ; PUT
00828  C5A4              ;********************************
00829  C5A4  41 55 54    CMDTAB .BYTE 'AUT'     ;$C5A4
00830  C5A7  CF                 .BYTE $CF       ;'O'+$80
00831  C5A8  43 48              .BYTE 'CHANG'
00832  C5AD  C5                 .BYTE $C5       ;'E'+$80
00833  C5AE  43 50 55           .BYTE 'CPU'
00834  C5B1  D4                 .BYTE $D4       ;'T'+$80
00835  C5B2  44 45              .BYTE 'DELET'
00836  C5B7  C5                 .BYTE $C5       ;'E'+$80
00837  C5B8  46 49 4E           .BYTE 'FIN'
00838  C5BB  C4                 .BYTE $C4       ;'D'+$80
00839  C5BC  46 4F              .BYTE 'FORMA'
00840  C5C1  D4                 .BYTE $D4       ;'T'+$80
00841  C5C2  47 45              .BYTE 'GE'
00842  C5C4  D4                 .BYTE $D4       ;'T'+$80
00843  C5C5  4B 49 4C           .BYTE 'KIL'
00844  C5C8  CC                 .BYTE $CC       ;'L'+$80
00845  C5C9  4E 55              .BYTE 'NUMBE'
00846  C5CE  D2                 .BYTE $D2       ;'R'+$80
00847  C5CF  50 55              .BYTE 'PU'
00848  C5D1  D4                 .BYTE $D4       ;'T'+$80
00849  C5D2              ;
00850  C5D2  48 45 4C           .BYTE 'HEL'
00851  C5D5  D0                 .BYTE $D0       ;'P'+$80
00852  C5D6  43 4C              .BYTE 'CL'
00853  C5D8  D3                 .BYTE $D3       ; 'S'+$80
00854  C5D9              ;**************************************
00855  C5D9  00                 .BYTE $00
00856  C5DA              ;**************************************
00857  C5DA              ; VECTOR TABLE - ADDRESS - 1
00858  C5DA              ;**************************************
00859  C5DA              ; AUTO
00860  C5DA              ;VECTOR .BYTE $91 ;XXC5D3
00861  C5DA              ;XXC5D4 .BYTE $C0 ;XXC3D4
00862  C5DA  91 C0       VECTOR .WORD AUTO-1
00863  C5DC              ; CHANGE
00864  C5DC                                     ;.BYTE $3F
00865  C5DC                                     ;.BYTE $C3
00866  C5DC  3F C3              .WORD CHANGE-1
00867  C5DE              ; CPUT
00868  C5DE                                     ;.BYTE $A6
00869  C5DE                                     ;.BYTE $C1
00870  C5DE  A6 C1              .WORD CPUT-1
00871  C5E0              ; DELETE
00872  C5E0                                     ;.BYTE $DD
00873  C5E0                                     ;.BYTE $C2
00874  C5E0  DD C2              .WORD DELETE-1
00875  C5E2              ; FIND
00876  C5E2                                     ;.BYTE $4F
00877  C5E2                                     ;.BYTE $C3
00878  C5E2  4F C3              .WORD FIND-1
00879  C5E4              ; FORMAT
00880  C5E4                                     ;.BYTE $E5






EDITORMEM.ASM......PAGE 0017

LINE# LOC   CODE        LINE


00881  C5E4                                     ;.BYTE $C4
00882  C5E4  E5 C4              .WORD FORMAT-1
00883  C5E6              ; GET
00884  C5E6                                     ;.BYTE $43
00885  C5E6                                     ;.BYTE $C1
00886  C5E6  43 C1              .WORD GET-1
00887  C5E8              ; KILL
00888  C5E8                                     ;.BYTE $0D
00889  C5E8                                     ;.BYTE $C0
00890  C5E8  0D C0              .WORD KILL-1
00891  C5EA              ; NUMBER
00892  C5EA                                     ;.BYTE $E6
00893  C5EA                                     ;.BYTE $C0
00894  C5EA  E6 C0              .WORD NUMBER-1
00895  C5EC              ; PUT
00896  C5EC                                     ;.BYTE $A9
00897  C5EC                                     ;.BYTE $C1
00898  C5EC  A9 C1              .WORD PUT-1
00899  C5EE              ; HELP
00900  C5EE  79 C6              .WORD HELP-1
00901  C5F0              ; CLS
00902  C5F0  73 C6              .WORD CLS-1
00903  C5F2              ;**************************************
00904  C5F2              ; MESSAGE TABLE
00905  C5F2              ;**************************************   
00906  C5F2  0D          MSGSTR .BYTE $0D       ;$C5E7
00907  C5F3  0D                 .BYTE $0D
00908  C5F4  20 20              .BYTE '      COMMODORE 64 EDITOR V072982'
00909  C615  0D                 .BYTE $0D
00910  C616  28 43              .BYTE '(C) 1982 BY COMMODORE BUSINESS MACH
INES'
00911  C63D  0D                 .BYTE $0D
00912  C63E  20 20              .BYTE '       2016 EXTENSION BY W.D.M'
00913  C65C  0D                 .BYTE $0D
00914  C65D  8D                 .BYTE $8D       ; $0D WITH BIT 8 SET
00915  C65E  0D          MSGERR .BYTE $0D
00916  C65F  46 49              .BYTE 'FILE ERRO'
00917  C668  D2                 .BYTE $D2       ; $52 (R) WITH BIT 8 SET
00918  C669              ;**************************************   
00919  C669  00          XXC63F .BYTE $00       ;XXC63F
00920  C66A  00          XXC640 .BYTE $00       ;XXC640
00921  C66B  00          XXC641 .BYTE $00       ;XXC641
00922  C66C  00          XXC642 .BYTE $00       ;XXC642
00923  C66D  00          XXC643 .BYTE $00       ;XXC643
00924  C66E  00          XXC644 .BYTE $00       ;XXC644
00925  C66F  00          INDEX  .BYTE $00       ;$C645
00926  C670  57 2C              .BYTE 'W,S,'
00927  C674              ;********************************
00928  C674              ; CLEAR SCREEN
00929  C674              ;********************************
00930  C674  A9 93       CLS    LDA #$93
00931  C676  20 D2 FF           JSR CHROUT
00932  C679  60                 RTS
00933  C67A              ;********************************
00934  C67A              ; PRINT HELP TEXT
00935  C67A              ;********************************






EDITORMEM.ASM......PAGE 0018

LINE# LOC   CODE        LINE


00936  C67A  EA          HELP   NOP
00937  C67B              ;********************************
00938  C67B              ; HELP CODE APPENDED HERE
00939  C67B              ;********************************
00940  C67B              .END
00941  C67B              ;********************************
00942  C67B              .FIL   EDHELPMEM.ASM
00943  C67B              ;********************************
00944  C67B              ; PRINT HELP TEXT FOR MEMORY
00945  C67B              ;********************************
00946  C67B              ;HELP
00947  C67B  A2 00              LDX #$00
00948  C67D  20 86 C6           JSR PRTHP
00949  C680  20 59 A6           JSR CLRENT
00950  C683  4C 74 A4           JMP READY
00951  C686              ;********************************
00952  C686              ; PRINT MESSAGE TO SCREEN
00953  C686              ; REG X CONTAINS INDEX INTO
00954  C686              ; MESSAGE TABLE
00955  C686              ;********************************
00956  C686  8E 6F C6    PRTHP  STX INDEX       ;$C57E
00957  C689  AE 6F C6    PRTHPX LDX INDEX       ;$C581
00958  C68C  BD 9C C6           LDA HELPTX,X
00959  C68F  08                 PHP 
00960  C690  29 7F              AND #$7F
00961  C692  20 D2 FF           JSR CHROUT
00962  C695  EE 6F C6           INC INDEX
00963  C698  28                 PLP 
00964  C699  10 EE              BPL PRTHPX
00965  C69B  60                 RTS 
00966  C69C              ;********************************
00967  C69C  0D          HELPTX .BYTE $0D
00968  C69D  41 55              .BYTE 'AUTO'
00969  C6A1  0D                 .BYTE $0D
00970  C6A2  43 48              .BYTE 'CHANGE'
00971  C6A8  0D                 .BYTE $0D
00972  C6A9  43 50              .BYTE 'CPUT'
00973  C6AD  0D                 .BYTE $0D
00974  C6AE  44 45              .BYTE 'DELETE'
00975  C6B4  0D                 .BYTE $0D
00976  C6B5  46 49              .BYTE 'FIND'
00977  C6B9  0D                 .BYTE $0D
00978  C6BA  46 4F              .BYTE 'FORMAT'
00979  C6C0  0D                 .BYTE $0D
00980  C6C1  47 45 54           .BYTE 'GET'
00981  C6C4  0D                 .BYTE $0D
00982  C6C5  4B 49              .BYTE 'KILL'
00983  C6C9  0D                 .BYTE $0D
00984  C6CA  4E 55              .BYTE 'NUMBER'
00985  C6D0  0D                 .BYTE $0D
00986  C6D1  50 55 54           .BYTE 'PUT'
00987  C6D4  0D                 .BYTE $0D
00988  C6D5  43 4C 53           .BYTE 'CLS'
00989  C6D8  8D                 .BYTE $8D       ; $0D WITH BIT 8 SET
00990  C6D9              ;********************************






EDITORMEM.ASM......PAGE 0019

LINE# LOC   CODE        LINE


00991  C6D9              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ANDORE   AEFD    AUTO     C092    BASBUF   0200    CHANGE   C340
 CHKIN    FFC6    CHKOUT   FFC9    CHRIN    FFCF    CHRMOD   008A
 CHROUT   FFD2    CKCOMA   E20E    CLOSE    FFC3    CLRCHN   FFCC
 CLRENT   A659    CLS      C674    CMDTAB   C5A4    CPUT     C1A7
 DELETE   C2DE    FIND     C350    FNADR    00BB    FNDLIN   A613
 FORMAT   C4E6    FOUT     BDDD    GET      C144    GETIN    FFE4
 HELP     C67A    HELPTX   C69C    INDEX    C66F    INPPTR   0043
 KILL     C00E    LINGET   A96B    LINKPG   A533    LINPRT   BDCD
 LSVPAR   E1E6    MAINE    A52A    MSGERR   C65E    MSGSTR   C5F2
 NUMBER   C0E7    OLDLIN   003B    OPEN     FFC0    PRINTE   AAD7
 PRTHP    C686    PRTHPX   C689    PRTNEX   C581    PRTXT    C57E
 PUT      C1AA    READY    A474    SETLFS   FFBA    SETNAM   FFBD
 SETTMO   FFA2    SGNENT   BC49    STACK    0100    TEMP0    0022
 TEMP1    0023    TEMP2    0024    TEMP3    0025    VECTOR   C5DA
 XXC01D   C01D    XXC02C   C02C    XXC03E   C03E    XXC04D   C04D
 XXC05A   C05A    XXC05C   C05C    XXC06C   C06C    XXC079   C079
 XXC07D   C07D    XXC0A0   C0A0    XXC0CE   C0CE    XXC0D9   C0D9
 XXC0E1   C0E1    XXC103   C103    XXC11E   C11E    XXC128   C128
 XXC12B   C12B    XXC151   C151    XXC156   C156    XXC166   C166
 XXC178   C178    XXC180   C180    XXC184   C184    XXC19B   C19B
 XXC19E   C19E    XXC1A4   C1A4    XXC1BC   C1BC    XXC1C8   C1C8
 XXC1CB   C1CB    XXC1D8   C1D8    XXC1E3   C1E3    XXC1E7   C1E7
 XXC1F9   C1F9    XXC201   C201    XXC203   C203    XXC20B   C20B
 XXC20F   C20F    XXC218   C218    XXC224   C224    XXC22C   C22C
 XXC23A   C23A    XXC246   C246    XXC24F   C24F    XXC254   C254
 XXC25F   C25F    XXC272   C272    XXC275   C275    XXC297   C297
 XXC29A   C29A    XXC2A5   C2A5    XXC2B6   C2B6    XXC2B9   C2B9
 XXC2BC   C2BC    XXC2C0   C2C0    XXC2C6   C2C6    XXC2CA   C2CA
 XXC2CD   C2CD    XXC2D2   C2D2    XXC2DB   C2DB    XXC2FE   C2FE
 XXC318   C318    XXC329   C329    XXC338   C338    XXC357   C357
 XXC362   C362    XXC36A   C36A    XXC375   C375    XXC37F   C37F
 XXC382   C382    XXC385   C385    XXC392   C392    XXC3BA   C3BA
 XXC3D6   C3D6    XXC3E4   C3E4    XXC3E7   C3E7    XXC3F8   C3F8
 XXC404   C404    XXC413   C413    XXC41E   C41E    XXC427   C427
 XXC437   C437    XXC440   C440    XXC44F   C44F    XXC452   C452
 XXC45A   C45A    XXC45D   C45D    XXC474   C474    XXC480   C480
 XXC481   C481    XXC495   C495    XXC4A6   C4A6    XXC4B0   C4B0
 XXC4B1   C4B1    XXC4C3   C4C3    XXC4CB   C4CB    XXC4DB   C4DB
 XXC4E1   C4E1    XXC4EB   C4EB    XXC4EE   C4EE    XXC4FE   C4FE
 XXC501   C501    XXC50F   C50F    XXC522   C522    XXC52C   C52C
 XXC535   C535    XXC545   C545    XXC54F   C54F    XXC550   C550
 XXC55A   C55A    XXC563   C563    XXC569   C569    XXC56D   C56D
 XXC574   C574    XXC57D   C57D    XXC594   C594    XXC63F   C669
 XXC640   C66A    XXC641   C66B    XXC642   C66C    XXC643   C66D
 XXC644   C66E    XXCC0B   C00B    XXCC0C   C00C    XXCC0D   C00D








SYMBOL TABLE

SYMBOL VALUE
 XXCC0F   C00F   

END OF ASSEMBLY
EDITORMEM.ASM......PAGE 0001

LINE# LOC   CODE        LINE


00001  0000              ;OPT NOLIST
00002  0000              ;*********************************
00003  0000              *=$C000                ;SYS49152
00004  C000              ;*********************************
00005  C000              ;
00006  C000              ;         EDITOR64
00007  C000              ;      EDITOR.C64 V072882
00008  C000              ; EDITOR FOR ASSEMBLER SOURCE FILES
00009  C000              ;       BASIC V2 EXTENSION
00010  C000              ; (C) 1982 BY COMMODORE MACHINES
00011  C000              ;
00012  C000              ;     2016 EXTENSION BY W.D.M
00013  C000              ;
00014  C000              ;  DOCUMENTED BY DENTON MARLOWE
00015  C000              ;********************************
00016  C000              .LIB   EDITOR.ASM
00017  C000              ;*********************************
00018  C000              ;
00019  C000              ;         EDITOR64
00020  C000              ;      EDITOR.C64 V072882
00021  C000              ; EDITOR FOR ASSEMBLER SOURCE FILES
00022  C000              ;       BASIC V2 EXTENSION
00023  C000              ; (C) 1982 BY COMMODORE MACHINES
00024  C000              ;
00025  C000              ;     2016 EXTENSION BY W.D.M
00026  C000              ;
00027  C000              ;  DOCUMENTED BY DENTON MARLOWE
00028  C000              ;********************************
00029  C000              ; EXTERNAL ADDRESS EQUATES
00030  C000              ;********************************
00031  C000              ; ZERO PAGE
00032  C000              ;********************************
00033  C000              TEMP0  = $0022
00034  C000              TEMP1  = $0023
00035  C000              TEMP2  = $0024
00036  C000              TEMP3  = $0025
00037  C000              OLDLIN = $003B
00038  C000              INPPTR = $0043
00039  C000              CHRMOD = $008A
00040  C000              FNADR  = $00BB         ;POINTER TO FILENAME
00041  C000              STACK  = $0100
00042  C000              ;********************************
00043  C000              ; BASIC EQUATES
00044  C000              ;********************************
00045  C000              BASBUF=$0200
00046  C000              READY=$A474
00047  C000              MAINE=$A52A
00048  C000              LINKPG=$A533
00049  C000              FNDLIN=$A613
00050  C000              CLRENT=$A659
00051  C000              LINGET=$A96B
00052  C000              PRINTE=$AAD7
00053  C000              ANDORE=$AEFD
00054  C000              SGNENT=$BC49
00055  C000              LINPRT=$BDCD






EDITORMEM.ASM......PAGE 0002

LINE# LOC   CODE        LINE


00056  C000              FOUT=$BDDD
00057  C000              ;********************************
00058  C000              ; KERNAL EQUATES
00059  C000              ;********************************
00060  C000              LSVPAR=$E1E6
00061  C000              CKCOMA=$E20E
00062  C000              SETLFS=$FFBA
00063  C000              SETNAM=$FFBD
00064  C000              OPEN=$FFC0
00065  C000              CLOSE=$FFC3
00066  C000              CHKIN=$FFC6
00067  C000              CHKOUT=$FFC9
00068  C000              CLRCHN=$FFCC
00069  C000              CHRIN=$FFCF
00070  C000              CHROUT=$FFD2
00071  C000              GETIN=$FFE4
00072  C000              SETTMO=$FFA2
00073  C000              ;********************************
00074  C000              ; EDITOR64 ENTRY POINT
00075  C000              ;********************************
00076  C000  A9 00              LDA #$00        ;NULL
00077  C002  85 3B              STA OLDLIN      ;$3B
00078  C004  85 3C              STA OLDLIN+1    ;$3C
00079  C006  A2 00              LDX #$00        ;ZERO OFFSET INTO TEXT
00080  C008  20 7E C5           JSR PRTXT       ;PRINT STARTUP MESSAGE
00081  C00B              ;********************************
00082  C00B              ; MODIFIY END OF CHRGET ROUTINE
00083  C00B              ; TO POINT TO EDITOR64 HANDLER
00084  C00B              ; AND ON KILL RESET
00085  C00B              ;********************************
00086  C00B                                     ;LDA #$4C      ;'L'
00087  C00B                                     ;BIT $60A9
00088  C00B  A9          XXCC0B .BYTE $A9       ; LDA #$4C
00089  C00C  4C          XXCC0C .BYTE $4C
00090  C00D  2C          XXCC0D .BYTE $2C
00091  C00E  A9          KILL   .BYTE $A9       ; LDA #$60
00092  C00F  60          XXCC0F .BYTE $60
00093  C010              ;
00094  C010  85 8A              STA CHRMOD
00095  C012  A9 2C              LDA #<XXC02C    ;#$2C
00096  C014  85 8B              STA CHRMOD+1
00097  C016  A9 C0              LDA #>XXC02C    ;$C0
00098  C018  85 8C              STA CHRMOD+2
00099  C01A  4C 29 C3           JMP XXC329
00100  C01D              ;********************************
00101  C01D  8D 6B C6    XXC01D STA XXC641
00102  C020  08                 PHP 
00103  C021  68                 PLA 
00104  C022  8D 6C C6           STA XXC642
00105  C025  8E 6D C6           STX XXC643
00106  C028  8C 6E C6           STY XXC644
00107  C02B  60                 RTS 
00108  C02C              ;********************************
00109  C02C  20 1D C0    XXC02C JSR XXC01D
00110  C02F  BA                 TSX 






EDITORMEM.ASM......PAGE 0003

LINE# LOC   CODE        LINE


00111  C030  BD 01 01           LDA STACK+1,X
00112  C033  C9 8C              CMP #$8C
00113  C035  D0 07              BNE XXC03E
00114  C037  BD 02 01           LDA STACK+2,X
00115  C03A  C9 A4              CMP #$A4
00116  C03C  F0 0F              BEQ XXC04D
00117  C03E  AC 6E C6    XXC03E LDY XXC644
00118  C041  AE 6D C6           LDX XXC643
00119  C044  AD 6C C6           LDA XXC642
00120  C047  48                 PHA 
00121  C048  AD 6B C6           LDA XXC641
00122  C04B  28                 PLP 
00123  C04C  60                 RTS 
00124  C04D              ;********************************
00125  C04D  AD 6C C6    XXC04D LDA XXC642
00126  C050  4A                 LSR A
00127  C051  90 4D              BCC XXC0A0
00128  C053  A2 00              LDX #$00
00129  C055  8E 69 C6           STX XXC63F
00130  C058  CA                 DEX 
00131  C059  E8                 INX 
00132  C05A  A4 7A       XXC05A LDY $7A
00133  C05C  B9 00 02    XXC05C LDA BASBUF,Y
00134  C05F  38                 SEC 
00135  C060  FD A4 C5           SBC CMDTAB,X
00136  C063  F0 14              BEQ XXC079
00137  C065  C9 80              CMP #$80
00138  C067  F0 14              BEQ XXC07D
00139  C069  EE 69 C6           INC XXC63F
00140  C06C  E8          XXC06C INX 
00141  C06D  BD A3 C5           LDA CMDTAB-1,X
00142  C070  10 FA              BPL XXC06C
00143  C072  BD A4 C5           LDA CMDTAB,X
00144  C075  D0 E3              BNE XXC05A
00145  C077  F0 C5              BEQ XXC03E
00146  C079  E8          XXC079 INX 
00147  C07A  C8                 INY 
00148  C07B  D0 DF              BNE XXC05C
00149  C07D  84 7A       XXC07D STY $7A
00150  C07F  AD 69 C6           LDA XXC63F
00151  C082  0A                 ASL A
00152  C083  AA                 TAX 
00153  C084  BD DB C5           LDA VECTOR+1,X
00154  C087  48                 PHA 
00155  C088  BD DA C5           LDA VECTOR,X
00156  C08B  48                 PHA 
00157  C08C  20 3E C0           JSR XXC03E
00158  C08F  4C 73 00           JMP $0073
00159  C092              ;********************************
00160  C092  20 6B A9    AUTO   JSR LINGET
00161  C095  A5 14              LDA $14
00162  C097  85 3B              STA OLDLIN
00163  C099  A5 15              LDA $15
00164  C09B  85 3C              STA OLDLIN+1
00165  C09D  4C 29 C3           JMP XXC329






EDITORMEM.ASM......PAGE 0004

LINE# LOC   CODE        LINE


00166  C0A0              ;********************************
00167  C0A0  68          XXC0A0 PLA 
00168  C0A1  68                 PLA 
00169  C0A2  20 3E C0           JSR XXC03E
00170  C0A5  20 6B A9           JSR LINGET
00171  C0A8  F0 37              BEQ XXC0E1
00172  C0AA  A5 3B              LDA OLDLIN
00173  C0AC  05 3C              ORA OLDLIN+1
00174  C0AE  F0 31              BEQ XXC0E1
00175  C0B0  A5 14              LDA $14
00176  C0B2  18                 CLC 
00177  C0B3  65 3B              ADC OLDLIN
00178  C0B5  85 63              STA $63
00179  C0B7  A5 15              LDA $15
00180  C0B9  65 3C              ADC OLDLIN+1
00181  C0BB  85 62              STA $62
00182  C0BD  A2 90              LDX #$90
00183  C0BF  38                 SEC 
00184  C0C0  20 49 BC           JSR SGNENT
00185  C0C3  20 DD BD           JSR FOUT
00186  C0C6  A2 00              LDX #$00
00187  C0C8  A9 20              LDA #$20        ;' '
00188  C0CA  9D 77 02           STA $0277,X
00189  C0CD  E8                 INX 
00190  C0CE  BD 00 01    XXC0CE LDA $0100,X
00191  C0D1  F0 06              BEQ XXC0D9
00192  C0D3  9D 77 02           STA $0277,X
00193  C0D6  E8                 INX 
00194  C0D7  D0 F5              BNE XXC0CE
00195  C0D9  A9 20       XXC0D9 LDA #$20        ;' '
00196  C0DB  9D 77 02           STA $0277,X
00197  C0DE  E8                 INX 
00198  C0DF  86 C6              STX $C6
00199  C0E1  20 0B C2    XXC0E1 JSR XXC20B
00200  C0E4  4C A2 A4           JMP $A4A2
00201  C0E7              ;********************************
00202  C0E7  F0 42       NUMBER BEQ XXC12B
00203  C0E9  20 6B A9           JSR LINGET
00204  C0EC  20 13 A6           JSR FNDLIN
00205  C0EF  20 FD AE           JSR ANDORE
00206  C0F2  20 6B A9           JSR LINGET
00207  C0F5  A5 14              LDA $14
00208  C0F7  85 BB              STA FNADR
00209  C0F9  A5 15              LDA $15
00210  C0FB  85 BC              STA FNADR+1
00211  C0FD  20 FD AE           JSR ANDORE
00212  C100  20 6B A9           JSR LINGET
00213  C103  20 CA C2    XXC103 JSR XXC2CA
00214  C106  F0 20              BEQ XXC128
00215  C108  20 C0 C2           JSR XXC2C0
00216  C10B  18                 CLC 
00217  C10C  A5 BB              LDA FNADR
00218  C10E  20 BC C2           JSR XXC2BC
00219  C111  65 14              ADC $14
00220  C113  85 BB              STA FNADR






EDITORMEM.ASM......PAGE 0005

LINE# LOC   CODE        LINE


00221  C115  A5 BC              LDA FNADR+1
00222  C117  20 BC C2           JSR XXC2BC
00223  C11A  65 15              ADC $15
00224  C11C  85 BC              STA FNADR+1
00225  C11E  20 CA C2    XXC11E JSR XXC2CA
00226  C121  D0 FB              BNE XXC11E
00227  C123  20 C0 C2           JSR XXC2C0
00228  C126  D0 DB              BNE XXC103
00229  C128  4C 29 C3    XXC128 JMP XXC329
00230  C12B              ;********************************
00231  C12B  20 D7 AA    XXC12B JSR PRINTE
00232  C12E  20 D2 C2           JSR XXC2D2
00233  C131  A9 E8              LDA #$E8
00234  C133  85 BB              STA FNADR
00235  C135  A9 03              LDA #$03
00236  C137  85 BC              STA FNADR+1
00237  C139  A9 0A              LDA #$0A
00238  C13B  85 14              STA $14
00239  C13D  A9 00              LDA #$00
00240  C13F  85 15              STA $15
00241  C141  4C 03 C1           JMP XXC103
00242  C144              ;********************************
00243  C144  20 9A C2    GET    JSR XXC29A
00244  C147  20 C6 FF           JSR CHKIN
00245  C14A  A5 90              LDA $90
00246  C14C  F0 03              BEQ XXC151
00247  C14E  4C 94 C5           JMP XXC594
00248  C151              ;********************************
00249  C151  A9 01       XXC151 LDA #$01
00250  C153  20 B6 C2           JSR XXC2B6
00251  C156  20 CF FF    XXC156 JSR CHRIN
00252  C159  C9 0D              CMP #$0D
00253  C15B  F0 09              BEQ XXC166
00254  C15D  20 BC C2           JSR XXC2BC
00255  C160  A5 90              LDA $90
00256  C162  D0 20              BNE XXC184
00257  C164  F0 F0              BEQ XXC156
00258  C166  20 9E C1    XXC166 JSR XXC19E
00259  C169  20 CD C2           JSR XXC2CD
00260  C16C  C9 01              CMP #$01
00261  C16E  D0 08              BNE XXC178
00262  C170  20 9E C1           JSR XXC19E
00263  C173  20 9B C1           JSR XXC19B
00264  C176  D0 08              BNE XXC180
00265  C178  20 C0 C2    XXC178 JSR XXC2C0
00266  C17B  A9 00              LDA #$00
00267  C17D  20 BC C2           JSR XXC2BC
00268  C180  A5 90       XXC180 LDA $90
00269  C182  F0 CD              BEQ XXC151
00270  C184  98          XXC184 TYA 
00271  C185  20 B6 C2           JSR XXC2B6
00272  C188  A5 5F              LDA $5F
00273  C18A  85 2D              STA $2D
00274  C18C  A5 60              LDA $60
00275  C18E  85 2E              STA $2E






EDITORMEM.ASM......PAGE 0006

LINE# LOC   CODE        LINE


00276  C190  20 CC FF           JSR CLRCHN
00277  C193  A9 08              LDA #$08
00278  C195  20 C3 FF           JSR CLOSE
00279  C198  4C 2B C1           JMP XXC12B
00280  C19B              ;********************************
00281  C19B  20 9E C1    XXC19B JSR XXC19E
00282  C19E  A5 5F       XXC19E LDA $5F
00283  C1A0  D0 02              BNE XXC1A4
00284  C1A2  C6 60              DEC $60
00285  C1A4  C6 5F       XXC1A4 DEC $5F
00286  C1A6  60                 RTS 
00287  C1A7              ;********************************
00288  C1A7              ; PUT/CPUT 
00289  C1A7              ; SAVE A FILE OR PART OF A FILE
00290  C1A7              ; TO FLOPPY DISK
00291  C1A7              ;********************************
00292  C1A7  A2 00       CPUT   LDX #$00
00293  C1A9                                     ;BIT SETTMO
00294  C1A9  2C                 .BYTE $2C
00295  C1AA  A2          PUT    .BYTE $A2
00296  C1AB  FF                 .BYTE $FF
00297  C1AC  8E 6F C6           STX INDEX
00298  C1AF  20 4F C2           JSR XXC24F
00299  C1B2  20 C9 FF           JSR CHKOUT
00300  C1B5  A5 90              LDA $90
00301  C1B7  F0 12              BEQ XXC1CB
00302  C1B9  4C 94 C5           JMP XXC594
00303  C1BC              ;********************************
00304  C1BC  A9 0D       XXC1BC LDA #$0D
00305  C1BE  20 D2 FF           JSR CHROUT
00306  C1C1  A5 90              LDA $90
00307  C1C3  F0 03              BEQ XXC1C8
00308  C1C5  4C 94 C5           JMP XXC594
00309  C1C8              ;********************************
00310  C1C8  20 C0 C2    XXC1C8 JSR XXC2C0
00311  C1CB  20 CA C2    XXC1CB JSR XXC2CA
00312  C1CE  F0 08              BEQ XXC1D8
00313  C1D0  AE 6F C6           LDX INDEX
00314  C1D3  20 81 C4           JSR XXC481
00315  C1D6  B0 0F              BCS XXC1E7
00316  C1D8  20 CC FF    XXC1D8 JSR CLRCHN
00317  C1DB  A9 08              LDA #$08
00318  C1DD  20 C3 FF           JSR CLOSE
00319  C1E0  4C 29 C3           JMP XXC329
00320  C1E3              ;********************************
00321  C1E3  98          XXC1E3 TYA 
00322  C1E4  20 D2 FF           JSR CHROUT
00323  C1E7  20 CA C2    XXC1E7 JSR XXC2CA
00324  C1EA  A8                 TAY 
00325  C1EB  F0 CF              BEQ XXC1BC
00326  C1ED  C9 20              CMP #$20        ;' '
00327  C1EF  D0 08              BNE XXC1F9
00328  C1F1  8A                 TXA 
00329  C1F2  30 EF              BMI XXC1E3
00330  C1F4  D0 F1              BNE XXC1E7






EDITORMEM.ASM......PAGE 0007

LINE# LOC   CODE        LINE


00331  C1F6  E8                 INX 
00332  C1F7  D0 EA              BNE XXC1E3
00333  C1F9  C9 3B       XXC1F9 CMP #OLDLIN      ;';'
00334  C1FB  F0 04              BEQ XXC201
00335  C1FD  C9 27              CMP #$27        ;'''
00336  C1FF  D0 02              BNE XXC203
00337  C201  A2 FF       XXC201 LDX #$FF
00338  C203  8A          XXC203 TXA 
00339  C204  30 DD              BMI XXC1E3
00340  C206  AE 6F C6           LDX INDEX
00341  C209  F0 D8              BEQ XXC1E3
00342  C20B  A2 FF       XXC20B LDX #$FF
00343  C20D  A0 00              LDY #$00
00344  C20F  E8          XXC20F INX 
00345  C210  BD 00 02           LDA BASBUF,X
00346  C213  C9 20              CMP #$20        ;' '
00347  C215  F0 F8              BEQ XXC20F
00348  C217              ;********************************
00349  C217  24                 .BYTE $24
00350  C218              ;********************************
00351  C218  E8          XXC218 INX 
00352  C219  BD 00 02           LDA BASBUF,X
00353  C21C  C9 30              CMP #$30        ;'0'
00354  C21E  90 04              BCC XXC224
00355  C220  C9 3A              CMP #$3A        ;':'
00356  C222  90 F4              BCC XXC218
00357  C224  BD 00 02    XXC224 LDA BASBUF,X
00358  C227  C9 20              CMP #$20        ;' '
00359  C229  D0 01              BNE XXC22C
00360  C22B  E8                 INX 
00361  C22C  BD 00 02    XXC22C LDA BASBUF,X
00362  C22F  F0 09              BEQ XXC23A
00363  C231  29 7F              AND #$7F
00364  C233  99 00 02           STA BASBUF,Y
00365  C236  E8                 INX 
00366  C237  C8                 INY 
00367  C238  D0 F2              BNE XXC22C
00368  C23A  99 00 02    XXC23A STA BASBUF,Y
00369  C23D  C8                 INY 
00370  C23E  C8                 INY 
00371  C23F  99 00 02           STA BASBUF,Y
00372  C242  C8                 INY 
00373  C243  C8                 INY 
00374  C244  C8                 INY 
00375  C245  60                 RTS 
00376  C246              ;********************************
00377  C246  A2 00       XXC246 LDX #$00
00378  C248  86 90              STX $90
00379  C24A  86 B7              STX $B7
00380  C24C  4C 57 E2           JMP $E257
00381  C24F              ;********************************
00382  C24F              ; OPEN SOURCE FILE OF FLOPPY DISK
00383  C24F              ;********************************
00384  C24F  20 46 C2    XXC24F JSR XXC246
00385  C252  A0 00              LDY #$00






EDITORMEM.ASM......PAGE 0008

LINE# LOC   CODE        LINE


00386  C254  B1 BB       XXC254 LDA (FNADR),Y
00387  C256  91 2D              STA ($2D),Y
00388  C258  C8                 INY 
00389  C259  C4 B7              CPY $B7
00390  C25B  D0 F7              BNE XXC254
00391  C25D  A2 04              LDX #$04
00392  C25F  BD 6F C6    XXC25F LDA INDEX,X
00393  C262  91 2D              STA ($2D),Y
00394  C264  C8                 INY 
00395  C265  CA                 DEX 
00396  C266  D0 F7              BNE XXC25F
00397  C268  84 B7              STY $B7
00398  C26A  20 79 00           JSR $0079
00399  C26D  F0 03              BEQ XXC272
00400  C26F  20 0E E2           JSR CKCOMA
00401  C272  20 52 C4    XXC272 JSR XXC452
00402  C275  20 E6 E1    XXC275 JSR LSVPAR
00403  C278  A9 08              LDA #$08
00404  C27A  A8                 TAY 
00405  C27B  A6 BA              LDX $BA
00406  C27D  20 BA FF           JSR SETLFS
00407  C280  A5 B7              LDA $B7
00408  C282  A6 2D              LDX $2D
00409  C284  A4 2E              LDY $2E
00410  C286  20 BD FF           JSR SETNAM
00411  C289  20 C0 FF           JSR OPEN
00412  C28C  A5 90              LDA $90
00413  C28E  F0 07              BEQ XXC297
00414  C290  C9 40              CMP #$40        ;'@'
00415  C292  F0 03              BEQ XXC297
00416  C294  4C 94 C5           JMP XXC594
00417  C297              ;********************************
00418  C297  A2 08       XXC297 LDX #$08
00419  C299  60                 RTS 
00420  C29A              ;********************************
00421  C29A  20 46 C2    XXC29A JSR XXC246
00422  C29D  20 79 00           JSR $0079
00423  C2A0  F0 03              BEQ XXC2A5
00424  C2A2  20 0E E2           JSR CKCOMA
00425  C2A5  20 6B A9    XXC2A5 JSR LINGET
00426  C2A8  20 13 A6           JSR FNDLIN
00427  C2AB  A5 BB              LDA FNADR
00428  C2AD  A4 BC              LDY FNADR+1
00429  C2AF  85 2D              STA $2D
00430  C2B1  84 2E              STY $2E
00431  C2B3  4C 75 C2           JMP XXC275
00432  C2B6              ;********************************
00433  C2B6  20 B9 C2    XXC2B6 JSR XXC2B9
00434  C2B9  20 BC C2    XXC2B9 JSR XXC2BC
00435  C2BC  A0 00       XXC2BC LDY #$00
00436  C2BE  91 5F              STA ($5F),Y
00437  C2C0  E6 5F       XXC2C0 INC $5F
00438  C2C2  D0 02              BNE XXC2C6
00439  C2C4  E6 60              INC $60
00440  C2C6  60          XXC2C6 RTS 






EDITORMEM.ASM......PAGE 0009

LINE# LOC   CODE        LINE


00441  C2C7              ;********************************
00442  C2C7  20 CA C2           JSR XXC2CA
00443  C2CA  20 C0 C2    XXC2CA JSR XXC2C0
00444  C2CD  A0 00       XXC2CD LDY #$00
00445  C2CF  B1 5F              LDA ($5F),Y
00446  C2D1  60                 RTS 
00447  C2D2              ;********************************
00448  C2D2  A5 2B       XXC2D2 LDA $2B
00449  C2D4  85 5F              STA $5F
00450  C2D6  A5 2C              LDA $2C
00451  C2D8  85 60              STA $60
00452  C2DA  60                 RTS 
00453  C2DB              ;********************************
00454  C2DB  4C 08 AF    XXC2DB JMP $AF08
00455  C2DE              ;********************************
00456  C2DE  F0 FB       DELETE BEQ XXC2DB
00457  C2E0  20 52 C4           JSR XXC452
00458  C2E3  A5 5F              LDA $5F
00459  C2E5  A6 60              LDX $60
00460  C2E7  85 24              STA TEMP2
00461  C2E9  86 25              STX TEMP3
00462  C2EB  20 13 A6           JSR FNDLIN
00463  C2EE  90 0E              BCC XXC2FE
00464  C2F0  A0 01              LDY #$01
00465  C2F2  B1 5F              LDA ($5F),Y
00466  C2F4  F0 08              BEQ XXC2FE
00467  C2F6  AA                 TAX 
00468  C2F7  88                 DEY 
00469  C2F8  B1 5F              LDA ($5F),Y
00470  C2FA  85 5F              STA $5F
00471  C2FC  86 60              STX $60
00472  C2FE  A5 24       XXC2FE LDA TEMP2
00473  C300  38                 SEC 
00474  C301  E5 5F              SBC $5F
00475  C303  AA                 TAX 
00476  C304  A5 25              LDA TEMP3
00477  C306  E5 60              SBC $60
00478  C308  A8                 TAY 
00479  C309  B0 1E              BCS XXC329
00480  C30B  8A                 TXA 
00481  C30C  18                 CLC 
00482  C30D  65 2D              ADC $2D
00483  C30F  85 2D              STA $2D
00484  C311  98                 TYA 
00485  C312  65 2E              ADC $2E
00486  C314  85 2E              STA $2E
00487  C316  A0 00              LDY #$00
00488  C318  B1 5F       XXC318 LDA ($5F),Y
00489  C31A  91 24              STA (TEMP2),Y
00490  C31C  C8                 INY 
00491  C31D  D0 F9              BNE XXC318
00492  C31F  E6 60              INC $60
00493  C321  E6 25              INC TEMP3
00494  C323  A5 2E              LDA $2E
00495  C325  C5 25              CMP TEMP3






EDITORMEM.ASM......PAGE 0010

LINE# LOC   CODE        LINE


00496  C327  B0 EF              BCS XXC318
00497  C329              ;********************************
00498  C329              ;
00499  C329              ;********************************
00500  C329  20 33 A5    XXC329 JSR LINKPG
00501  C32C  A5 22              LDA TEMP0
00502  C32E  A6 23              LDX TEMP1
00503  C330  18                 CLC 
00504  C331  69 02              ADC #$02
00505  C333  85 2D              STA $2D
00506  C335  90 01              BCC XXC338
00507  C337  E8                 INX 
00508  C338  86 2E       XXC338 STX $2E
00509  C33A  20 59 A6           JSR CLRENT
00510  C33D  4C 74 A4           JMP READY
00511  C340              ;********************************
00512  C340  8D 69 C6    CHANGE STA XXC63F
00513  C343  A2 00              LDX #$00
00514  C345  86 33              STX $33
00515  C347  20 37 C4           JSR XXC437
00516  C34A  A2 02              LDX #$02
00517  C34C  86 49              STX $49
00518  C34E  D0 07              BNE XXC357
00519  C350  8D 69 C6    FIND   STA XXC63F
00520  C353  A2 00              LDX #$00
00521  C355  86 49              STX $49
00522  C357  20 37 C4    XXC357 JSR XXC437
00523  C35A  20 73 00           JSR $0073
00524  C35D  F0 03              BEQ XXC362
00525  C35F  20 FD AE           JSR ANDORE
00526  C362  20 52 C4    XXC362 JSR XXC452
00527  C365  20 D7 AA           JSR PRINTE
00528  C368  D0 0B              BNE XXC375
00529  C36A  C8          XXC36A INY 
00530  C36B  98                 TYA 
00531  C36C  18                 CLC 
00532  C36D  65 5F              ADC $5F
00533  C36F  85 5F              STA $5F
00534  C371  90 02              BCC XXC375
00535  C373  E6 60              INC $60
00536  C375  20 CA C2    XXC375 JSR XXC2CA
00537  C378  F0 05              BEQ XXC37F
00538  C37A  20 81 C4           JSR XXC481
00539  C37D  B0 03              BCS XXC382
00540  C37F  4C 2A A5    XXC37F JMP MAINE
00541  C382              ;********************************
00542  C382  8C 6A C6    XXC382 STY XXC640
00543  C385  EE 6A C6    XXC385 INC XXC640
00544  C388  AC 6A C6           LDY XXC640
00545  C38B  A6 31              LDX $31
00546  C38D  A5 32              LDA $32
00547  C38F  8D 6B C6           STA XXC641
00548  C392  B1 5F       XXC392 LDA ($5F),Y
00549  C394  F0 D4              BEQ XXC36A
00550  C396  DD 00 02           CMP BASBUF,X






EDITORMEM.ASM......PAGE 0011

LINE# LOC   CODE        LINE


00551  C399  D0 EA              BNE XXC385
00552  C39B  E8                 INX 
00553  C39C  C8                 INY 
00554  C39D  CE 6B C6           DEC XXC641
00555  C3A0  D0 F0              BNE XXC392
00556  C3A2  88                 DEY 
00557  C3A3  8C 69 C6           STY XXC63F
00558  C3A6  8C 6D C6           STY XXC643
00559  C3A9  A5 49              LDA $49
00560  C3AB  F0 66              BEQ XXC413
00561  C3AD  20 95 C4           JSR XXC495
00562  C3B0  A5 34              LDA $34
00563  C3B2  38                 SEC 
00564  C3B3  E5 32              SBC $32
00565  C3B5  8D 6C C6           STA XXC642
00566  C3B8  F0 2D              BEQ XXC3E7
00567  C3BA  C8          XXC3BA INY 
00568  C3BB  F0 C2              BEQ XXC37F
00569  C3BD  B1 5F              LDA ($5F),Y
00570  C3BF  D0 F9              BNE XXC3BA
00571  C3C1  18                 CLC 
00572  C3C2  98                 TYA 
00573  C3C3  6D 6C C6           ADC XXC642
00574  C3C6  C9 02              CMP #$02
00575  C3C8  90 49              BCC XXC413
00576  C3CA  C9 4B              CMP #$4B        ;'K'
00577  C3CC  B0 45              BCS XXC413
00578  C3CE  AD 6C C6           LDA XXC642
00579  C3D1  10 03              BPL XXC3D6
00580  C3D3  CE 6B C6           DEC XXC641
00581  C3D6  18          XXC3D6 CLC 
00582  C3D7  6D 69 C6           ADC XXC63F
00583  C3DA  8D 6D C6           STA XXC643
00584  C3DD  B0 05              BCS XXC3E4
00585  C3DF  20 CB C4           JSR XXC4CB
00586  C3E2  F0 03              BEQ XXC3E7
00587  C3E4  20 B1 C4    XXC3E4 JSR XXC4B1
00588  C3E7  AD 6D C6    XXC3E7 LDA XXC643
00589  C3EA  38                 SEC 
00590  C3EB  E5 34              SBC $34
00591  C3ED  A8                 TAY 
00592  C3EE  C8                 INY 
00593  C3EF  A5 34              LDA $34
00594  C3F1  F0 11              BEQ XXC404
00595  C3F3  8D 6E C6           STA XXC644
00596  C3F6  A6 33              LDX $33
00597  C3F8  BD 00 02    XXC3F8 LDA BASBUF,X
00598  C3FB  91 5F              STA ($5F),Y
00599  C3FD  E8                 INX 
00600  C3FE  C8                 INY 
00601  C3FF  CE 6E C6           DEC XXC644
00602  C402  D0 F4              BNE XXC3F8
00603  C404  18          XXC404 CLC 
00604  C405  A5 2D              LDA $2D
00605  C407  6D 6C C6           ADC XXC642






EDITORMEM.ASM......PAGE 0012

LINE# LOC   CODE        LINE


00606  C40A  85 2D              STA $2D
00607  C40C  A5 2E              LDA $2E
00608  C40E  6D 6B C6           ADC XXC641
00609  C411  85 2E              STA $2E
00610  C413  A6 43       XXC413 LDX INPPTR
00611  C415  A5 44              LDA INPPTR+1
00612  C417  20 CD BD           JSR LINPRT
00613  C41A  A0 00              LDY #$00
00614  C41C  A9 20              LDA #$20        ;' '
00615  C41E  20 D2 FF    XXC41E JSR CHROUT
00616  C421  C8                 INY 
00617  C422  D0 03              BNE XXC427
00618  C424  4C 2A A5           JMP MAINE
00619  C427              ;********************************
00620  C427  B1 5F       XXC427 LDA ($5F),Y
00621  C429  D0 F3              BNE XXC41E
00622  C42B  20 D7 AA           JSR PRINTE
00623  C42E  20 5A C5           JSR XXC55A
00624  C431  AC 6D C6           LDY XXC643
00625  C434  4C 82 C3           JMP XXC382
00626  C437              ;********************************
00627  C437  A4 7A       XXC437 LDY $7A
00628  C439  C8                 INY 
00629  C43A  94 31              STY $31,X
00630  C43C  A9 00              LDA #$00
00631  C43E  95 32              STA $32,X
00632  C440  B9 00 02    XXC440 LDA BASBUF,Y
00633  C443  F0 15              BEQ XXC45A
00634  C445  CD 69 C6           CMP XXC63F
00635  C448  F0 05              BEQ XXC44F
00636  C44A  F6 32              INC $32,X
00637  C44C  C8                 INY 
00638  C44D  D0 F1              BNE XXC440
00639  C44F  84 7A       XXC44F STY $7A
00640  C451  60                 RTS 
00641  C452              ;********************************
00642  C452  90 09       XXC452 BCC XXC45D
00643  C454  F0 07              BEQ XXC45D
00644  C456  C9 2D              CMP #$2D        ;'-'
00645  C458  F0 03              BEQ XXC45D
00646  C45A  4C 08 AF    XXC45A JMP $AF08
00647  C45D              ;********************************
00648  C45D  20 6B A9    XXC45D JSR LINGET
00649  C460  20 13 A6           JSR FNDLIN
00650  C463  20 79 00           JSR $0079
00651  C466  F0 0C              BEQ XXC474
00652  C468  C9 2D              CMP #$2D        ;'-'
00653  C46A  D0 EE              BNE XXC45A
00654  C46C  20 73 00           JSR $0073
00655  C46F  20 6B A9           JSR LINGET
00656  C472  D0 E6              BNE XXC45A
00657  C474  A5 14       XXC474 LDA $14
00658  C476  05 15              ORA $15
00659  C478  D0 06              BNE XXC480
00660  C47A  A9 FF              LDA #$FF






EDITORMEM.ASM......PAGE 0013

LINE# LOC   CODE        LINE


00661  C47C  85 14              STA $14
00662  C47E  85 15              STA $15
00663  C480  60          XXC480 RTS 
00664  C481              ;********************************
00665  C481  20 CA C2    XXC481 JSR XXC2CA
00666  C484  85 43              STA INPPTR
00667  C486  20 CA C2           JSR XXC2CA
00668  C489  85 44              STA INPPTR+1
00669  C48B  38                 SEC 
00670  C48C  A5 14              LDA $14
00671  C48E  E5 43              SBC INPPTR
00672  C490  A5 15              LDA $15
00673  C492  E5 44              SBC INPPTR+1
00674  C494  60                 RTS 
00675  C495              ;********************************
00676  C495  A5 5F       XXC495 LDA $5F
00677  C497  85 22              STA TEMP0
00678  C499  A5 60              LDA $60
00679  C49B  85 23              STA TEMP1
00680  C49D  A5 2D              LDA $2D
00681  C49F  85 24              STA TEMP2
00682  C4A1  A5 2E              LDA $2E
00683  C4A3  85 25              STA TEMP3
00684  C4A5  60                 RTS 
00685  C4A6              ;********************************
00686  C4A6  A5 22       XXC4A6 LDA TEMP0
00687  C4A8  C5 24              CMP TEMP2
00688  C4AA  D0 04              BNE XXC4B0
00689  C4AC  A5 23              LDA TEMP1
00690  C4AE  C5 25              CMP TEMP3
00691  C4B0  60          XXC4B0 RTS 
00692  C4B1              ;********************************
00693  C4B1  AC 69 C6    XXC4B1 LDY XXC63F
00694  C4B4  C8                 INY 
00695  C4B5  B1 22              LDA (TEMP0),Y
00696  C4B7  AC 6D C6           LDY XXC643
00697  C4BA  C8                 INY 
00698  C4BB  91 22              STA (TEMP0),Y
00699  C4BD  20 A6 C4           JSR XXC4A6
00700  C4C0  D0 01              BNE XXC4C3
00701  C4C2  60                 RTS 
00702  C4C3              ;********************************
00703  C4C3  E6 22       XXC4C3 INC TEMP0
00704  C4C5  D0 EA              BNE XXC4B1
00705  C4C7  E6 23              INC TEMP1
00706  C4C9  D0 E6              BNE XXC4B1
00707  C4CB  AC 69 C6    XXC4CB LDY XXC63F
00708  C4CE  B1 24              LDA (TEMP2),Y
00709  C4D0  AC 6D C6           LDY XXC643
00710  C4D3  91 24              STA (TEMP2),Y
00711  C4D5  20 A6 C4           JSR XXC4A6
00712  C4D8  D0 01              BNE XXC4DB
00713  C4DA  60                 RTS 
00714  C4DB              ;********************************
00715  C4DB  A5 24       XXC4DB LDA TEMP2






EDITORMEM.ASM......PAGE 0014

LINE# LOC   CODE        LINE


00716  C4DD  D0 02              BNE XXC4E1
00717  C4DF  C6 25              DEC TEMP3
00718  C4E1  C6 24       XXC4E1 DEC TEMP2
00719  C4E3  4C CB C4           JMP XXC4CB
00720  C4E6              ;********************************
00721  C4E6  20 52 C4    FORMAT JSR XXC452
00722  C4E9  D0 03              BNE XXC4EE
00723  C4EB  20 C0 C2    XXC4EB JSR XXC2C0
00724  C4EE  20 D7 AA    XXC4EE JSR PRINTE
00725  C4F1  20 5A C5           JSR XXC55A
00726  C4F4  20 CA C2           JSR XXC2CA
00727  C4F7  F0 05              BEQ XXC4FE
00728  C4F9  20 81 C4           JSR XXC481
00729  C4FC  B0 03              BCS XXC501
00730  C4FE  4C 74 A4    XXC4FE JMP READY
00731  C501              ;********************************
00732  C501  A6 43       XXC501 LDX INPPTR
00733  C503  A5 44              LDA INPPTR+1
00734  C505  20 CD BD           JSR LINPRT
00735  C508  A9 20              LDA #$20        ;' '
00736  C50A  20 D2 FF           JSR CHROUT
00737  C50D  A2 00              LDX #$00
00738  C50F  20 CA C2    XXC50F JSR XXC2CA
00739  C512  F0 D7              BEQ XXC4EB
00740  C514  C9 3B              CMP #OLDLIN      ;';'
00741  C516  F0 38              BEQ XXC550
00742  C518  C9 20              CMP #$20        ;' '
00743  C51A  F0 06              BEQ XXC522
00744  C51C  20 D2 FF           JSR CHROUT
00745  C51F  E8                 INX 
00746  C520  D0 ED              BNE XXC50F
00747  C522  E0 07       XXC522 CPX #$07
00748  C524  B0 06              BCS XXC52C
00749  C526  20 D2 FF           JSR CHROUT
00750  C529  E8                 INX 
00751  C52A  D0 F6              BNE XXC522
00752  C52C  20 CA C2    XXC52C JSR XXC2CA
00753  C52F  F0 BA              BEQ XXC4EB
00754  C531  C9 20              CMP #$20        ;' '
00755  C533  F0 F7              BEQ XXC52C
00756  C535  20 D2 FF    XXC535 JSR CHROUT
00757  C538  E8                 INX 
00758  C539  20 CA C2           JSR XXC2CA
00759  C53C  F0 AD              BEQ XXC4EB
00760  C53E  C9 3B              CMP #OLDLIN      ;';'
00761  C540  D0 F3              BNE XXC535
00762  C542  48                 PHA 
00763  C543  A9 20              LDA #$20        ;' '
00764  C545  E0 17       XXC545 CPX #$17
00765  C547  B0 06              BCS XXC54F
00766  C549  20 D2 FF           JSR CHROUT
00767  C54C  E8                 INX 
00768  C54D  D0 F6              BNE XXC545
00769  C54F  68          XXC54F PLA 
00770  C550  20 D2 FF    XXC550 JSR CHROUT






EDITORMEM.ASM......PAGE 0015

LINE# LOC   CODE        LINE


00771  C553  20 CA C2           JSR XXC2CA
00772  C556  F0 93              BEQ XXC4EB
00773  C558  D0 F6              BNE XXC550
00774  C55A  20 E4 FF    XXC55A JSR GETIN
00775  C55D  F0 1E              BEQ XXC57D
00776  C55F  C9 03              CMP #$03
00777  C561  D0 06              BNE XXC569
00778  C563  20 59 A6    XXC563 JSR CLRENT
00779  C566  4C 74 A4           JMP READY
00780  C569              ;********************************
00781  C569  C9 20       XXC569 CMP #$20        ;' '
00782  C56B  D0 10              BNE XXC57D
00783  C56D  20 E4 FF    XXC56D JSR GETIN
00784  C570  C9 20              CMP #$20        ;' '
00785  C572  F0 F9              BEQ XXC56D
00786  C574  20 E4 FF    XXC574 JSR GETIN
00787  C577  F0 FB              BEQ XXC574
00788  C579  C9 03              CMP #$03
00789  C57B  F0 E6              BEQ XXC563
00790  C57D  60          XXC57D RTS 
00791  C57E              ;********************************
00792  C57E              ; PRINT MESSAGE TO SCREEN
00793  C57E              ; REG X CONTAINS INDEX INTO
00794  C57E              ; MESSAGE TABLE
00795  C57E              ;********************************
00796  C57E  8E 6F C6    PRTXT  STX INDEX       ;$C57E
00797  C581  AE 6F C6    PRTNEX LDX INDEX       ;$C581
00798  C584  BD F2 C5           LDA MSGSTR,X
00799  C587  08                 PHP 
00800  C588  29 7F              AND #$7F
00801  C58A  20 D2 FF           JSR CHROUT
00802  C58D  EE 6F C6           INC INDEX
00803  C590  28                 PLP 
00804  C591  10 EE              BPL PRTNEX
00805  C593  60                 RTS 
00806  C594              ;********************************
00807  C594              ; PRINT 'FILE ERROR'
00808  C594              ;********************************
00809  C594  20 CC FF    XXC594 JSR CLRCHN
00810  C597  A9 08              LDA #$08
00811  C599  20 C3 FF           JSR CLOSE
00812  C59C                                     ;LDX #$4D      ;'M'
00813  C59C  A2 6C              LDX #MSGERR-MSGSTR ;$4D.   
00814  C59E  20 7E C5           JSR PRTXT
00815  C5A1  4C 74 A4           JMP READY
00816  C5A4              ;********************************
00817  C5A4              ; COMMANDS
00818  C5A4              ; AUTO
00819  C5A4              ; CHANGE 
00820  C5A4              ; CPUT
00821  C5A4              ; DELETE
00822  C5A4              ; FIND
00823  C5A4              ; FORMAT
00824  C5A4              ; GET
00825  C5A4              ; KILL






EDITORMEM.ASM......PAGE 0016

LINE# LOC   CODE        LINE


00826  C5A4              ; NUMBER
00827  C5A4              ; PUT
00828  C5A4              ;********************************
00829  C5A4  41 55 54    CMDTAB .BYTE 'AUT'     ;$C5A4
00830  C5A7  CF                 .BYTE $CF       ;'O'+$80
00831  C5A8  43 48              .BYTE 'CHANG'
00832  C5AD  C5                 .BYTE $C5       ;'E'+$80
00833  C5AE  43 50 55           .BYTE 'CPU'
00834  C5B1  D4                 .BYTE $D4       ;'T'+$80
00835  C5B2  44 45              .BYTE 'DELET'
00836  C5B7  C5                 .BYTE $C5       ;'E'+$80
00837  C5B8  46 49 4E           .BYTE 'FIN'
00838  C5BB  C4                 .BYTE $C4       ;'D'+$80
00839  C5BC  46 4F              .BYTE 'FORMA'
00840  C5C1  D4                 .BYTE $D4       ;'T'+$80
00841  C5C2  47 45              .BYTE 'GE'
00842  C5C4  D4                 .BYTE $D4       ;'T'+$80
00843  C5C5  4B 49 4C           .BYTE 'KIL'
00844  C5C8  CC                 .BYTE $CC       ;'L'+$80
00845  C5C9  4E 55              .BYTE 'NUMBE'
00846  C5CE  D2                 .BYTE $D2       ;'R'+$80
00847  C5CF  50 55              .BYTE 'PU'
00848  C5D1  D4                 .BYTE $D4       ;'T'+$80
00849  C5D2              ;
00850  C5D2  48 45 4C           .BYTE 'HEL'
00851  C5D5  D0                 .BYTE $D0       ;'P'+$80
00852  C5D6  43 4C              .BYTE 'CL'
00853  C5D8  D3                 .BYTE $D3       ; 'S'+$80
00854  C5D9              ;**************************************
00855  C5D9  00                 .BYTE $00
00856  C5DA              ;**************************************
00857  C5DA              ; VECTOR TABLE - ADDRESS - 1
00858  C5DA              ;**************************************
00859  C5DA              ; AUTO
00860  C5DA              ;VECTOR .BYTE $91 ;XXC5D3
00861  C5DA              ;XXC5D4 .BYTE $C0 ;XXC3D4
00862  C5DA  91 C0       VECTOR .WORD AUTO-1
00863  C5DC              ; CHANGE
00864  C5DC                                     ;.BYTE $3F
00865  C5DC                                     ;.BYTE $C3
00866  C5DC  3F C3              .WORD CHANGE-1
00867  C5DE              ; CPUT
00868  C5DE                                     ;.BYTE $A6
00869  C5DE                                     ;.BYTE $C1
00870  C5DE  A6 C1              .WORD CPUT-1
00871  C5E0              ; DELETE
00872  C5E0                                     ;.BYTE $DD
00873  C5E0                                     ;.BYTE $C2
00874  C5E0  DD C2              .WORD DELETE-1
00875  C5E2              ; FIND
00876  C5E2                                     ;.BYTE $4F
00877  C5E2                                     ;.BYTE $C3
00878  C5E2  4F C3              .WORD FIND-1
00879  C5E4              ; FORMAT
00880  C5E4                                     ;.BYTE $E5






EDITORMEM.ASM......PAGE 0017

LINE# LOC   CODE        LINE


00881  C5E4                                     ;.BYTE $C4
00882  C5E4  E5 C4              .WORD FORMAT-1
00883  C5E6              ; GET
00884  C5E6                                     ;.BYTE $43
00885  C5E6                                     ;.BYTE $C1
00886  C5E6  43 C1              .WORD GET-1
00887  C5E8              ; KILL
00888  C5E8                                     ;.BYTE $0D
00889  C5E8                                     ;.BYTE $C0
00890  C5E8  0D C0              .WORD KILL-1
00891  C5EA              ; NUMBER
00892  C5EA                                     ;.BYTE $E6
00893  C5EA                                     ;.BYTE $C0
00894  C5EA  E6 C0              .WORD NUMBER-1
00895  C5EC              ; PUT
00896  C5EC                                     ;.BYTE $A9
00897  C5EC                                     ;.BYTE $C1
00898  C5EC  A9 C1              .WORD PUT-1
00899  C5EE              ; HELP
00900  C5EE  79 C6              .WORD HELP-1
00901  C5F0              ; CLS
00902  C5F0  73 C6              .WORD CLS-1
00903  C5F2              ;**************************************
00904  C5F2              ; MESSAGE TABLE
00905  C5F2              ;**************************************   
00906  C5F2  0D          MSGSTR .BYTE $0D       ;$C5E7
00907  C5F3  0D                 .BYTE $0D
00908  C5F4  20 20              .BYTE '      COMMODORE 64 EDITOR V072982'
00909  C615  0D                 .BYTE $0D
00910  C616  28 43              .BYTE '(C) 1982 BY COMMODORE BUSINESS MACH
INES'
00911  C63D  0D                 .BYTE $0D
00912  C63E  20 20              .BYTE '       2016 EXTENSION BY W.D.M'
00913  C65C  0D                 .BYTE $0D
00914  C65D  8D                 .BYTE $8D       ; $0D WITH BIT 8 SET
00915  C65E  0D          MSGERR .BYTE $0D
00916  C65F  46 49              .BYTE 'FILE ERRO'
00917  C668  D2                 .BYTE $D2       ; $52 (R) WITH BIT 8 SET
00918  C669              ;**************************************   
00919  C669  00          XXC63F .BYTE $00       ;XXC63F
00920  C66A  00          XXC640 .BYTE $00       ;XXC640
00921  C66B  00          XXC641 .BYTE $00       ;XXC641
00922  C66C  00          XXC642 .BYTE $00       ;XXC642
00923  C66D  00          XXC643 .BYTE $00       ;XXC643
00924  C66E  00          XXC644 .BYTE $00       ;XXC644
00925  C66F  00          INDEX  .BYTE $00       ;$C645
00926  C670  57 2C              .BYTE 'W,S,'
00927  C674              ;********************************
00928  C674              ; CLEAR SCREEN
00929  C674              ;********************************
00930  C674  A9 93       CLS    LDA #$93
00931  C676  20 D2 FF           JSR CHROUT
00932  C679  60                 RTS
00933  C67A              ;********************************
00934  C67A              ; PRINT HELP TEXT
00935  C67A              ;********************************






EDITORMEM.ASM......PAGE 0018

LINE# LOC   CODE        LINE


00936  C67A  EA          HELP   NOP
00937  C67B              ;********************************
00938  C67B              ; HELP CODE APPENDED HERE
00939  C67B              ;********************************
00940  C67B              .END
00941  C67B              ;********************************
00942  C67B              .FIL   EDHELPMEM.ASM
00943  C67B              ;********************************
00944  C67B              ; PRINT HELP TEXT FOR MEMORY
00945  C67B              ;********************************
00946  C67B              ;HELP
00947  C67B  A2 00              LDX #$00
00948  C67D  20 86 C6           JSR PRTHP
00949  C680  20 59 A6           JSR CLRENT
00950  C683  4C 74 A4           JMP READY
00951  C686              ;********************************
00952  C686              ; PRINT MESSAGE TO SCREEN
00953  C686              ; REG X CONTAINS INDEX INTO
00954  C686              ; MESSAGE TABLE
00955  C686              ;********************************
00956  C686  8E 6F C6    PRTHP  STX INDEX       ;$C57E
00957  C689  AE 6F C6    PRTHPX LDX INDEX       ;$C581
00958  C68C  BD 9C C6           LDA HELPTX,X
00959  C68F  08                 PHP 
00960  C690  29 7F              AND #$7F
00961  C692  20 D2 FF           JSR CHROUT
00962  C695  EE 6F C6           INC INDEX
00963  C698  28                 PLP 
00964  C699  10 EE              BPL PRTHPX
00965  C69B  60                 RTS 
00966  C69C              ;********************************
00967  C69C  0D          HELPTX .BYTE $0D
00968  C69D  41 55              .BYTE 'AUTO'
00969  C6A1  0D                 .BYTE $0D
00970  C6A2  43 48              .BYTE 'CHANGE'
00971  C6A8  0D                 .BYTE $0D
00972  C6A9  43 50              .BYTE 'CPUT'
00973  C6AD  0D                 .BYTE $0D
00974  C6AE  44 45              .BYTE 'DELETE'
00975  C6B4  0D                 .BYTE $0D
00976  C6B5  46 49              .BYTE 'FIND'
00977  C6B9  0D                 .BYTE $0D
00978  C6BA  46 4F              .BYTE 'FORMAT'
00979  C6C0  0D                 .BYTE $0D
00980  C6C1  47 45 54           .BYTE 'GET'
00981  C6C4  0D                 .BYTE $0D
00982  C6C5  4B 49              .BYTE 'KILL'
00983  C6C9  0D                 .BYTE $0D
00984  C6CA  4E 55              .BYTE 'NUMBER'
00985  C6D0  0D                 .BYTE $0D
00986  C6D1  50 55 54           .BYTE 'PUT'
00987  C6D4  0D                 .BYTE $0D
00988  C6D5  43 4C 53           .BYTE 'CLS'
00989  C6D8  8D                 .BYTE $8D       ; $0D WITH BIT 8 SET
00990  C6D9              ;********************************






EDITORMEM.ASM......PAGE 0019

LINE# LOC   CODE        LINE


00991  C6D9              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ANDORE   AEFD    AUTO     C092    BASBUF   0200    CHANGE   C340
 CHKIN    FFC6    CHKOUT   FFC9    CHRIN    FFCF    CHRMOD   008A
 CHROUT   FFD2    CKCOMA   E20E    CLOSE    FFC3    CLRCHN   FFCC
 CLRENT   A659    CLS      C674    CMDTAB   C5A4    CPUT     C1A7
 DELETE   C2DE    FIND     C350    FNADR    00BB    FNDLIN   A613
 FORMAT   C4E6    FOUT     BDDD    GET      C144    GETIN    FFE4
 HELP     C67A    HELPTX   C69C    INDEX    C66F    INPPTR   0043
 KILL     C00E    LINGET   A96B    LINKPG   A533    LINPRT   BDCD
 LSVPAR   E1E6    MAINE    A52A    MSGERR   C65E    MSGSTR   C5F2
 NUMBER   C0E7    OLDLIN   003B    OPEN     FFC0    PRINTE   AAD7
 PRTHP    C686    PRTHPX   C689    PRTNEX   C581    PRTXT    C57E
 PUT      C1AA    READY    A474    SETLFS   FFBA    SETNAM   FFBD
 SETTMO   FFA2    SGNENT   BC49    STACK    0100    TEMP0    0022
 TEMP1    0023    TEMP2    0024    TEMP3    0025    VECTOR   C5DA
 XXC01D   C01D    XXC02C   C02C    XXC03E   C03E    XXC04D   C04D
 XXC05A   C05A    XXC05C   C05C    XXC06C   C06C    XXC079   C079
 XXC07D   C07D    XXC0A0   C0A0    XXC0CE   C0CE    XXC0D9   C0D9
 XXC0E1   C0E1    XXC103   C103    XXC11E   C11E    XXC128   C128
 XXC12B   C12B    XXC151   C151    XXC156   C156    XXC166   C166
 XXC178   C178    XXC180   C180    XXC184   C184    XXC19B   C19B
 XXC19E   C19E    XXC1A4   C1A4    XXC1BC   C1BC    XXC1C8   C1C8
 XXC1CB   C1CB    XXC1D8   C1D8    XXC1E3   C1E3    XXC1E7   C1E7
 XXC1F9   C1F9    XXC201   C201    XXC203   C203    XXC20B   C20B
 XXC20F   C20F    XXC218   C218    XXC224   C224    XXC22C   C22C
 XXC23A   C23A    XXC246   C246    XXC24F   C24F    XXC254   C254
 XXC25F   C25F    XXC272   C272    XXC275   C275    XXC297   C297
 XXC29A   C29A    XXC2A5   C2A5    XXC2B6   C2B6    XXC2B9   C2B9
 XXC2BC   C2BC    XXC2C0   C2C0    XXC2C6   C2C6    XXC2CA   C2CA
 XXC2CD   C2CD    XXC2D2   C2D2    XXC2DB   C2DB    XXC2FE   C2FE
 XXC318   C318    XXC329   C329    XXC338   C338    XXC357   C357
 XXC362   C362    XXC36A   C36A    XXC375   C375    XXC37F   C37F
 XXC382   C382    XXC385   C385    XXC392   C392    XXC3BA   C3BA
 XXC3D6   C3D6    XXC3E4   C3E4    XXC3E7   C3E7    XXC3F8   C3F8
 XXC404   C404    XXC413   C413    XXC41E   C41E    XXC427   C427
 XXC437   C437    XXC440   C440    XXC44F   C44F    XXC452   C452
 XXC45A   C45A    XXC45D   C45D    XXC474   C474    XXC480   C480
 XXC481   C481    XXC495   C495    XXC4A6   C4A6    XXC4B0   C4B0
 XXC4B1   C4B1    XXC4C3   C4C3    XXC4CB   C4CB    XXC4DB   C4DB
 XXC4E1   C4E1    XXC4EB   C4EB    XXC4EE   C4EE    XXC4FE   C4FE
 XXC501   C501    XXC50F   C50F    XXC522   C522    XXC52C   C52C
 XXC535   C535    XXC545   C545    XXC54F   C54F    XXC550   C550
 XXC55A   C55A    XXC563   C563    XXC569   C569    XXC56D   C56D
 XXC574   C574    XXC57D   C57D    XXC594   C594    XXC63F   C669
 XXC640   C66A    XXC641   C66B    XXC642   C66C    XXC643   C66D
 XXC644   C66E    XXCC0B   C00B    XXCC0C   C00C    XXCC0D   C00D








SYMBOL TABLE

SYMBOL VALUE
 XXCC0F   C00F   

END OF ASSEMBLY

CROSS REFERENCE......PAGE    1


  ANDORE $AEFD    53   205   211   525
  AUTO   $C092   160   862
  BASBUF $0200    45   133   345   352   357   361   364   368   371   550

                 597   632
  CHANGE $C340   512   866
  CHKIN  $FFC6    66   244
  CHKOUT $FFC9    67   299
  CHRIN  $FFCF    69   251
  CHRMOD $008A    39    94    96    98
  CHROUT $FFD2    70   305   322   615   736   744   749   756   766   770

                 801   931   961
  CKCOMA $E20E    61   400   424
  CLOSE  $FFC3    65   278   318   811
  CLRCHN $FFCC    68   276   316   809
  CLRENT $A659    50   509   778   949
  CLS    $C674   902   930
  CMDTAB $C5A4   135   141   143   829
  CPUT   $C1A7   292   870
  DELETE $C2DE   456   874
  FIND   $C350   519   878
  FNADR  $00BB    40   208   210   217   220   221   224   234   236   386

                 427   428
  FNDLIN $A613    49   204   426   462   649
  FORMAT $C4E6   721   882
  FOUT   $BDDD    56   185
  GET    $C144   243   886
  GETIN  $FFE4    71   774   783   786
  HELP   $C67A   900   936
  HELPTX $C69C   958   967
  INDEX  $C66F   297   313   340   392   796   797   802   925   956   957

                 962
  INPPTR $0043    38   610   611   666   668   671   673   732   733
  KILL   $C00E    91   890
  LINGET $A96B    51   160   170   203   206   212   425   648   655
  LINKPG $A533    48   500
  LINPRT $BDCD    55   612   734
  LSVPAR $E1E6    60   402
  MAINE  $A52A    47   540   618
  MSGERR $C65E   813   915
  MSGSTR $C5F2   798   813   906
  NUMBER $C0E7   202   894
  OLDLIN $003B    37    77    78   162   164   172   173   177   180   333

                 740   760
  OPEN   $FFC0    64   411
  PRINTE $AAD7    52   231   527   622   724
  PRTHP  $C686   948   956
  PRTHPX $C689   957   964
  PRTNEX $C581   797   804
  PRTXT  $C57E    80   796   814
  PUT    $C1AA   295   898
  READY  $A474    46   510   730   779   815   950
  SETLFS $FFBA    62   406
  SETNAM $FFBD    63   410
* SETTMO $FFA2    72
  SGNENT $BC49    54   184
  STACK  $0100    41   111   114







CROSS REFERENCE......PAGE    2


  TEMP0  $0022    33   501   677   686   695   698   703
  TEMP1  $0023    34   502   679   689   705
  TEMP2  $0024    35   460   472   489   681   687   708   710   715   718

  TEMP3  $0025    36   461   476   493   495   683   690   717
  VECTOR $C5DA   153   155   862
  XXC01D $C01D   101   109
  XXC02C $C02C    95    97   109
  XXC03E $C03E   113   117   145   157   169
  XXC04D $C04D   116   125
  XXC05A $C05A   132   144
  XXC05C $C05C   133   148
  XXC06C $C06C   140   142
  XXC079 $C079   136   146
  XXC07D $C07D   138   149
  XXC0A0 $C0A0   127   167
  XXC0CE $C0CE   190   194
  XXC0D9 $C0D9   191   195
  XXC0E1 $C0E1   171   174   199
  XXC103 $C103   213   228   241
  XXC11E $C11E   225   226
  XXC128 $C128   214   229
  XXC12B $C12B   202   231   279
  XXC151 $C151   246   249   269
  XXC156 $C156   251   257
  XXC166 $C166   253   258
  XXC178 $C178   261   265
  XXC180 $C180   264   268
  XXC184 $C184   256   270
  XXC19B $C19B   263   281
  XXC19E $C19E   258   262   281   282
  XXC1A4 $C1A4   283   285
  XXC1BC $C1BC   304   325
  XXC1C8 $C1C8   307   310
  XXC1CB $C1CB   301   311
  XXC1D8 $C1D8   312   316
  XXC1E3 $C1E3   321   329   332   339   341
  XXC1E7 $C1E7   315   323   330
  XXC1F9 $C1F9   327   333
  XXC201 $C201   334   337
  XXC203 $C203   336   338
  XXC20B $C20B   199   342
  XXC20F $C20F   344   347
  XXC218 $C218   351   356
  XXC224 $C224   354   357
  XXC22C $C22C   359   361   367
  XXC23A $C23A   362   368
  XXC246 $C246   377   384   421
  XXC24F $C24F   298   384
  XXC254 $C254   386   390
  XXC25F $C25F   392   396
  XXC272 $C272   399   401
  XXC275 $C275   402   431
  XXC297 $C297   413   415   418
  XXC29A $C29A   243   421
  XXC2A5 $C2A5   423   425
  XXC2B6 $C2B6   250   271   433







CROSS REFERENCE......PAGE    3


  XXC2B9 $C2B9   433   434
  XXC2BC $C2BC   218   222   254   267   434   435
  XXC2C0 $C2C0   215   227   265   310   437   443   723
  XXC2C6 $C2C6   438   440
  XXC2CA $C2CA   213   225   311   323   442   443   536   665   667   726

                 738   752   758   771
  XXC2CD $C2CD   259   444
  XXC2D2 $C2D2   232   448
  XXC2DB $C2DB   454   456
  XXC2FE $C2FE   463   466   472
  XXC318 $C318   488   491   496
  XXC329 $C329    99   165   229   319   479   500
  XXC338 $C338   506   508
  XXC357 $C357   518   522
  XXC362 $C362   524   526
  XXC36A $C36A   529   549
  XXC375 $C375   528   534   536
  XXC37F $C37F   537   540   568
  XXC382 $C382   539   542   625
  XXC385 $C385   543   551
  XXC392 $C392   548   555
  XXC3BA $C3BA   567   570
  XXC3D6 $C3D6   579   581
  XXC3E4 $C3E4   584   587
  XXC3E7 $C3E7   566   586   588
  XXC3F8 $C3F8   597   602
  XXC404 $C404   594   603
  XXC413 $C413   560   575   577   610
  XXC41E $C41E   615   621
  XXC427 $C427   617   620
  XXC437 $C437   515   522   627
  XXC440 $C440   632   638
  XXC44F $C44F   635   639
  XXC452 $C452   401   457   526   642   721
  XXC45A $C45A   633   646   653   656
  XXC45D $C45D   642   643   645   648
  XXC474 $C474   651   657
  XXC480 $C480   659   663
  XXC481 $C481   314   538   665   728
  XXC495 $C495   561   676
  XXC4A6 $C4A6   686   699   711
  XXC4B0 $C4B0   688   691
  XXC4B1 $C4B1   587   693   704   706
  XXC4C3 $C4C3   700   703
  XXC4CB $C4CB   585   707   719
  XXC4DB $C4DB   712   715
  XXC4E1 $C4E1   716   718
  XXC4EB $C4EB   723   739   753   759   772
  XXC4EE $C4EE   722   724
  XXC4FE $C4FE   727   730
  XXC501 $C501   729   732
  XXC50F $C50F   738   746
  XXC522 $C522   743   747   751
  XXC52C $C52C   748   752   755
  XXC535 $C535   756   761
  XXC545 $C545   764   768







CROSS REFERENCE......PAGE    4


  XXC54F $C54F   765   769
  XXC550 $C550   741   770   773
  XXC55A $C55A   623   725   774
  XXC563 $C563   778   789
  XXC569 $C569   777   781
  XXC56D $C56D   783   785
  XXC574 $C574   786   787
  XXC57D $C57D   775   782   790
  XXC594 $C594   247   302   308   416   809
  XXC63F $C669   129   139   150   512   519   557   582   634   693   707

                 919
  XXC640 $C66A   542   543   544   920
  XXC641 $C66B   101   121   547   554   580   608   921
  XXC642 $C66C   104   119   125   565   573   578   605   922
  XXC643 $C66D   105   118   558   583   588   624   696   709   923
  XXC644 $C66E   106   117   595   601   924
* XXCC0B $C00B    88
* XXCC0C $C00C    89
* XXCC0D $C00D    90
* XXCC0F $C00F    92












































































































