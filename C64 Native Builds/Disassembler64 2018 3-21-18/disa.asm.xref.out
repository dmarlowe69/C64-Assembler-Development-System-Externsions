
DISA.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER64......PAGE 0002

LINE# LOC   CODE        LINE


00003  0000              ;*********************************
00004  0000              *=$0801                ;START OF BASIC
00005  0801              ;*********************************
00006  0801              ; SET BSTUB TO ONE TO ALLOW FOR
00007  0801              ; INSERTION OF BASIC STUB CODE
00008  0801              ;*********************************
00009  0801              BSTUB  = 1
00010  0801              ;*********************************
00011  0801              ;
00012  0801              ;        DISASSEMBLER64
00013  0801              ;    DISASSEMBLER.C64 V080282
00014  0801              ;    SYMBOLIC DISASSEMBLER
00015  0801              ;       BY DENTON MARLOWE
00016  0801              ;
00017  0801              ;  (C)1986 BY DENTON MARLOWE
00018  0801              ;
00019  0801              ; MACRO ASSEMBLER DEVELOPMENT SYSTEM
00020  0801              ;  (C) 1982 BY COMMODORE MACHINES
00021  0801              ;
00022  0801              ;*********************************
00023  0801              ;
00024  0801              ; BASIC FORMAT PROGRAM
00025  0801              ;
00026  0801              ; 10 SYS(2063)
00027  0801              ;
00028  0801              ;*********************************
00030  0801              ;.IF  BSTUB == 1
00031  0801  0D 08              .WORD BASIC     ;NEXT LINE POINTER
00032  0803  0A                 .BYTE $0A,$00   ;LINE NUMBER
00032  0804  00 
00033  0805  9E                 .BYTE $9E       ;SYS COMMAND
00034  0806  28 32              .BYTE '(2063)'  ;ASCII (2063)
00035  080C  00                 .BYTE 0         ;END OF LINE
00036  080D  00          BASIC  .BYTE 0,0       ;END OF BASIC
00036  080E  00 
00038  080F              ;.FI
00039  080F              ;*********************************
00040  080F              .LIB   DIS.ASM
00041  080F              ;*********************************
00042  080F              ; FILE DIS.ASM
00043  080F              ;*********************************
00044  080F              ;
00045  080F              ;        DISASSEMBLER64
00046  080F              ;    SYMBOLIC DISASSEMBLER
00047  080F              ;       BY DENTON MARLOWE
00048  080F              ;
00049  080F              ;  (C)1986 BY DENTON MARLOWE
00050  080F              ;
00051  080F              ;*********************************
00052  080F              ; KERNAL ADDRESS
00053  080F              ;*********************************
00054  080F              VICREG=$D011           ;SCREEN REGISTER
00055  080F              CHROUT=$FFD2           ;OUTPUT CHARACTER
00056  080F              CHKIN  =$FFC6          ;OPEN INPUT FILE
00057  080F              CHRIN  =$FFCF          ;GET KEYBOARD INPUT






DISASSEMBLER64......PAGE 0003

LINE# LOC   CODE        LINE


00058  080F              GETIN  =$FFE4          ;GET KEYBOARD CHAR
00059  080F              CLRCHN=$FFCC           ;RESET I/O CHANNELS
00060  080F              STOP   =$FFE1          ;CHECK FOR STOP
00061  080F              READST=$FFB7           ;READ ST
00062  080F              SETNAM=$FFBD           ;SET FILENAME
00063  080F              SETLFS=$FFBA           ;SET LOGICAL FILE
00064  080F              OPEN   =$FFC0          ;OPEN FILE
00065  080F              CHKOUT=$FFC9           ;OPEN OUTPUT CHANNEL
00066  080F              CLOSE  =$FFC3          ;CLOSE LOGICAL FILE
00067  080F              WREADY=$E391           ;BASIC RETURN
00068  080F              ZEROUR=$02             ;ZEROPAGE POINTER
00069  080F              MEMSIZ=$37             ;TOP OF FREE RAM+1
00070  080F              ;*********************************
00071  080F              ;        ENTRY POINT
00072  080F              ;*********************************
00073  080F  4C 21 0A    STARTD JMP DISASS
00074  0812              ;*********************************
00075  0812              ;       VARIABLES
00076  0812              ;*********************************
00077  0812  31          PASS   .BYTE '1'       ;PASS INDICATOR
00078  0813  31          IPASS  .BYTE '1'       ;INTERNAL PASS
00079  0814  32          EPASS  .BYTE '2'       ;EXTERNAL PASS
00080  0815  33          CPASS  .BYTE '3'       ;PRINTING PASS
00081  0816  34          SPASS  .BYTE '4'       ;SYMBOL PASS
00082  0817              ;*********************************
00083  0817  AA          XOPT   .BYTE $AA       ;LABEL GENERATION
00084  0818  AA          ROPT   .BYTE $AA       ;REL ADDRESS OPT
00085  0819  AA          DEVICE .BYTE $AA       ;OUTPUT DEVICE
00086  081A  AA          OUTPUT .BYTE $AA       ;OUTPUT FLAG
00087  081B  AA          WINDOW .BYTE $AA       ;WINDOW FLAG
00088  081C  AA          FOROPT .BYTE $AA       ;FORMAT FLAG
00089  081D  AA          COMOPT .BYTE $AA       ;COMMENT FLAG
00090  081E              ;*********************************
00091  081E              ; DISASSEMBLY ADDRESS POINTERS
00092  081E              ;*********************************
00093  081E  AA AA       SA     .WORD $AAAA     ;START ADDRESS
00094  0820  AA AA       EA     .WORD $AAAA     ;END ADDRESS
00095  0822  AA AA       SELECT .WORD $AAAA     ;BYTE POINTER
00096  0824  AA AA       OFFSET .WORD $AAAA     ;ADDRESS OFFSET
00097  0826  AA AA       SAGOL  .WORD $AAAA     ;GOLBAL START
00098  0828  AA AA       EAGOL  .WORD $AAAA     ;GOLBAL END
00099  082A  AA AA       SAOUT  .WORD $AAAA     ;START ADDRESS
00100  082C  AA AA       EAOUT  .WORD $AAAA     ;END ADDRESS
00101  082E              ;*********************************
00102  082E              ; INTERNAL ADDRESS TABLE
00103  082E              ;*********************************
00104  082E  AA AA       TABINP .WORD $AAAA     ;TABLE POINTER
00105  0830  AA AA       TABINS .WORD $AAAA     ;TABLE START
00106  0832  AA AA       TABINE .WORD $AAAA     ;TABLE END
00107  0834              ;*********************************
00108  0834              ; SORT TABLE POINTERS
00109  0834              ;*********************************
00110  0834  AA AA       SMALLS .WORD $AAAA     ;TABLE START
00111  0836  AA AA       SMALLP .WORD $AAAA     ;TABLE POINTER
00112  0838              ;*********************************






DISASSEMBLER64......PAGE 0004

LINE# LOC   CODE        LINE


00113  0838              ; SYMBOL TABLE
00114  0838              ;*********************************
00115  0838  AA          SYMBOL .BYTE $AA       ;SYMBOL OPTION
00116  0839  AA AA       SYMBOP .WORD $AAAA     ;TABLE POINTER
00117  083B  AA AA       SYMBOS .WORD $AAAA     ;TABLE START
00118  083D  AA AA       SYMBOE .WORD $AAAA     ;TABLE END
00119  083F              ;*********************************
00120  083F              ; UNDEFINED SYMBOL TABLE
00121  083F              ;*********************************
00122  083F  AA AA       UYMBOP .WORD $AAAA     ;TABLE POINTER
00123  0841  AA AA       UYMBOS .WORD $AAAA     ;TABLE START
00124  0843  AA AA       UYMBOE .WORD $AAAA     ;TABLE END
00125  0845              ;*********************************
00126  0845              ; TEMP WORKING STORAGE
00127  0845              ;*********************************
00128  0845  AA AA       WORKED .WORD $AAAA     ;TWO BYTE OP
00129  0847  AA AA       WORKER .WORD $AAAA     ;TWO BYTE OP
00130  0849  AA AA       SAVEP  .WORD $AAAA     ;TWO BYTE OP
00131  084B  AA AA       SAVES  .WORD $AAAA     ;TWO BYTE OP
00132  084D  AA AA       SAVEE  .WORD $AAAA     ;TWO BYTE OP
00133  084F              ;*********************************
00134  084F              ; OTHER VARIABLES
00135  084F              ;*********************************
00136  084F  AA AA       ADRS   .WORD $AAAA
00137  0851  AA          TEMP   .BYTE $AA
00138  0852  AA          SAVA   .BYTE $AA
00139  0853  AA          SAVX   .BYTE $AA
00140  0854  AA          SAVY   .BYTE $AA
00141  0855              ;*********************************
00142  0855              ; PRINTER OUTPUT STORAGE
00143  0855              ;*********************************
00144  0855  AA AA       PAGECT .WORD $AAAA     ;PAGE COUNT
00145  0857  AA          LISTCT .BYTE $AA       ;LINE COUNT
00146  0858  AA AA       LINECT .WORD $AAAA     ;LINE COUNT
00147  085A  AA AA       ERRCT  .WORD $AAAA     ;ERROR COUNT
00148  085C              ;*********************************
00149  085C              ; INPUT BUFFER
00150  085C              ;*********************************
00151  085C              BUF    = *
00152  085C  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00152  085D  00 
00152  085E  00 
00152  085F  00 
00152  0860  00 
00152  0861  00 
00152  0862  00 
00152  0863  00 
00152  0864  00 
00152  0865  00 
00153  0866  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00153  0867  00 
00153  0868  00 
00153  0869  00 
00153  086A  00 
00153  086B  00 






DISASSEMBLER64......PAGE 0005

LINE# LOC   CODE        LINE


00153  086C  00 
00153  086D  00 
00153  086E  00 
00153  086F  00 
00154  0870  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00154  0871  00 
00154  0872  00 
00154  0873  00 
00154  0874  00 
00154  0875  00 
00154  0876  00 
00154  0877  00 
00154  0878  00 
00154  0879  00 
00155  087A  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00155  087B  00 
00155  087C  00 
00155  087D  00 
00155  087E  00 
00155  087F  00 
00155  0880  00 
00155  0881  00 
00155  0882  00 
00155  0883  00 
00156  0884  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00156  0885  00 
00156  0886  00 
00156  0887  00 
00156  0888  00 
00156  0889  00 
00156  088A  00 
00156  088B  00 
00156  088C  00 
00156  088D  00 
00157  088E  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00157  088F  00 
00157  0890  00 
00157  0891  00 
00157  0892  00 
00157  0893  00 
00157  0894  00 
00157  0895  00 
00157  0896  00 
00157  0897  00 
00158  0898  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00158  0899  00 
00158  089A  00 
00158  089B  00 
00158  089C  00 
00158  089D  00 
00158  089E  00 
00158  089F  00 
00158  08A0  00 
00158  08A1  00 
00159  08A2  00                 .BYTE 0,0,0,0,0,0,0,0,0,0






DISASSEMBLER64......PAGE 0006

LINE# LOC   CODE        LINE


00159  08A3  00 
00159  08A4  00 
00159  08A5  00 
00159  08A6  00 
00159  08A7  00 
00159  08A8  00 
00159  08A9  00 
00159  08AA  00 
00159  08AB  00 
00160  08AC  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00160  08AD  00 
00160  08AE  00 
00160  08AF  00 
00160  08B0  00 
00160  08B1  00 
00160  08B2  00 
00160  08B3  00 
00160  08B4  00 
00160  08B5  00 
00161  08B6  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00161  08B7  00 
00161  08B8  00 
00161  08B9  00 
00161  08BA  00 
00161  08BB  00 
00161  08BC  00 
00161  08BD  00 
00161  08BE  00 
00161  08BF  00 
00162  08C0              ;*********************************
00163  08C0              ; FILE NAME BUFFER
00164  08C0              ;*********************************
00165  08C0  AA AA       LINEFL .WORD $AAAA
00166  08C2  AA          VERSON .BYTE $AA
00167  08C3  AA          NCHARS .BYTE $AA
00168  08C4              NBUF   = *
00169  08C4  30 3A              .BYTE '0:'
00170  08C6  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00170  08C7  AA 
00170  08C8  AA 
00170  08C9  AA 
00170  08CA  AA 
00170  08CB  AA 
00170  08CC  AA 
00170  08CD  AA 
00171  08CE  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00171  08CF  AA 
00171  08D0  AA 
00171  08D1  AA 
00171  08D2  AA 
00171  08D3  AA 
00171  08D4  AA 
00171  08D5  AA 
00172  08D6  AA                 .BYTE $AA,$AA,$AA,$AA
00172  08D7  AA 






DISASSEMBLER64......PAGE 0007

LINE# LOC   CODE        LINE


00172  08D8  AA 
00172  08D9  AA 
00173  08DA              ;*********************************
00174  08DA              ; SYMBOL TABLE BUFFER
00175  08DA              ;*********************************
00176  08DA              SYMBUF = *
00177  08DA  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,
$AA
00177  08DB  AA 
00177  08DC  AA 
00177  08DD  AA 
00177  08DE  AA 
00177  08DF  AA 
00177  08E0  AA 
00177  08E1  AA 
00177  08E2  AA 
00177  08E3  AA 
00178  08E4              ;*********************************
00179  08E4              ; DATA TABLE
00180  08E4              ;*********************************
00181  08E4  AA AA       EAS    .WORD $AAAA
00182  08E6  AA          TEXTER .BYTE $AA
00183  08E7  AA AA       CDATA  .WORD $AAAA
00184  08E9  AA AA       NDATA  .WORD $AAAA
00185  08EB  AA AA       DATABP .WORD $AAAA     ;DATA POINT
00186  08ED  AA AA       DATABS .WORD $AAAA     ;DATA START
00187  08EF  AA AA       DATABE .WORD $AAAA     ;DATA END
00188  08F1              ;*********************************
00189  08F1              ; DATA TABLE
00190  08F1              ;*********************************
00191  08F1  AA          TDATA  .BYTE $AA
00192  08F2              ;*********************************
00193  08F2              *=*+$0100
00194  09F2              ;*********************************
00195  09F2  0D          MPASS  .BYTE $0D,'PASS',0
00195  09F3  50 41 
00195  09F7  00 
00196  09F8  0D          PMSG   .BYTE $0D,$12,' PAUSE ',$92,$0D,0
00196  09F9  12 
00196  09FA  20 50 
00196  0A01  92 
00196  0A02  0D 
00196  0A03  00 
00197  0A04  45 52       MSGERR .BYTE 'ERRORS = ',0
00197  0A0D  00 
00198  0A0E  45 4E       MSGDIS .BYTE 'END OF DISASSEMBLY',0
00198  0A20  00 
00199  0A21              ;*********************************
00200  0A21              ; INITIALIZE DISASSEMBLER
00201  0A21              ;*********************************
00202  0A21  A2 FF       DISASS LDX #$FF
00203  0A23  9A                 TXS
00204  0A24  D8                 CLD
00205  0A25  20 73 0B           JSR DOP         ;GET OPTIONS
00206  0A28  20 6B 1A           JSR INITIN      ;INIT POINTERS
00207  0A2B  A9 31              LDA #'1'        ;PASS ONE






DISASSEMBLER64......PAGE 0008

LINE# LOC   CODE        LINE


00208  0A2D  8D 12 08           STA PASS        ;SET PASS INDICATOR
00209  0A30              ;*********************************
00210  0A30              ; DISASSEMBLER LOOP
00211  0A30              ;*********************************
00212  0A30  20 57 19    DISA   JSR INTSA       ;SET SA
00213  0A33  A9 00              LDA #00         ;ZERO BYTE
00214  0A35  8D E7 08           STA CDATA       ;SET TABLE NUMBER
00215  0A38  A9 F2              LDA #<MPASS     ;PASS MSG
00216  0A3A  A0 09              LDY #>MPASS     ;
00217  0A3C  20 C4 13           JSR STRPNT      ;PRINT IT
00218  0A3F  AD 12 08           LDA PASS        ;GET PASS
00219  0A42  20 1A 14           JSR PCHAR       ;PRINT NUMBER
00220  0A45  20 FC 18           JSR CRLF        ;CR
00221  0A48              ;*********************************
00222  0A48  AD 12 08           LDA PASS        ;GET PASS
00223  0A4B  CD 15 08           CMP CPASS       ;IS IT LAST
00224  0A4E  F0 0E              BEQ DISB        ;IF SO PRINT
00225  0A50  CD 14 08           CMP EPASS       ;IS IT EXTERNAL
00226  0A53  D0 40              BNE DLOOP       ;IF NOT GO ON
00227  0A55  20 8A 1A           JSR SAVINT      ;SAVE INTERNAL
00228  0A58  20 3E 23           JSR EQUINT      ;SET EQUATES
00229  0A5B  4C 95 0A           JMP DLOOP       ;GO ON
00230  0A5E              ;*********************************
00231  0A5E  A9 01       DISB   LDA #$01        ;ONE BYTE
00232  0A60  8D 58 08           STA LINECT      ;SET LINE # TO 1
00233  0A63  8D 55 08           STA PAGECT      ;SET PAGE TO 1
00234  0A66  A9 00              LDA #$00        ;ZERO BYTE
00235  0A68  8D 59 08           STA LINECT+1    ;SET LINE # TO 1
00236  0A6B  8D 56 08           STA PAGECT+1    ;SET PAGE TO 1
00237  0A6E  8D 57 08           STA LISTCT      ;SET LIST TO 0
00238  0A71  8D 5A 08           STA ERRCT       ;SET ERROR TO 0
00239  0A74  8D 5B 08           STA ERRCT+1     ;SET ERROR TO 0
00240  0A77  8D C0 08           STA LINEFL      ;SET LINE TO 0
00241  0A7A  8D C1 08           STA LINEFL+1    ;SET LINE TO 0
00242  0A7D  AD 1A 08           LDA OUTPUT      ;GET OUTPUT
00243  0A80  8D 19 08           STA DEVICE      ;SET OUTPUT
00244  0A83              ;*********************************
00245  0A83  20 83 14           JSR HEADER      ;PRINT HEADER
00246  0A86  20 9F 0D           JSR OFILED      ;OPEN DISK FILE
00247  0A89              ;
00248  0A89  20 0F 30           JSR OPTPAG      ;PRINT .PAGE 'FILENAME'
00249  0A8C              ;
00250  0A8C  20 41 30           JSR OPTDIR      ;PRINT .OPT LIST
00251  0A8F              ;
00252  0A8F  20 44 18           JSR ORGIN       ;PRINT ORGIN LABEL
00253  0A92  20 49 24           JSR EQUPRT      ;PRINT EQUATE
00254  0A95              ;********************************
00255  0A95  20 86 15    DLOOP  JSR DSLINE      ;DIS ONE LINE
00256  0A98  B0 2C              BCS NEXTP       ;IF EA STOP
00257  0A9A  20 8E 12           JSR LINECK      ;LINE COUNT
00258  0A9D  20 E1 FF           JSR STOP        ;CHECK STOP
00259  0AA0  F0 57              BEQ QUITS       ;IF SO QUIT
00260  0AA2  20 E4 FF           JSR GETIN       ;GET KEY
00261  0AA5  F0 EE              BEQ DLOOP       ;IF NONE NEXT
00262  0AA7  C9 20              CMP #' '          ;IS IT A SPACE






DISASSEMBLER64......PAGE 0009

LINE# LOC   CODE        LINE


00263  0AA9  D0 EA              BNE DLOOP       ;IF NOT NEXT
00264  0AAB              ;*********************************
00265  0AAB              ; PAUSE LISTING
00266  0AAB              ;********************************
00267  0AAB  AD 19 08           LDA DEVICE
00268  0AAE  48                 PHA
00269  0AAF  A9 03              LDA #$03
00270  0AB1  8D 19 08           STA DEVICE
00271  0AB4  A9 F8              LDA #<PMSG
00272  0AB6  A0 09              LDY #>PMSG
00273  0AB8  20 C4 13           JSR STRPNT
00274  0ABB  68                 PLA
00275  0ABC  8D 19 08           STA DEVICE
00276  0ABF  20 E4 FF    PAUSE  JSR GETIN       ;PAUSE FOR KEY
00277  0AC2  F0 FB              BEQ PAUSE       ;
00278  0AC4  D0 CF              BNE DLOOP       ;NEXT LINE
00279  0AC6              ;********************************
00280  0AC6  EE 12 08    NEXTP  INC PASS        ;INC PASS
00281  0AC9  AD 12 08           LDA PASS        ;GET PASS
00282  0ACC  CD 15 08           CMP CPASS       ;LAST PASS?
00283  0ACF  90 1F              BCC DISFUL      ;IF LESS AGAIN
00284  0AD1  D0 20              BNE DISC        ;FINISH
00285  0AD3  AD 1B 08           LDA WINDOW      ;WINDOW FLAG
00286  0AD6  F0 18              BEQ DISFUL      ;FULL OUTPUT
00287  0AD8              ;*********************************
00288  0AD8              ; WINDOWED OUTPUT
00289  0AD8              ;*********************************
00290  0AD8  AD 2A 08           LDA SAOUT       ;
00291  0ADB  8D 1E 08           STA SA          ;
00292  0ADE  AD 2B 08           LDA SAOUT+1     ;
00293  0AE1  8D 1F 08           STA SA+1        ;
00294  0AE4  AD 2C 08           LDA EAOUT       ;
00295  0AE7  8D 20 08           STA EA          ;
00296  0AEA  AD 2D 08           LDA EAOUT+1     ;
00297  0AED  8D 21 08           STA EA+1        ;
00298  0AF0              ;*********************************
00299  0AF0  4C 30 0A    DISFUL JMP DISA        ;LAST PASS
00300  0AF3  20 2C 19    DISC   JSR INCSL
00301  0AF6  20 5A 18           JSR EFILE       ;END FILE MSG
00302  0AF9              ;*********************************
00303  0AF9  AD 19 08    QUITS  LDA DEVICE      ;CHECK DEV
00304  0AFC  29 08              AND #$08        ;DISK FILE?
00305  0AFE  F0 10              BEQ QUTERR      ;IF NOT BRANCH
00306  0B00  A9 08              LDA #$08        ;DISK
00307  0B02  20 C3 FF           JSR CLOSE       ;CLOSE IT
00308  0B05  AD 1A 08           LDA OUTPUT      ;GET OUTPUT
00309  0B08  29 07              AND #07         ;MASK DISK
00310  0B0A  8D 1A 08           STA OUTPUT      ;RESET OUTPUT
00311  0B0D  8D 19 08           STA DEVICE      ;RESET OUTPUT
00312  0B10              ;*********************************
00313  0B10              ; PRINT ERRORS
00314  0B10              ;*********************************
00315  0B10  AD 1A 08    QUTERR LDA OUTPUT
00316  0B13  09 03              ORA #$03
00317  0B15  8D 1A 08           STA OUTPUT






DISASSEMBLER64......PAGE 0010

LINE# LOC   CODE        LINE


00318  0B18  8D 19 08           STA DEVICE
00319  0B1B  20 07 13           JSR NEWLIN
00320  0B1E  20 07 13           JSR NEWLIN
00321  0B21  A9 04              LDA #<MSGERR
00322  0B23  A0 0A              LDY #>MSGERR
00323  0B25  20 C4 13           JSR STRPNT
00324  0B28  AE 5A 08           LDX ERRCT
00325  0B2B  AD 5B 08           LDA ERRCT+1
00326  0B2E  20 E0 13           JSR PRTNUM
00327  0B31              ;*********************************
00328  0B31  AD 19 08           LDA DEVICE      ;CHECK DEV
00329  0B34  29 04              AND #$04        ;PRINTER?
00330  0B36  F0 13              BEQ DONED       ;IF NOT DONE
00331  0B38  A9 04              LDA #$04        ;DEVICE 4
00332  0B3A  8D 1A 08           STA OUTPUT      ;SET DEVICE
00333  0B3D  8D 19 08           STA DEVICE      ;SET DEVICE
00334  0B40  20 3C 1C           JSR INTPRT      ;PRINT INTABLE
00335  0B43  A9 07              LDA #$07        ;DEVICE 3 AND 4
00336  0B45  8D 19 08           STA DEVICE      ;SET DEVICE
00337  0B48  8D 1A 08           STA OUTPUT      ;SET DEVICE
00338  0B4B  20 07 13    DONED  JSR NEWLIN      ;NEWLINE
00339  0B4E  20 07 13           JSR NEWLIN      ;NEWLINE
00340  0B51  A9 0E              LDA #<MSGDIS    ;END MSG
00341  0B53  A0 0A              LDY #>MSGDIS
00342  0B55  20 C4 13           JSR STRPNT      ;PRINT IT
00343  0B58  20 07 13           JSR NEWLIN      ;NEW LINE
00344  0B5B  AD 19 08           LDA DEVICE      ;CHECK DEVICE
00345  0B5E  29 04              AND #$04        ;PRINTER
00346  0B60  F0 08              BEQ DONE        ;
00347  0B62  20 51 14           JSR FINISH      ;FINISH PAGE
00348  0B65  A9 04              LDA #$04        ;PRINTER
00349  0B67  20 C3 FF           JSR CLOSE       ;CLOSE FILE
00350  0B6A              ;*********************************
00351  0B6A  20 CC FF    DONE   JSR CLRCHN      ;RESET I/O
00352  0B6D  20 11 15           JSR SCRON       ;TURN SCREEN ON
00353  0B70  4C 91 E3           JMP WREADY      ;RETURN
00354  0B73              ;*********************************
00355  0B73              ;.FIL 0:OPTION.ASM
00356  0B73              ;*********************************
00357  0B73              .END
00358  0B73              ;*********************************
00359  0B73              .LIB   OPTION.ASM
00360  0B73              ;*********************************
00361  0B73              ; FILE OPTION.ASM
00362  0B73              ;*********************************
00363  0B73              ;
00364  0B73              ;        DISASSEMBLER64
00365  0B73              ;    SYMBOLIC DISASSEMBLER
00366  0B73              ;       BY DENTON MARLOWE
00367  0B73              ;
00368  0B73              ;  (C)1986 BY DENTON MARLOWE
00369  0B73              ;
00370  0B73              ;*********************************
00371  0B73              ; DISASSEMBLER OPTIONS
00372  0B73              ;*********************************






DISASSEMBLER64......PAGE 0011

LINE# LOC   CODE        LINE


00373  0B73  A9 03       DOP    LDA #$03        ;DEVICE #3 SCREEN
00374  0B75  8D 19 08           STA DEVICE      ;CURRENT OUTPUT
00375  0B78  A9 00              LDA #$00        ;NO DEVICES
00376  0B7A  8D 1A 08           STA OUTPUT      ;FINAL OUTPUT
00377  0B7D  A9 BD              LDA #<MSG       ;START UP MSG
00378  0B7F  A0 0F              LDY #>MSG
00379  0B81  20 C4 13           JSR STRPNT      ;PRINT IT
00380  0B84              ;*********************************
00381  0B84              ; READ IN DISK FILE ?
00382  0B84              ;*********************************
00383  0B84  A9 0A              LDA #<MSF1
00384  0B86  A0 10              LDY #>MSF1
00385  0B88  20 C4 13           JSR STRPNT
00386  0B8B  20 25 13           JSR INSTNG
00387  0B8E  D0 03              BNE PFILE0
00388  0B90  4C CE 0C           JMP STARTS
00389  0B93              ;*********************************
00390  0B93              ; SAVE FILENAME FOR .PAGE DIRECTIVE
00391  0B93              ;*********************************
00392  0B93              PFILE0 = *
00393  0B93  20 F3 2F           JSR PFILEH
00394  0B96              ;*********************************
00395  0B96              ; APPEND ,P,R TO FILENAME
00396  0B96              ;*********************************
00397  0B96  A2 00              LDX #$00
00398  0B98  BD 5B 10    PFILE1 LDA PROGM,X
00399  0B9B  99 5C 08           STA BUF,Y
00400  0B9E  C8                 INY
00401  0B9F  E8                 INX
00402  0BA0  E0 04              CPX #$04
00403  0BA2  D0 F4              BNE PFILE1
00404  0BA4  8C 52 08           STY SAVA
00405  0BA7  20 B4 0C           JSR INITD
00406  0BAA  20 8E 0C           JSR PRFILE
00407  0BAD              ;*********************************
00408  0BAD              ; READ IN FILE FOR SA AND EA
00409  0BAD              ;*********************************
00410  0BAD  A2 08              LDX #$08        ;FILE #8
00411  0BAF  20 C6 FF           JSR CHKIN       ;INPUT FILE
00412  0BB2  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00413  0BB5  8D 1E 08           STA SA          ;SET START
00414  0BB8  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00415  0BBB  8D 1F 08           STA SA+1        ;SET START
00416  0BBE  20 57 19           JSR INTSA       ;SET END
00417  0BC1              ;*********************************
00418  0BC1  A9 00              LDA #$00        ;ZERO BYTE
00419  0BC3  8D 4F 08           STA ADRS        ;BYTE COUNTER
00420  0BC6  8D 50 08           STA ADRS+1      ;BYTE COUNTER
00421  0BC9  20 CF FF    PROGRD JSR CHRIN       ;INPUT BYTE
00422  0BCC  20 B7 FF           JSR READST      ;READ STATUS
00423  0BCF  D0 0D              BNE PROGED      ;IF NOT ZERO END
00424  0BD1  20 2C 19           JSR INCSL       ;INC END ADDRESS
00425  0BD4  EE 4F 08           INC ADRS        ;INC BYTE COUNT
00426  0BD7  D0 03              BNE *+5         ;
00427  0BD9  EE 50 08           INC ADRS+1      ;






DISASSEMBLER64......PAGE 0012

LINE# LOC   CODE        LINE


00428  0BDC  D0 EB              BNE PROGRD      ;NEXT BYTE
00429  0BDE  AD 22 08    PROGED LDA SELECT      ;
00430  0BE1  8D 20 08           STA EA          ;
00431  0BE4  AD 23 08           LDA SELECT+1    ;
00432  0BE7  8D 21 08           STA EA+1        ;
00433  0BEA              ;*********************************
00434  0BEA  A9 08              LDA #$08        ;FILE #8
00435  0BEC  20 C3 FF           JSR CLOSE       ;CLOSE IT
00436  0BEF  20 CC FF           JSR CLRCHN      ;RESET I/O
00437  0BF2              ;*********************************
00438  0BF2              ; PRINT PROGRAM LOAD ADDRESS
00439  0BF2              ; AND END ADDRESS
00440  0BF2              ;*********************************
00441  0BF2  A9 26              LDA #<MSF2
00442  0BF4  A0 10              LDY #>MSF2
00443  0BF6  20 C4 13           JSR STRPNT
00444  0BF9  AD 1E 08           LDA SA
00445  0BFC  8D 45 08           STA WORKED
00446  0BFF  AD 1F 08           LDA SA+1
00447  0C02  8D 46 08           STA WORKED+1
00448  0C05  20 CB 18           JSR PWORKD
00449  0C08              ;
00450  0C08  A9 2D              LDA #'-'
00451  0C0A              ;
00452  0C0A  20 1A 14           JSR PCHAR
00453  0C0D  20 D9 18           JSR DOLLAR
00454  0C10  20 BF 18           JSR PSELEC
00455  0C13  20 FC 18           JSR CRLF
00456  0C16              ;*********************************
00457  0C16              ; CALCULATE BUFFER ADDRESS
00458  0C16              ;*********************************
00459  0C16  A5 37              LDA MEMSIZ
00460  0C18  8D 22 08           STA SELECT
00461  0C1B  A5 38              LDA MEMSIZ+1
00462  0C1D  8D 23 08           STA SELECT+1
00463  0C20  20 4B 19           JSR DECSL
00464  0C23  38                 SEC
00465  0C24  AD 22 08           LDA SELECT
00466  0C27  ED 4F 08           SBC ADRS
00467  0C2A  8D 22 08           STA SELECT
00468  0C2D  AD 23 08           LDA SELECT+1
00469  0C30  ED 50 08           SBC ADRS+1
00470  0C33  8D 23 08           STA SELECT+1
00471  0C36              ;*********************************
00472  0C36              ; CALCULATE ADDRESS OFFSET
00473  0C36              ;*********************************
00474  0C36  38                 SEC
00475  0C37  AD 22 08           LDA SELECT
00476  0C3A  ED 1E 08           SBC SA
00477  0C3D  8D 24 08           STA OFFSET
00478  0C40  8D 45 08           STA WORKED
00479  0C43  AD 23 08           LDA SELECT+1
00480  0C46  ED 1F 08           SBC SA+1
00481  0C49  8D 25 08           STA OFFSET+1
00482  0C4C  8D 46 08           STA WORKED+1






DISASSEMBLER64......PAGE 0013

LINE# LOC   CODE        LINE


00483  0C4F  A9 B6              LDA #<MSD4A
00484  0C51  A0 10              LDY #>MSD4A
00485  0C53  20 C4 13           JSR STRPNT
00486  0C56  20 CB 18           JSR PWORKD
00487  0C59  20 FC 18           JSR CRLF
00488  0C5C              ;*********************************
00489  0C5C              ; OPEN FILE AND READ PRG INTO BUF
00490  0C5C              ;*********************************
00491  0C5C  20 8E 0C           JSR PRFILE      ;OPEN FILE
00492  0C5F  A2 08              LDX #$08        ;FILE #8
00493  0C61  20 C6 FF           JSR CHKIN       ;INPUT FILE
00494  0C64  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00495  0C67  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00496  0C6A  20 CF FF    PRO2RD JSR CHRIN       ;INPUT BYTE
00497  0C6D  AE 22 08           LDX SELECT      ;LOW BYTE POINTER
00498  0C70  86 02              STX ZEROUR      ;ZERO PAGE
00499  0C72  AE 23 08           LDX SELECT+1    ;HIH BYTE POINTER
00500  0C75  86 03              STX ZEROUR+1    ;ZERO PAGE
00501  0C77  A0 00              LDY #$00        ;OFFSET
00502  0C79  91 02              STA (ZEROUR),Y  ;STORE BYTE
00503  0C7B  20 2C 19           JSR INCSL       ;INC POINTER
00504  0C7E  20 B7 FF           JSR READST      ;READ STATUS
00505  0C81  F0 E7              BEQ PRO2RD      ;NEXT BYTE
00506  0C83  A9 08              LDA #$08        ;FILE #8
00507  0C85  20 C3 FF           JSR CLOSE       ;CLOSE IT
00508  0C88  20 CC FF           JSR CLRCHN      ;RESET I/O
00509  0C8B  4C 10 0D           JMP WINDOP      ;WINDOW OPTION
00510  0C8E              ;*********************************
00511  0C8E              ; OPEN PROGRAM FILE
00512  0C8E              ;*********************************
00513  0C8E  AD 52 08    PRFILE LDA SAVA
00514  0C91  A2 5C              LDX #<BUF
00515  0C93  A0 08              LDY #>BUF
00516  0C95  20 BD FF           JSR SETNAM
00517  0C98  A9 08              LDA #$08
00518  0C9A  A8                 TAY
00519  0C9B  AA                 TAX
00520  0C9C  20 BA FF           JSR SETLFS
00521  0C9F  20 C0 FF           JSR OPEN
00522  0CA2  20 CD 12           JSR DISERR
00523  0CA5  90 0C              BCC PROGOK
00524  0CA7  A9 08              LDA #$08
00525  0CA9  20 C3 FF           JSR CLOSE
00526  0CAC  68                 PLA
00527  0CAD  68                 PLA
00528  0CAE  68                 PLA
00529  0CAF  68                 PLA
00530  0CB0  4C 91 E3           JMP WREADY
00531  0CB3              ;*********************************
00532  0CB3  60          PROGOK RTS
00533  0CB4              ;*********************************
00534  0CB4              ; INIT DISK
00535  0CB4              ;*********************************
00536  0CB4  A9 02       INITD  LDA #$02
00537  0CB6  A0 10              LDY #>INIT






DISASSEMBLER64......PAGE 0014

LINE# LOC   CODE        LINE


00538  0CB8  A2 5F              LDX #<INIT
00539  0CBA  20 BD FF           JSR SETNAM
00540  0CBD  A9 0F              LDA #$0F
00541  0CBF  A2 08              LDX #$08
00542  0CC1  A0 0F              LDY #$0F
00543  0CC3  20 BA FF           JSR SETLFS
00544  0CC6  20 C0 FF           JSR OPEN
00545  0CC9  A9 0F              LDA #$0F
00546  0CCB  4C C3 FF           JMP CLOSE
00547  0CCE              ;*********************************
00548  0CCE              ; GET START ADDRESS
00549  0CCE              ;*********************************
00550  0CCE  A9 7A       STARTS LDA #<MSD1
00551  0CD0  A0 10              LDY #>MSD1
00552  0CD2  20 C4 13           JSR STRPNT
00553  0CD5  20 34 13           JSR GETWRD
00554  0CD8  AD 4F 08           LDA ADRS
00555  0CDB  8D 1E 08           STA SA
00556  0CDE  AD 50 08           LDA ADRS+1
00557  0CE1  8D 1F 08           STA SA+1
00558  0CE4              ;*********************************
00559  0CE4              ; GET END ADDRESS
00560  0CE4              ;*********************************
00561  0CE4  A9 8C              LDA #<MSD2
00562  0CE6  A0 10              LDY #>MSD2
00563  0CE8  20 C4 13           JSR STRPNT
00564  0CEB  20 34 13           JSR GETWRD
00565  0CEE  AD 4F 08           LDA ADRS
00566  0CF1  8D 20 08           STA EA
00567  0CF4  AD 50 08           LDA ADRS+1
00568  0CF7  8D 21 08           STA EA+1
00569  0CFA              ;*********************************
00570  0CFA              ; ADDRRESS OFFSET
00571  0CFA              ;*********************************
00572  0CFA  A9 9C              LDA #<MSD4
00573  0CFC  A0 10              LDY #>MSD4
00574  0CFE  20 C4 13           JSR STRPNT
00575  0D01  20 34 13           JSR GETWRD
00576  0D04  AD 4F 08           LDA ADRS
00577  0D07  8D 24 08           STA OFFSET
00578  0D0A  AD 50 08           LDA ADRS+1
00579  0D0D  8D 25 08           STA OFFSET+1
00580  0D10              ;*********************************
00581  0D10              ; OUTPUT WINDOW
00582  0D10              ;*********************************
00583  0D10  A9 C9       WINDOP LDA #<MSD5
00584  0D12  A0 10              LDY #>MSD5
00585  0D14  20 C4 13           JSR STRPNT
00586  0D17  20 99 13           JSR CRNO
00587  0D1A  B0 30              BCS WIND1
00588  0D1C  A9 7A              LDA #<MSD1
00589  0D1E  A0 10              LDY #>MSD1
00590  0D20  20 C4 13           JSR STRPNT
00591  0D23  20 34 13           JSR GETWRD
00592  0D26  AD 4F 08           LDA ADRS






DISASSEMBLER64......PAGE 0015

LINE# LOC   CODE        LINE


00593  0D29  8D 2A 08           STA SAOUT
00594  0D2C  AD 50 08           LDA ADRS+1
00595  0D2F  8D 2B 08           STA SAOUT+1
00596  0D32  A9 8C              LDA #<MSD2
00597  0D34  A0 10              LDY #>MSD2
00598  0D36  20 C4 13           JSR STRPNT
00599  0D39  20 34 13           JSR GETWRD
00600  0D3C  AD 4F 08           LDA ADRS
00601  0D3F  8D 2C 08           STA EAOUT
00602  0D42  AD 50 08           LDA ADRS+1
00603  0D45  8D 2D 08           STA EAOUT+1
00604  0D48  A9 FF              LDA #$FF
00605  0D4A  30 02              BMI WIND2
00606  0D4C  A9 00       WIND1  LDA #$00
00607  0D4E  8D 1B 08    WIND2  STA WINDOW
00608  0D51              ;*********************************
00609  0D51              ; SETUP GOBAL POINTER
00610  0D51              ;*********************************
00611  0D51  AD 1E 08           LDA SA
00612  0D54  8D 26 08           STA SAGOL
00613  0D57  AD 1F 08           LDA SA+1
00614  0D5A  8D 27 08           STA SAGOL+1
00615  0D5D  AD 20 08           LDA EA
00616  0D60  8D 28 08           STA EAGOL
00617  0D63  AD 21 08           LDA EA+1
00618  0D66  8D 29 08           STA EAGOL+1
00619  0D69              ;*********************************
00620  0D69              ; SOURCE FILE OUTPUT?
00621  0D69              ;*********************************
00622  0D69  A9 3A       OUFILE LDA #<MSG1
00623  0D6B  A0 10              LDY #>MSG1
00624  0D6D  20 C4 13           JSR STRPNT
00625  0D70              ;*********************************
00626  0D70  A9 00              LDA #$00
00627  0D72  8D C3 08           STA NCHARS
00628  0D75  20 25 13           JSR INSTNG
00629  0D78  F0 1A              BEQ NOFILE
00630  0D7A  A9 30              LDA #'0'
00631  0D7C  8D C2 08           STA VERSON
00632  0D7F  8C C3 08           STY NCHARS
00633  0D82  A2 00              LDX #$00
00634  0D84  BD 5C 08    GFILE0 LDA BUF,X
00635  0D87  9D C4 08           STA NBUF,X
00636  0D8A  E8                 INX
00637  0D8B  EC C3 08           CPX NCHARS
00638  0D8E  D0 F4              BNE GFILE0
00639  0D90              ;*********************************
00640  0D90  A9 08       FILEOK LDA #$08
00641  0D92  D0 02              BNE FILE
00642  0D94  A9 00       NOFILE LDA #$00
00643  0D96  0D 1A 08    FILE   ORA OUTPUT
00644  0D99  8D 1A 08           STA OUTPUT
00645  0D9C  4C F5 0D           JMP PRTGET
00646  0D9F              ;*********************************
00647  0D9F              ;     OPEN SOURCE DISK FILE






DISASSEMBLER64......PAGE 0016

LINE# LOC   CODE        LINE


00648  0D9F              ;*********************************
00649  0D9F  AC C3 08    OFILED LDY NCHARS
00650  0DA2  F0 03              BEQ NOID
00651  0DA4  20 B4 0C           JSR INITD
00652  0DA7  20 01 15    NOID   JSR SCROFF
00653  0DAA              ;*********************************
00654  0DAA  AC C3 08    OFILE  LDY NCHARS
00655  0DAD  F0 45              BEQ OFILE4
00656  0DAF  AD C2 08           LDA VERSON
00657  0DB2  C9 30              CMP #'0'
00658  0DB4  F0 07              BEQ OFILE1
00659  0DB6  AD C2 08           LDA VERSON
00660  0DB9  99 C4 08           STA NBUF,Y
00661  0DBC  C8                 INY
00662  0DBD  EE C2 08    OFILE1 INC VERSON
00663  0DC0  A2 00              LDX #$00
00664  0DC2  BD 57 10    OFILE2 LDA WRITE,X
00665  0DC5  99 C4 08           STA NBUF,Y
00666  0DC8  C8                 INY
00667  0DC9  E8                 INX
00668  0DCA  E0 04              CPX #$04
00669  0DCC  D0 F4              BNE OFILE2
00670  0DCE  98                 TYA
00671  0DCF  A0 08              LDY #>NBUF
00672  0DD1  A2 C4              LDX #<NBUF
00673  0DD3  20 BD FF           JSR SETNAM
00674  0DD6  A9 08              LDA #$08
00675  0DD8  AA                 TAX
00676  0DD9  A8                 TAY
00677  0DDA  20 BA FF           JSR SETLFS
00678  0DDD  20 C0 FF           JSR OPEN
00679  0DE0  20 CD 12           JSR DISERR
00680  0DE3  90 0F              BCC OFILE4
00681  0DE5              ;*********************************
00682  0DE5              ;  CLOSE OUT FILE ON ERROR
00683  0DE5              ;*********************************
00684  0DE5  A9 08       OFILE3 LDA #$08
00685  0DE7  20 C3 FF           JSR CLOSE
00686  0DEA  20 CC FF           JSR CLRCHN
00687  0DED  68                 PLA
00688  0DEE  68                 PLA
00689  0DEF  68                 PLA
00690  0DF0  68                 PLA
00691  0DF1  4C 91 E3           JMP WREADY
00692  0DF4  60          OFILE4 RTS
00693  0DF5              ;*********************************
00694  0DF5              ; GET PRINTER OPTION
00695  0DF5              ;*********************************
00696  0DF5  A9 61       PRTGET LDA #<MSG2
00697  0DF7  A0 10              LDY #>MSG2
00698  0DF9  20 C4 13           JSR STRPNT
00699  0DFC  20 8C 13           JSR CRYS
00700  0DFF  B0 26              BCS NOPRT
00701  0E01  A9 00              LDA #$00
00702  0E03  20 BD FF           JSR SETNAM






DISASSEMBLER64......PAGE 0017

LINE# LOC   CODE        LINE


00703  0E06  A9 04              LDA #$04
00704  0E08  A2 04              LDX #$04
00705  0E0A  A0 00              LDY #$00
00706  0E0C  20 BA FF           JSR SETLFS
00707  0E0F  20 C0 FF           JSR OPEN
00708  0E12  A2 04              LDX #$04
00709  0E14  20 C9 FF           JSR CHKOUT
00710  0E17  20 B7 FF           JSR READST
00711  0E1A  29 80              AND #$80
00712  0E1C  08                 PHP
00713  0E1D  20 CC FF           JSR CLRCHN
00714  0E20  28                 PLP
00715  0E21  30 04              BMI NOPRT
00716  0E23  A9 04              LDA #$04
00717  0E25  D0 02              BNE PRINT
00718  0E27  A9 03       NOPRT  LDA #$03
00719  0E29  0D 1A 08    PRINT  ORA OUTPUT
00720  0E2C  8D 1A 08           STA OUTPUT
00721  0E2F              ;*********************************
00722  0E2F              ; GO GET SYMBOLIC OPTION
00723  0E2F              ;*********************************
00724  0E2F  20 C9 22           JSR SOP
00725  0E32              ;*********************************
00726  0E32              ; GET RELATIVE ADDRESS OPTION
00727  0E32              ;*********************************
00728  0E32  A9 E5              LDA #<MSR1
00729  0E34  A0 10              LDY #>MSR1
00730  0E36  20 C4 13           JSR STRPNT
00731  0E39  20 8C 13           JSR CRYS
00732  0E3C  90 04              BCC DOP2
00733  0E3E  A9 01              LDA #$01
00734  0E40  D0 02              BNE DOP3
00735  0E42  A9 00       DOP2   LDA #$00
00736  0E44  8D 18 08    DOP3   STA ROPT
00737  0E47              ;*********************************
00738  0E47              ; GET BIT INSTRUCTION CODING OPTION
00739  0E47              ;*********************************
00740  0E47  20 4B 2F           JSR BITOPT
00741  0E4A              ;*********************************
00742  0E4A              ; DATA TABLE OPTION
00743  0E4A              ;*********************************
00744  0E4A  AD 3D 08    AOP    LDA SYMBOE
00745  0E4D  8D EB 08           STA DATABP
00746  0E50  8D ED 08           STA DATABS
00747  0E53  8D EF 08           STA DATABE
00748  0E56  85 02              STA ZEROUR
00749  0E58  AD 3E 08           LDA SYMBOE+1
00750  0E5B  8D EC 08           STA DATABP+1
00751  0E5E  8D EE 08           STA DATABS+1
00752  0E61  8D F0 08           STA DATABE+1
00753  0E64  85 03              STA ZEROUR+1
00754  0E66              ;*********************************
00755  0E66  A9 73              LDA #<MSAOP
00756  0E68  A0 11              LDY #>MSAOP
00757  0E6A  20 C4 13           JSR STRPNT






DISASSEMBLER64......PAGE 0018

LINE# LOC   CODE        LINE


00758  0E6D  20 25 13           JSR INSTNG
00759  0E70  D0 03              BNE BOP
00760  0E72  4C F5 0E           JMP NOTABS
00761  0E75              ;*********************************
00762  0E75  98          BOP    TYA
00763  0E76  48                 PHA
00764  0E77  20 B4 0C           JSR INITD
00765  0E7A  68                 PLA
00766  0E7B  A8                 TAY
00767  0E7C  A2 00              LDX #$00
00768  0E7E  BD 32 26    AFILE  LDA NAMS,X
00769  0E81  99 5C 08           STA BUF,Y
00770  0E84  C8                 INY
00771  0E85  E8                 INX
00772  0E86  E0 04              CPX #$04
00773  0E88  D0 F4              BNE AFILE
00774  0E8A  98                 TYA
00775  0E8B  A0 08              LDY #>BUF
00776  0E8D  A2 5C              LDX #<BUF
00777  0E8F  20 BD FF           JSR SETNAM
00778  0E92  A9 03              LDA #$03
00779  0E94  A2 08              LDX #$08
00780  0E96  A0 03              LDY #$03
00781  0E98  20 BA FF           JSR SETLFS
00782  0E9B  20 C0 FF           JSR OPEN
00783  0E9E  20 CD 12           JSR DISERR
00784  0EA1  B0 1B              BCS AGET1
00785  0EA3  A2 03              LDX #$03
00786  0EA5  20 C6 FF           JSR CHKIN
00787  0EA8              ;*********************************
00788  0EA8              ; READ IN DATA TABLE
00789  0EA8              ;*********************************
00790  0EA8  A0 00              LDY #$00
00791  0EAA  20 CF FF           JSR CHRIN
00792  0EAD  8D E9 08           STA NDATA
00793  0EB0  F0 0C              BEQ AGET1
00794  0EB2  20 CF FF    AGET   JSR CHRIN
00795  0EB5  99 F1 08           STA TDATA,Y
00796  0EB8  C8                 INY
00797  0EB9  20 B7 FF           JSR READST
00798  0EBC  F0 F4              BEQ AGET
00799  0EBE  A9 03       AGET1  LDA #$03
00800  0EC0  20 C3 FF           JSR CLOSE
00801  0EC3  20 CC FF           JSR CLRCHN
00802  0EC6              ;*********************************
00803  0EC6              ; PRINT DATA TABLE
00804  0EC6              ;*********************************
00805  0EC6  AD E9 08    PRTDAS LDA NDATA
00806  0EC9  8D E7 08           STA CDATA
00807  0ECC  A0 00              LDY #$00
00808  0ECE  8C 54 08           STY SAVY
00809  0ED1  20 FC 18    PRTNEX JSR CRLF
00810  0ED4  A2 05              LDX #$05
00811  0ED6  8E 53 08           STX SAVX
00812  0ED9  AC 54 08    PRTDAL LDY SAVY






DISASSEMBLER64......PAGE 0019

LINE# LOC   CODE        LINE


00813  0EDC  B9 F1 08           LDA TDATA,Y
00814  0EDF  20 AE 13           JSR PRBYT
00815  0EE2  20 0E 19           JSR SPACE
00816  0EE5  EE 54 08           INC SAVY
00817  0EE8  CE 53 08           DEC SAVX
00818  0EEB  D0 EC              BNE PRTDAL
00819  0EED  CE E7 08           DEC CDATA
00820  0EF0  D0 DF              BNE PRTNEX
00821  0EF2              ;*********************************
00822  0EF2  4C 92 0F           JMP XOP0
00823  0EF5              ;*********************************
00824  0EF5              ; READ DATA FOR KEYBOARD
00825  0EF5              ;*********************************
00826  0EF5  A9 92       NOTABS LDA #<MSA1      ;NUMBER OF DATA
00827  0EF7  A0 11              LDY #>MSA1
00828  0EF9  20 C4 13           JSR STRPNT
00829  0EFC  20 34 13           JSR GETWRD      ;INPUT HEX BYTE
00830  0EFF  AD 4F 08           LDA ADRS        ;GET BYTE
00831  0F02  8D E9 08           STA NDATA       ;SET NUM TABLES
00832  0F05  D0 03              BNE AOPX        ;0 DATA THEN END
00833  0F07  4C 92 0F           JMP XOP0        ;RETURN
00834  0F0A  A9 00       AOPX   LDA #$00        ;ZERO OFFSET
00835  0F0C  8D E7 08           STA CDATA       ;FIRST TABLE
00836  0F0F              ;*********************************
00837  0F0F              ; CALCULATE TABLE OFFSET
00838  0F0F              ;*********************************
00839  0F0F  AD E7 08    AOP1   LDA CDATA       ;GET TABLE NUMBER
00840  0F12  0A                 ASL A           ;*2
00841  0F13  0A                 ASL A           ;*4
00842  0F14  18                 CLC             ;C=0
00843  0F15  6D E7 08           ADC CDATA       ;*5
00844  0F18  8D 54 08           STA SAVY        ;STORE AS OFFSET
00845  0F1B              ;*********************************
00846  0F1B  A9 B4              LDA #<MSA2
00847  0F1D  A0 11              LDY #>MSA2
00848  0F1F  20 C4 13           JSR STRPNT      ;PRINT MSG
00849  0F22  20 34 13           JSR GETWRD      ;GET ADDRESS
00850  0F25  AC 54 08           LDY SAVY        ;GET OFFSET
00851  0F28  AD 4F 08           LDA ADRS
00852  0F2B  99 F1 08           STA TDATA,Y
00853  0F2E  C8                 INY
00854  0F2F  AD 50 08           LDA ADRS+1
00855  0F32  99 F1 08           STA TDATA,Y
00856  0F35  C8                 INY
00857  0F36  8C 54 08           STY SAVY
00858  0F39              ;*********************************
00859  0F39              ; END OF DATA TABLE
00860  0F39              ;*********************************
00861  0F39  A9 CC       AOP2   LDA #<MSA3
00862  0F3B  A0 11              LDY #>MSA3
00863  0F3D  20 C4 13           JSR STRPNT
00864  0F40  20 34 13           JSR GETWRD      ;GET ADDRESS
00865  0F43  AC 54 08           LDY SAVY
00866  0F46  AD 4F 08           LDA ADRS
00867  0F49  99 F1 08           STA TDATA,Y






DISASSEMBLER64......PAGE 0020

LINE# LOC   CODE        LINE


00868  0F4C  C8                 INY
00869  0F4D  AD 50 08           LDA ADRS+1
00870  0F50  99 F1 08           STA TDATA,Y
00871  0F53  C8                 INY
00872  0F54  8C 54 08           STY SAVY
00873  0F57              ;*********************************
00874  0F57              ; GET TYPE OF TABLE
00875  0F57              ;*********************************
00876  0F57  A9 E2              LDA #<MSG5      ;TABLE TYPE
00877  0F59  A0 11              LDY #>MSG5
00878  0F5B  20 C4 13           JSR STRPNT
00879  0F5E  20 E4 FF    AOP3   JSR GETIN
00880  0F61  F0 FB              BEQ AOP3
00881  0F63  C9 30              CMP #'0'
00882  0F65  F0 14              BEQ ASC
00883  0F67  C9 31              CMP #'1'
00884  0F69  F0 10              BEQ ASC
00885  0F6B  C9 32              CMP #'2'
00886  0F6D  F0 0C              BEQ ASC
00887  0F6F  C9 33              CMP #'3'
00888  0F71  F0 08              BEQ ASC
00889  0F73  C9 34              CMP #'4'
00890  0F75  F0 04              BEQ ASC
00891  0F77  C9 53              CMP #'S'
00892  0F79  D0 E3              BNE AOP3
00893  0F7B  20 D2 FF    ASC    JSR CHROUT
00894  0F7E  AC 54 08           LDY SAVY
00895  0F81  99 F1 08           STA TDATA,Y
00896  0F84              ;*********************************
00897  0F84  EE E7 08           INC CDATA       ;INC TABLE COUNT
00898  0F87  AD E7 08           LDA CDATA       ;GET TABLE COUNT
00899  0F8A  CD E9 08           CMP NDATA       ;ALL TABLES?
00900  0F8D  F0 03              BEQ XOP0        ;IF NOT GET MORE
00901  0F8F  4C 0F 0F           JMP AOP1        ;IF NOT GET MORE
00902  0F92              ;*********************************
00903  0F92              ; GET LABEL GENERATION OPTION
00904  0F92              ;*********************************
00905  0F92  A9 4E       XOP0   LDA #<MSB4
00906  0F94  A0 12              LDY #>MSB4
00907  0F96  20 C4 13           JSR STRPNT
00908  0F99  20 8C 13           JSR CRYS
00909  0F9C  B0 04              BCS XOP1
00910  0F9E  A9 01              LDA #$01
00911  0FA0  D0 02              BNE XOP2
00912  0FA2  A9 00       XOP1   LDA #$00
00913  0FA4  8D 17 08    XOP2   STA XOPT
00914  0FA7              ;*********************************
00915  0FA7              ; OUTPUT FORMAT OPTION
00916  0FA7              ;*********************************
00917  0FA7  A9 6E              LDA #<MSB5
00918  0FA9  A0 12              LDY #>MSB5
00919  0FAB  20 C4 13           JSR STRPNT
00920  0FAE  20 8C 13           JSR CRYS
00921  0FB1  B0 04              BCS FOP1
00922  0FB3  A9 00              LDA #$00






DISASSEMBLER64......PAGE 0021

LINE# LOC   CODE        LINE


00923  0FB5  F0 02              BEQ FOP2
00924  0FB7  A9 FF       FOP1   LDA #$FF
00925  0FB9  8D 1C 08    FOP2   STA FOROPT
00926  0FBC              ;*********************************
00927  0FBC  60                 RTS
00928  0FBD              ;*********************************
00929  0FBD              ;   COMMAND MESSAGES
00930  0FBD              ;*********************************
00931  0FBD  0D          MSG    .BYTE $0D,$0D
00931  0FBE  0D 
00932  0FBF  43 42       .BYTE  'CBM RESIDENT DISASSEMBLER'
00933  0FD8  20 56       .BYTE  ' V080282'
00934  0FE0  0D          .BYTE  $0D
00935  0FE1  28 43       .BYTE  '(C) 1982 BY COMMODORE '
00936  0FF7  42 55       .BYTE  'BUSINESS MACHINES'
00937  1008  0D          .BYTE  $0D
00938  1009  00          .BYTE  0
00939  100A              ;*********************************
00940  100A  0D          MSF1   .BYTE $0D
00941  100B  50 52       .BYTE  'PROGRAM FILE (CR OR NAME):'
00942  1025  00          .BYTE  0
00943  1026  0D          MSF2   .BYTE $0D
00944  1027  50 52       .BYTE  'PROGRAM ADDRESS: $'
00945  1039  00          .BYTE  0
00946  103A              ;*********************************
00947  103A  0D          MSG1   .BYTE $0D
00948  103B  45 44       .BYTE  'EDITOR64 FILE (CR OR NAME):'
00949  1056  00          .BYTE  0
00950  1057              ;*********************************
00951  1057  2C 53       WRITE  .BYTE ',S,W'
00952  105B  2C 50       PROGM  .BYTE ',P,R'
00953  105F  49 30       INIT   .BYTE 'I0'
00954  1061              ;*********************************
00955  1061  0D          MSG2   .BYTE $0D
00956  1062  48 41       .BYTE  'HARD COPY (Y/CR OR N)? '
00957  1079  00          .BYTE  0
00958  107A              ;*********************************
00959  107A  0D          MSD1   .BYTE $0D
00960  107B  53 54       .BYTE  'START ADDRESS :$'
00961  108B  00          .BYTE  0
00962  108C              ;*********************************
00963  108C  0D          MSD2   .BYTE $0D
00964  108D  45 4E       .BYTE  'END ADDRESS :$'
00965  109B  00          .BYTE  0
00966  109C              ;*********************************
00967  109C  0D          MSD4   .BYTE $0D
00968  109D  41 44       .BYTE  'ADDRESS OFFSET (OR CR):$'
00969  10B5  00          .BYTE  0
00970  10B6              ;*********************************
00971  10B6  0D          MSD4A  .BYTE $0D
00972  10B7  41 44       .BYTE  'ADDRESS OFFSET :$'
00973  10C8  00          .BYTE  0
00974  10C9              ;*********************************
00975  10C9  0D          MSD5   .BYTE $0D
00976  10CA  57 49       .BYTE  'WINDOW OUTPUT(Y OR N/CR)? '






DISASSEMBLER64......PAGE 0022

LINE# LOC   CODE        LINE


00977  10E4  00          .BYTE  0
00978  10E5              ;*********************************
00979  10E5  0D          MSR1   .BYTE $0D
00980  10E6  52 45       .BYTE  'RELATIVE BRANCH TO LABEL '
00981  10FF  28 59       .BYTE  '(Y/CR OR N)? '
00982  110C  00          .BYTE  0
00983  110D              ;*********************************
00984  110D  0D          MSB1   .BYTE $0D
00985  110E  42 49              .BYTE 'BIT INSTRUCTION CODING'
00986  1124  0D                 .BYTE $0D,$0D
00986  1125  0D 
00987  1126  30 2F              .BYTE '0/CR STANDARD',$0D
00987  1133  0D 
00988  1134  31 20              .BYTE '1     $2C ABS',$0D
00988  1141  0D 
00989  1142  32 20              .BYTE '2     $24 ZP',$0D
00989  114E  0D 
00990  114F  33 20              .BYTE '3     $2C AND $24',$0D
00990  1160  0D 
00991  1161  0D                 .BYTE $0D
00992  1162  45 4E              .BYTE 'ENTER BIT CODE: '
00993  1172  00                 .BYTE 0
00994  1173              ;*********************************
00995  1173  0D          MSAOP  .BYTE $0D
00996  1174  44 41       .BYTE  'DATA TABLE FILE (CR OR NAME):'
00997  1191  00          .BYTE  0
00998  1192  0D          MSA1   .BYTE $0D
00999  1193  4E 55       .BYTE  'NUMBER OF DATA TABLES (OR CR) :$'
01000  11B3  00          .BYTE  0
01001  11B4  0D          MSA2   .BYTE $0D
01002  11B5  54 41       .BYTE  'TABLE START ADDRESS :$'
01003  11CB  00          .BYTE  0
01004  11CC  0D          MSA3   .BYTE $0D
01005  11CD  54 41       .BYTE  'TABLE END ADDRESS :$'
01006  11E1  00          .BYTE  0
01007  11E2  0D          MSG5   .BYTE $0D,$0D
01007  11E3  0D 
01008  11E4  44 49              .BYTE 'DISASSEMBLY OPTIONS'
01009  11F7  0D                 .BYTE $0D,$0D
01009  11F8  0D 
01010  11F9  30 20              .BYTE '0 ASCII',$0D
01010  1200  0D 
01011  1201  31 20              .BYTE '1 BYTE',$0D
01011  1207  0D 
01012  1208  32 20              .BYTE '2 WORD',$0D
01012  120E  0D 
01013  120F  33 20              .BYTE '3 DBYTE',$0D
01013  1216  0D 
01014  1217  34 20              .BYTE '4 WORD-1',$0D
01014  121F  0D 
01015  1220  53 20              .BYTE 'S SKIP ADDRESS RANGE',$0D
01015  1234  0D 
01016  1235  45 4E              .BYTE 'ENTER DISASSEMBLY CODE: '
01017  124D  00                 .BYTE 0
01018  124E              ;*********************************






DISASSEMBLER64......PAGE 0023

LINE# LOC   CODE        LINE


01019  124E  0D          MSB4   .BYTE $0D
01020  124F  4C 41       .BYTE  'LABLE GENERATION (Y/CR OR N)? '
01021  126D  00          .BYTE  0
01022  126E              ;*********************************
01023  126E  0D          MSB5   .BYTE $0D
01024  126F  46 4F       .BYTE  'FORMATED LISTING (Y/CR OR N)? '
01025  128D  00          .BYTE  0
01026  128E              ;*********************************
01027  128E              ;.FIL 0:UTIL.ASM
01028  128E              ;*********************************
01029  128E              .END
01030  128E              ;*********************************
01031  128E              .LIB   UTIL.ASM
01032  128E              ;*********************************
01033  128E              ; FILE UTIL.ASM
01034  128E              ;*********************************
01035  128E              ;
01036  128E              ;        DISASSEMBLER64
01037  128E              ;    SYMBOLIC DISASSEMBLER
01038  128E              ;       BY DENTON MARLOWE
01039  128E              ;
01040  128E              ;  (C)1986 BY DENTON MARLOWE
01041  128E              ;
01042  128E              ;*********************************
01043  128E              ;      *** UTILITIES ***
01044  128E              ;*********************************
01045  128E              ; CHECK LINE COUNT FOR OUTPUT FILE
01046  128E              ;*********************************
01047  128E  AD 12 08    LINECK LDA PASS
01048  1291  CD 15 08           CMP CPASS
01049  1294  D0 36              BNE LINECO
01050  1296  AD 19 08           LDA DEVICE
01051  1299  29 08              AND #$08
01052  129B  F0 2F              BEQ LINECO
01053  129D              ;*********************************
01054  129D              ; CLOSE SOURCE FILE AND OPEN NEXT
01055  129D              ;*********************************
01056  129D  38                 SEC
01057  129E  AD C0 08           LDA LINEFL
01058  12A1  E9 20              SBC #$20
01059  12A3  8D 51 08           STA TEMP
01060  12A6  AD C1 08           LDA LINEFL+1
01061  12A9  E9 03              SBC #$03
01062  12AB  0D 51 08           ORA TEMP
01063  12AE  90 1C              BCC LINECO
01064  12B0              ; NOP
01065  12B0              ; NOP
01066  12B0              ; NOP
01067  12B0  20 95 2F           JSR OUTFIL
01068  12B3              ;
01069  12B3  20 5A 18           JSR EFILE
01070  12B6  A9 08              LDA #$08
01071  12B8  20 C3 FF           JSR CLOSE
01072  12BB  20 AA 0D           JSR OFILE
01073  12BE  A9 00              LDA #$00






DISASSEMBLER64......PAGE 0024

LINE# LOC   CODE        LINE


01074  12C0  8D C0 08           STA LINEFL
01075  12C3  8D C1 08           STA LINEFL+1
01076  12C6  20 44 18           JSR ORGIN
01077  12C9  20 6A 18           JSR COMENT
01078  12CC  60          LINECO RTS
01079  12CD              ;*********************************
01080  12CD              ;  DISK ERROR CHECK
01081  12CD              ;*********************************
01082  12CD  A9 08       DISERR LDA #$08        ;DEV #8
01083  12CF  85 BA              STA $BA         ;PUT IN DEV TABLE
01084  12D1  20 B4 FF           JSR $FFB4       ;SEND TALK
01085  12D4  A9 6F              LDA #$6F        ;SECONDARY ADDRESS
01086  12D6  85 B9              STA $B9         ;PUT IN TABLE
01087  12D8  20 96 FF           JSR $FF96       ;SEND SEC
01088  12DB  20 A5 FF           JSR $FFA5       ;GET FIRST BYTE
01089  12DE  C9 30              CMP #$30        ;IS IT A ZERO
01090  12E0  D0 0C              BNE DLOOC       ;IF NOT ZERO ERROR
01091  12E2  20 A5 FF    DLOOE  JSR $FFA5       ;GET BYTE
01092  12E5  C9 0D              CMP #$0D        ;IS IT CR?
01093  12E7  D0 F9              BNE DLOOE       ;GET NEXT BYTE
01094  12E9  20 AB FF           JSR $FFAB       ;UNTALK
01095  12EC  18                 CLC             ;NO ERROR FLAG
01096  12ED  60                 RTS             ;RETURN
01097  12EE              ;*********************************
01098  12EE              ; PRINT DISK ERROR
01099  12EE              ;*********************************
01100  12EE  48          DLOOC  PHA             ;STACK BYTE
01101  12EF  A9 0D              LDA #$0D        ;ASCII CR
01102  12F1  20 D2 FF           JSR CHROUT      ;PRINT IT
01103  12F4  68                 PLA             ;GET BYTE
01104  12F5  20 D2 FF           JSR CHROUT      ;PRINT IT
01105  12F8  20 A5 FF    DLOOA  JSR $FFA5       ;GET NEXT BYTE
01106  12FB  20 D2 FF           JSR CHROUT      ;PRINT IT
01107  12FE  C9 0D              CMP #$0D        ;IS IT CR
01108  1300  D0 F6              BNE DLOOA       ;GET NEXT BYTE
01109  1302  20 AB FF           JSR $FFAB       ;UNTALK
01110  1305  38                 SEC             ;SET ERROR FLAG
01111  1306  60                 RTS             ;RETURN
01112  1307              ;*********************************
01113  1307              ; START NEW LINE AND INC COUNT
01114  1307              ;*********************************
01115  1307  EE 58 08    NEWLIN INC LINECT
01116  130A  D0 03              BNE *+5
01117  130C  EE 59 08           INC LINECT+1
01118  130F  EE C0 08           INC LINEFL
01119  1312  D0 03              BNE *+5
01120  1314  EE C1 08           INC LINEFL+1
01121  1317  20 FC 18           JSR CRLF
01122  131A  AD 19 08           LDA DEVICE
01123  131D  29 04              AND #$04
01124  131F  F0 03              BEQ NEWEXT
01125  1321  20 76 14           JSR NEXLIN
01126  1324  60          NEWEXT RTS
01127  1325              ;*********************************
01128  1325              ; INPUT UTILITIES






DISASSEMBLER64......PAGE 0025

LINE# LOC   CODE        LINE


01129  1325              ;*********************************
01130  1325              ; INPUT STRING ROUTINE
01131  1325              ;*********************************
01132  1325  A0 00       INSTNG LDY #$00
01133  1327  20 CF FF    INSTN1 JSR CHRIN
01134  132A  99 5C 08           STA BUF,Y
01135  132D  C8                 INY
01136  132E  C9 0D              CMP #$0D
01137  1330  D0 F5              BNE INSTN1
01138  1332  88                 DEY
01139  1333  60                 RTS
01140  1334              ;*********************************
01141  1334              ; INPUT HEX CHAR STRING
01142  1334              ;*********************************
01143  1334  A9 00       GETWRD LDA #$00
01144  1336  8D 4F 08           STA ADRS
01145  1339  8D 50 08           STA ADRS+1
01146  133C  20 25 13           JSR INSTNG
01147  133F  88                 DEY
01148  1340  30 15              BMI INEND
01149  1342              ;*********************************
01150  1342              ; PROCESS INPUT
01151  1342              ;*********************************
01152  1342  20 58 13           JSR GETBYT
01153  1345  AD 51 08           LDA TEMP
01154  1348  8D 4F 08           STA ADRS
01155  134B  88                 DEY
01156  134C  30 09              BMI INEND
01157  134E  20 58 13           JSR GETBYT
01158  1351  AD 51 08           LDA TEMP
01159  1354  8D 50 08           STA ADRS+1
01160  1357  60          INEND  RTS
01161  1358              ;*********************************
01162  1358              ; COVERT BUFFER INTO BYTES
01163  1358              ;*********************************
01164  1358  B9 5C 08    GETBYT LDA BUF,Y
01165  135B  20 75 13           JSR BINARY
01166  135E  8D 51 08           STA TEMP
01167  1361  88                 DEY
01168  1362  30 10              BMI INENX
01169  1364  B9 5C 08           LDA BUF,Y
01170  1367  20 75 13           JSR BINARY
01171  136A  0A                 ASL A
01172  136B  0A                 ASL A
01173  136C  0A                 ASL A
01174  136D  0A                 ASL A
01175  136E  0D 51 08           ORA TEMP
01176  1371  8D 51 08           STA TEMP
01177  1374  60          INENX  RTS
01178  1375              ;*********************************
01179  1375              ; CONVERT A INTO HEX NIBBLE
01180  1375              ;*********************************
01181  1375  38          BINARY SEC
01182  1376  E9 30              SBC #'0'
01183  1378  90 0E              BCC NOHEX






DISASSEMBLER64......PAGE 0026

LINE# LOC   CODE        LINE


01184  137A  C9 0A              CMP #$0A
01185  137C  90 0C              BCC YSHEX
01186  137E  E9 07              SBC #$07
01187  1380  C9 10              CMP #$10
01188  1382  B0 04              BCS NOHEX
01189  1384  C9 0A              CMP #$0A
01190  1386  B0 02              BCS YSHEX
01191  1388  38          NOHEX  SEC
01192  1389  60                 RTS
01193  138A  18          YSHEX  CLC
01194  138B  60                 RTS
01195  138C              ;*********************************
01196  138C              ; GET OPTION (CR/Y OR N): Y=C=0
01197  138C              ;*********************************
01198  138C  20 CF FF    CRYS   JSR CHRIN
01199  138F  C9 59              CMP #'Y'
01200  1391  F0 11              BEQ CRYS1
01201  1393  C9 0D              CMP #$0D
01202  1395  F0 0D              BEQ CRYS1
01203  1397  D0 0D              BNE CRNO1
01204  1399              ;*********************************
01205  1399              ; GET OPTION (Y OR CR/N): Y=C=0
01206  1399              ;*********************************
01207  1399  20 CF FF    CRNO   JSR CHRIN
01208  139C  C9 4E              CMP #'N'
01209  139E  F0 06              BEQ CRNO1
01210  13A0  C9 0D              CMP #$0D
01211  13A2  F0 02              BEQ CRNO1
01212  13A4  18          CRYS1  CLC
01213  13A5  60                 RTS
01214  13A6  38          CRNO1  SEC
01215  13A7  60                 RTS
01216  13A8              ;*********************************
01217  13A8              ; PRINT UTILITES
01218  13A8              ;*********************************
01219  13A8              ; PRINT WORD MSB IN Y LSB IN A
01220  13A8              ;*********************************
01221  13A8  48          PRBYTS PHA             ;PUT A ON STACK
01222  13A9  98                 TYA             ;PUT HIH BYTE IN A
01223  13AA  20 AE 13           JSR PRBYT       ;PRINT MSB
01224  13AD  68                 PLA             ;GET LSB
01225  13AE              ;*********************************
01226  13AE              ; PRINT BYTE IN A
01227  13AE              ;*********************************
01228  13AE  48          PRBYT  PHA             ;PUT BYTE ON STACK
01229  13AF  4A                 LSR A           ;4 RIGHT SHIFTS
01230  13B0  4A                 LSR A           ;TO MOVE HIGH
01231  13B1  4A                 LSR A           ;NIBBLE TO LOW
01232  13B2  4A                 LSR A           ;NIB WITH HIGH 0'S
01233  13B3  A8                 TAY             ;USE AS POINTER
01234  13B4  B9 1A 15           LDA HEXA,Y      ;GET ASCII
01235  13B7  20 1A 14           JSR PCHAR       ;PRINT
01236  13BA  68                 PLA             ;PULL BYTE OUT
01237  13BB  29 0F              AND #$0F        ;MASK HIGH NIBBLE
01238  13BD  A8                 TAY             ;USE AS POINTER






DISASSEMBLER64......PAGE 0027

LINE# LOC   CODE        LINE


01239  13BE  B9 1A 15           LDA HEXA,Y      ;GET ASCII
01240  13C1  4C 1A 14           JMP PCHAR       ;PRINT
01241  13C4              ;*********************************
01242  13C4              ; STRING OUTPUT ROUTINE
01243  13C4              ;*********************************
01244  13C4  85 02       STRPNT STA ZEROUR      ;POINTER TO
01245  13C6  84 03              STY ZEROUR+1    ;MESSAGE
01246  13C8  A0 00              LDY #$00        ;OFFSET
01247  13CA  B1 02       SOUT   LDA (ZEROUR),Y  ;GET CHAR
01248  13CC  F0 06              BEQ SEXIT       ;IF ZERO EXIT
01249  13CE  20 1A 14           JSR PCHAR       ;PRINT
01250  13D1  C8                 INY             ;INC OFFSET
01251  13D2  D0 F6              BNE SOUT        ;LOOP
01252  13D4  60          SEXIT  RTS             ;RETURN
01253  13D5              ;*********************************
01254  13D5              ; PRINT DEC NUMBER (0000)
01255  13D5              ;*********************************
01256  13D5  86 02       PRTPAG STX ZEROUR      ;LOW  BYTE NUM
01257  13D7  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01258  13D9  A2 03              LDX #$03        ;4 CHARS
01259  13DB  8E 53 08           STX SAVX        ;SAVE COUNT
01260  13DE  D0 09              BNE PRTNU1      ;BRANCH
01261  13E0              ;*********************************
01262  13E0              ; PRINT DEC NUMBER (00000)
01263  13E0              ;*********************************
01264  13E0  86 02       PRTNUM STX ZEROUR      ;LOW  BYTE NUM
01265  13E2  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01266  13E4  A2 04              LDX #$04        ;5 CHARS
01267  13E6  8E 53 08           STX SAVX        ;SAVE COUNT
01268  13E9              ;*********************************
01269  13E9              ; PRINT DEC NUMBER AND LEADING 0
01270  13E9              ;*********************************
01271  13E9  AE 53 08    PRTNU1 LDX SAVX
01272  13EC  A0 30              LDY #$30
01273  13EE  D0 01              BNE PRTNU3
01274  13F0  C8          PRTNU2 INY 
01275  13F1  38          PRTNU3 SEC 
01276  13F2  A5 02              LDA ZEROUR
01277  13F4  FD 2A 15           SBC CONST0,X
01278  13F7  85 02              STA ZEROUR
01279  13F9  A5 03              LDA ZEROUR+1
01280  13FB  FD 2F 15           SBC CONST1,X
01281  13FE  85 03              STA ZEROUR+1
01282  1400  B0 EE              BCS PRTNU2
01283  1402  A5 02              LDA ZEROUR
01284  1404  7D 2A 15           ADC CONST0,X
01285  1407  85 02              STA ZEROUR
01286  1409  A5 03              LDA ZEROUR+1
01287  140B  7D 2F 15           ADC CONST1,X
01288  140E  85 03              STA ZEROUR+1
01289  1410  98                 TYA
01290  1411  20 1A 14           JSR PCHAR
01291  1414  CE 53 08           DEC SAVX
01292  1417  10 D0              BPL PRTNU1
01293  1419  60                 RTS






DISASSEMBLER64......PAGE 0028

LINE# LOC   CODE        LINE


01294  141A              ;*********************************
01295  141A              ;  OUTPUT CHAR TO OPEN CHANNEL
01296  141A              ;*********************************
01297  141A  48          PCHAR  PHA             ;SAVE CHAR
01298  141B  AD 19 08           LDA DEVICE      ;GET FILE FLAG
01299  141E  29 08              AND #$08        ;CHECK FOR DISK
01300  1420  F0 0D              BEQ PRIN        ;IF NONE BRANCH
01301  1422  A2 08              LDX #$08        ;DISK FILE #1
01302  1424  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01303  1427  68                 PLA             ;GET CHAR
01304  1428  48                 PHA             ;RESAVE CHAR
01305  1429  20 D2 FF           JSR CHROUT      ;OUTPUT TO DISK
01306  142C  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01307  142F  AD 19 08    PRIN   LDA DEVICE      ;GET DEVICE FLAG
01308  1432  29 04              AND #$04        ;CHECK FOR PRINTER
01309  1434  F0 0D              BEQ SCREN       ;IF NOT BRANCH
01310  1436  A2 04              LDX #$04        ;PRINT FILE #4
01311  1438  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01312  143B  68                 PLA             ;GET CHAR
01313  143C  48                 PHA             ;RESAVE CHAR
01314  143D  20 D2 FF           JSR CHROUT      ;OUTPUT TO PRINTER
01315  1440  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01316  1443  AD 19 08    SCREN  LDA DEVICE      ;GET DEVICE FLAG
01317  1446  29 03              AND #$03        ;CHECK FOR SCREEN
01318  1448  F0 05              BEQ PEXIT       ;IF NOT BRANCH
01319  144A  68                 PLA             ;GET CHAR
01320  144B  48                 PHA             ;RESAVE CHAR
01321  144C  20 D2 FF           JSR CHROUT      ;OUTPUT TO SCREEN
01322  144F  68          PEXIT  PLA             ;GET CHAR
01323  1450  60                 RTS             ;RETURN
01324  1451              ;*********************************
01325  1451              ; PRINTER OUTPUT ROUTINES
01326  1451              ;*********************************
01327  1451              ; FINISH OUT PAGE WITH CR
01328  1451              ;*********************************
01329  1451  20 64 14    FINISH JSR CRLFPR      ;PRINT CR
01330  1454  EE 57 08           INC LISTCT      ;INC LINE COUNT
01331  1457  AD 57 08           LDA LISTCT      ;GET COUNT
01332  145A  C9 42              CMP #$42        ;66 LINES
01333  145C  D0 F3              BNE FINISH      ;IF NOT MORE
01334  145E  A9 00              LDA #$00        ;ZERO BYTE
01335  1460  8D 57 08           STA LISTCT      ;RESET COUNT
01336  1463  60                 RTS             ;RETURN
01337  1464              ;*********************************
01338  1464              ; PRINT CR TO PRINTER
01339  1464              ;*********************************
01340  1464  A9 04       CRLFPR LDA #$04        ;DEVICE #4
01341  1466  8D 19 08           STA DEVICE      ;SET PRINTER
01342  1469  20 FC 18           JSR CRLF        ;CR
01343  146C  AD 1A 08           LDA OUTPUT      ;GET DEVICE
01344  146F  8D 19 08           STA DEVICE      ;RESET DEVICE
01345  1472  60                 RTS             ;RETURN
01346  1473              ;*********************************
01347  1473              ; START NEWLINE AND CHECK COUNT
01348  1473              ;*********************************






DISASSEMBLER64......PAGE 0029

LINE# LOC   CODE        LINE


01349  1473  20 64 14    NEXPTR JSR CRLFPR      ;PRINT CR
01350  1476  EE 57 08    NEXLIN INC LISTCT      ;INC LINE COUNT
01351  1479  AD 57 08           LDA LISTCT      ;GET COUNT
01352  147C  C9 3C              CMP #$3C        ;48 LINES
01353  147E  D0 45              BNE LINEOK      ;IF NOT BRANCH
01354  1480  20 51 14           JSR FINISH      ;FINISH PAGE
01355  1483              ;*********************************
01356  1483              ; START NEW PAGE WITH HEADING
01357  1483              ;*********************************
01358  1483  AD 19 08    HEADER LDA DEVICE      ;CHECK DEVICE
01359  1486  29 04              AND #$04        ;PRINTER?
01360  1488  F0 3B              BEQ LINEOK      ;IF NOT EXIT
01361  148A  20 73 14           JSR NEXPTR      ;NEXT LINE
01362  148D  A9 04              LDA #$04        ;DEVICE #4
01363  148F  8D 19 08           STA DEVICE      ;SET DEVICE
01364  1492  A9 34              LDA #<XTITLE    ;HEADER
01365  1494  A0 15              LDY #>XTITLE    ;
01366  1496  20 C4 13           JSR STRPNT      ;PRINT IT
01367  1499              ;*********************************
01368  1499              ; PRINT PAGE COUNT AND HEADER
01369  1499              ;*********************************
01370  1499  AE 55 08           LDX PAGECT
01371  149C  AD 56 08           LDA PAGECT+1
01372  149F  20 D5 13           JSR PRTPAG
01373  14A2  20 73 14           JSR NEXPTR
01374  14A5  20 73 14           JSR NEXPTR
01375  14A8  A9 04              LDA #$04
01376  14AA  8D 19 08           STA DEVICE
01377  14AD  A9 4F              LDA #<LTITLE
01378  14AF  A0 15              LDY #>LTITLE
01379  14B1  20 C4 13           JSR STRPNT
01380  14B4  20 73 14           JSR NEXPTR
01381  14B7              ;*********************************
01382  14B7              ; INC PAGE COUNT
01383  14B7              ;*********************************
01384  14B7  EE 55 08           INC PAGECT
01385  14BA  D0 03              BNE PAGER1
01386  14BC  EE 56 08           INC PAGECT+1
01387  14BF  20 73 14    PAGER1 JSR NEXPTR
01388  14C2  20 73 14           JSR NEXPTR
01389  14C5  60          LINEOK RTS 
01390  14C6              ;*********************************
01391  14C6              ; SYMBOL TABLE ROUTINES
01392  14C6              ;*********************************
01393  14C6              ; START NEWLINE AND CHECK COUNT
01394  14C6              ;*********************************
01395  14C6  20 64 14    NEXPTS JSR CRLFPR      ;PRINT CR
01396  14C9  EE 57 08           INC LISTCT      ;INC LINE COUNT
01397  14CC  AD 57 08           LDA LISTCT      ;GET COUNT
01398  14CF  C9 3C              CMP #$3C        ;48 LINES
01399  14D1  D0 1D              BNE HEADOK      ;IF NOT BRANCH
01400  14D3  20 51 14           JSR FINISH      ;FINISH PAGE
01401  14D6              ;*********************************
01402  14D6              ; START NEW PAGE WITH HEADING
01403  14D6              ;*********************************






DISASSEMBLER64......PAGE 0030

LINE# LOC   CODE        LINE


01404  14D6  20 C6 14    HEADES JSR NEXPTS      ;NEXT LINE
01405  14D9  A9 6C              LDA #<XTITLS    ;HEADER
01406  14DB  A0 15              LDY #>XTITLS    ;
01407  14DD  20 C4 13           JSR STRPNT      ;PRINT IT
01408  14E0  20 C6 14           JSR NEXPTS
01409  14E3  20 C6 14           JSR NEXPTS
01410  14E6  A9 79              LDA #<LTITLS
01411  14E8  A0 15              LDY #>LTITLS
01412  14EA  20 C4 13           JSR STRPNT
01413  14ED  20 C6 14           JSR NEXPTS
01414  14F0  60          HEADOK RTS
01415  14F1              ;*********************************
01416  14F1              ; CHECK FOR NEW PAGE FOR SYMBOL
01417  14F1              ;*********************************
01418  14F1  AD 57 08    HEADSY LDA LISTCT
01419  14F4  C9 35              CMP #$35
01420  14F6  B0 06              BCS HEADFX
01421  14F8  20 C6 14           JSR NEXPTS
01422  14FB  4C C6 14           JMP NEXPTS
01423  14FE  4C 51 14    HEADFX JMP FINISH
01424  1501              ;*********************************
01425  1501              ; SCREEN UTILITES
01426  1501              ;*********************************
01427  1501  AD 19 08    SCROFF LDA DEVICE
01428  1504  29 04              AND #$04
01429  1506  F0 08              BEQ SCRNO1
01430  1508  AD 11 D0           LDA VICREG
01431  150B  29 EF              AND #$EF
01432  150D  8D 11 D0           STA VICREG
01433  1510  60          SCRNO1 RTS
01434  1511              ;*********************************
01435  1511  AD 11 D0    SCRON  LDA VICREG
01436  1514  09 10              ORA #$10
01437  1516  8D 11 D0           STA VICREG
01438  1519  60                 RTS
01439  151A              ;*********************************
01440  151A              ; HEX-TO-ASCII TABLE
01441  151A              ;*********************************
01442  151A  30 31       HEXA   .BYTE '0123456789ABCDEF'
01443  152A              ;*********************************
01444  152A              ; CONSTANTS FOR PRTNUM ROUTINE
01445  152A              ;*********************************
01446  152A  01          CONST0 .BYTE $01,$0A,$64,$E8,$10
01446  152B  0A 
01446  152C  64 
01446  152D  E8 
01446  152E  10 
01447  152F  00          CONST1 .BYTE $00,$00,$00,$03,$27
01447  1530  00 
01447  1531  00 
01447  1532  03 
01447  1533  27 
01448  1534              ;*********************************
01449  1534              ; PAGE TITLE
01450  1534              ;*********************************






DISASSEMBLER64......PAGE 0031

LINE# LOC   CODE        LINE


01451  1534  44 49       XTITLE .BYTE 'DISASSEMBLER64.......PAGE '
01452  154E  00                 .BYTE $00
01453  154F  4C 49       LTITLE .BYTE 'LINE# LOC   CODE        LINE'
01454  156B  00                 .BYTE $00
01455  156C              ;********************************
01456  156C              ; SYMBOL PAGE TITLE
01457  156C              ;********************************
01458  156C  53 59       XTITLS .BYTE 'SYMBOL TABLE',0
01458  1578  00 
01459  1579  53 59       LTITLS .BYTE 'SYMBOL VALUE',0
01459  1585  00 
01460  1586              ;*********************************
01461  1586              ;.FIL 0:MODE.ASM
01462  1586              ;*********************************
01463  1586              .END
01464  1586              ;*********************************
01465  1586              .LIB   MODE.ASM
01466  1586              ;*********************************
01467  1586              ; FILE MODE.ASM
01468  1586              ;*********************************
01469  1586              ;
01470  1586              ;        DISASSEMBLER64
01471  1586              ;    SYMBOLIC DISASSEMBLER
01472  1586              ;       BY DENTON MARLOWE
01473  1586              ;
01474  1586              ;  (C)1986 BY DENTON MARLOWE
01475  1586              ;
01476  1586              ;*********************************
01477  1586              ; ADDRESSING MODE UTILITIES
01478  1586              ;*********************************
01479  1586              ;      DISASSEMBLE ONE LINE
01480  1586              ;*********************************
01481  1586  20 B2 1C    DSLINE JSR DATAOP      ;CHECK FOR DATA
01482  1589  30 3D              BMI BYTT        ;N=1 THEN FOUND
01483  158B              ;*********************************
01484  158B              ; CHECK BIT ZP DECODING OPTIONS
01485  158B              ;*********************************
01486  158B  AD 78 2F           LDA BITFLG      ;CHECK BIT FLAG
01487  158E  F0 0D              BEQ DISL        ;IF ZERO NO BIT
01488  1590                     
01489  1590  20 35 19           JSR GETSL       ;GET BYTE
01490  1593  C9 24              CMP #$24        ;ZEROPAGE BIT
01491  1595  F0 34              BEQ BYZBIT      ;
01492  1597  C9 2C              CMP #$2C        ;ZEROPAGE BIT
01493  1599  F0 55              BEQ BYABIT      ;
01494  159B  D0 00              BNE DISL        ;
01495  159D              ;*********************************
01496  159D              ; CHECK BIT ABS DECODING OPTIONS
01497  159D              ;*********************************
01498  159D              
01499  159D              ;********************************
01500  159D              ; PROCESS LINE OF CODE
01501  159D              ;********************************
01502  159D              DISL   = *
01503  159D  20 35 19           JSR GETSL       ;GET BYTE






DISASSEMBLER64......PAGE 0032

LINE# LOC   CODE        LINE


01504  15A0  AE 12 08           LDX PASS        ;GET PASS COUNT
01505  15A3  EC 15 08           CPX CPASS       ;LAST
01506  15A6  F0 06              BEQ DISL1       ;IF LAST BRANCH
01507  15A8  20 7A 1F           JSR OPERN1      ;IF LAST BRANCH
01508  15AB  4C C8 15           JMP BYTT        ;NEXT INSTRUCTION
01509  15AE              ;********************************
01510  15AE              ; PRINT DISASSEMBLY ADDRESS
01511  15AE              ;********************************
01512  15AE  20 6D 1F    DISL1  JSR PRTASS      ;PRINT LINE DATA
01513  15B1  20 93 18           JSR PRAD        ;PRINT ADDRESS
01514  15B4  20 0E 19           JSR SPACE       ;SPACE OVER
01515  15B7              ;********************************
01516  15B7              ; PRINT INSTRUCTION
01517  15B7              ;********************************
01518  15B7  20 35 19           JSR GETSL       ;GET BYTE
01519  15BA  48                 PHA             ;STORE
01520  15BB  20 4E 1F           JSR MNEMON      ;PRINT MNEMONIC
01521  15BE  20 0E 19           JSR SPACE       ;SPACE OVER
01522  15C1  68                 PLA             ;GET BYTE
01523  15C2  20 82 1F           JSR OPERND      ;PRINT OPERAND
01524  15C5  20 07 13    FINAL  JSR NEWLIN      ;START NEW LINE
01525  15C8  4C 13 19    BYTT   JMP NEXTSL      ;NEXT INSTRUCTION
01526  15CB              ;********************************
01527  15CB              ;      BIT ZP SKIP TRICK
01528  15CB              ;
01529  15CB              ; THE SKIP WILL ALWAYS INVOLVE
01530  15CB              ; A FOLLWING OPCODE THAT IS EITHER
01531  15CB              ; AN OPCODE WITH NO OPERAND OR
01532  15CB              ; OR ONE BYTE OPERAND LIKE A BRANCH
01533  15CB              ; OR ZERO PAGE INSTRUCTION
01534  15CB              ;*********************************
01535  15CB              BYZBIT = *
01536  15CB  AD 78 2F           LDA BITFLG
01537  15CE  29 02              AND #$02
01538  15D0  F0 CB              BEQ DISL
01539  15D2              ;********************************
01540  15D2              ;      TO SKIP OR NOT
01541  15D2              ;*********************************
01542  15D2  20 2C 19           JSR INCSL       ;INC TO OPERAND
01543  15D5  20 35 19           JSR GETSL       ;GET OPERAND
01544  15D8  48                 PHA
01545  15D9  20 4B 19           JSR DECSL
01546  15DC  68                 PLA
01547  15DD                                     ;CHECK FOR SKIP
01548  15DD  C9 10              CMP #$10        ;BPL SKIP
01549  15DF  F0 40              BEQ B0000
01550  15E1  C9 18              CMP #$18        ;CLC SKIP
01551  15E3  F0 3C              BEQ B0000
01552  15E5  C9 30              CMP #$30        ;BMI
01553  15E7  F0 38              BEQ B0000
01554  15E9  C9 38              CMP #$38        ;SEC
01555  15EB  F0 34              BEQ B0000
01556  15ED              ;
01557  15ED  4C 9D 15           JMP DISL
01558  15F0              ;********************************






DISASSEMBLER64......PAGE 0033

LINE# LOC   CODE        LINE


01559  15F0              ;      BIT ABS SKIP TRICK
01560  15F0              ;*********************************
01561  15F0              BYABIT = *
01562  15F0  AD 78 2F           LDA BITFLG
01563  15F3  29 01              AND #$01
01564  15F5  F0 A6              BEQ DISL
01565  15F7              ;********************************
01566  15F7              ;      TO SKIP OR NOT
01567  15F7              ;*********************************
01568  15F7  20 2C 19           JSR INCSL       ;INC TO OPERAND
01569  15FA  20 35 19           JSR GETSL       ;GET OPERAND
01570  15FD  48                 PHA
01571  15FE  20 4B 19           JSR DECSL
01572  1601  68                 PLA
01573  1602                                     ;CHECK FOR SKIP
01574  1602  C9 A1              CMP #$A1        ;LDY A IMMEDIATE SKIP
01575  1604  F0 1B              BEQ B0000
01576  1606  C9 A2              CMP #$A2        ;LDA A IMMEDIATE SKIP
01577  1608  F0 17              BEQ B0000
01578  160A  C9 A9              CMP #$A9        ;LDX A IMMEDIATE SKIP
01579  160C  F0 13              BEQ B0000
01580  160E                     
01581  160E  C9 65              CMP #$65        ;ADC ZP
01582  1610  F0 0F              BEQ B0000
01583  1612                     
01584  1612  C9 85              CMP #$85        ;STA ZP
01585  1614  F0 0B              BEQ B0000
01586  1616                     
01587  1616  C9 B1              CMP #$B1        ;LDA (ZP),Y
01588  1618  F0 07              BEQ B0000
01589  161A                     
01590  161A  C9 E6              CMP #$E6        ;INC
01591  161C  F0 03              BEQ B0000
01592  161E              ;
01593  161E  4C 9D 15           JMP DISL
01594  1621              ;********************************
01595  1621              ;      PRINTING PASS?
01596  1621              ;*********************************
01597  1621              B0000  = *
01598  1621  AD 12 08           LDA PASS        ;GET PASS COUNT
01599  1624  CD 15 08           CMP CPASS       ;LAST
01600  1627  D0 9F              BNE BYTT        ;IF NOT NEXT BYTE
01601  1629              ;*********************************
01602  1629              ;  PRINT LINE DATA FOR .BYTE
01603  1629              ;*********************************
01604  1629  20 6A 18           JSR COMENT      ;COMENT LINE
01605  162C              ;
01606  162C  20 0E 1A           JSR PRTDAT      ;PRINT LINE DATA
01607  162F  20 9B 19           JSR PRTONE      ;ONE BYTE
01608  1632  20 93 18           JSR PRAD        ;PRINT ADDRESS
01609  1635  20 0E 19           JSR SPACE       ;SPACE OVER
01610  1638  A9 64              LDA #<MSGBIT    ;.BYTE $
01611  163A  A0 19              LDY #>MSGBIT    ;
01612  163C  20 C4 13           JSR STRPNT      ;PRINT IT
01613  163F              ;






DISASSEMBLER64......PAGE 0034

LINE# LOC   CODE        LINE


01614  163F  20 35 19           JSR GETSL       ;GET BYTE
01615  1642  20 AE 13           JSR PRBYT       ;PRINT BYTE
01616  1645              ;
01617  1645  A9 6C              LDA #<MSGBZP    ;BIT COMMENT
01618  1647  A0 19              LDY #>MSGBZP    ;
01619  1649  20 C4 13           JSR STRPNT      ;PRINT IT
01620  164C              ;
01621  164C  20 07 13           JSR NEWLIN      ;PRINT BYTE
01622  164F                                     ;JSR INCSL    ;INC SELECT
01623  164F  20 70 18           JSR COMET       ;COMENT LINE
01624  1652                                     ;JSR DECSL    ;REASET SELE
CT
01625  1652  4C C5 15           JMP FINAL       ;CR AND NEXT BYTE
01626  1655              ;*********************************
01627  1655              ;BYTEXT JMP DISL1
01628  1655              ;*********************************
01629  1655              ; ADDRESSING MODE UTILITIES
01630  1655              ;*********************************
01631  1655              ;
01632  1655              ;*********************************
01633  1655              ; ANALYSIS OPERAND ROUTINES
01634  1655              ;*********************************
01635  1655              ;    BIT ZP ONE-BYTE OPERAND
01636  1655              ; ZERO PAGE BIT IS ALMOST ALWAYS
01637  1655              ;   A BIT TRICK TO SKIP THE NEXT
01638  1655              ;          OPCODE
01639  1655              ;********************************
01640  1655  EA          ONEBIT NOP
01641  1656              ;*********************************
01642  1656              ;      ONE-BYTE OPERAND
01643  1656              ;********************************
01644  1656  20 2C 19    ONEBYT JSR INCSL       ;INC TO BYTE
01645  1659  20 35 19           JSR GETSL       ;GET BYTE
01646  165C  8D 45 08           STA WORKED      ;STORE OPERAND
01647  165F  A9 00              LDA #$00        ;ZERO BYTE
01648  1661  8D 46 08           STA WORKED+1    ;ZERO HIGH BYTE
01649  1664  AD 12 08           LDA PASS        ;GET PASS COUNT
01650  1667  CD 13 08           CMP IPASS       ;INTERNAL
01651  166A  F0 54              BEQ OPCPUT      ;TABLE OPERAND
01652  166C  CD 14 08           CMP EPASS       ;EXTERNAL
01653  166F  F0 52              BEQ OPCSYM      ;EXTERNAL EQUATE
01654  1671              ;*********************************
01655  1671              ; OUTPUT OPERAND
01656  1671              ;*********************************
01657  1671  20 65 23           JSR SYMOP       ;CHECK FOR SYMBOL
01658  1674  B0 50              BCS TWOB        ;SYMBOL FOUND
01659  1676  20 45 1A           JSR RANGE       ;IS IT INTERNAL
01660  1679  90 06              BCC ONEBY       ;GENERATE LABEL
01661  167B  20 D9 18           JSR DOLLAR      ;EXTERNAL
01662  167E  4C 84 16           JMP ONEBX       ;PRINT ADDRESS
01663  1681  20 89 18    ONEBY  JSR PRLA        ;PRINT XX
01664  1684  AD 45 08    ONEBX  LDA WORKED      ;GET OPERAND
01665  1687  4C AE 13           JMP PRBYT       ;PRINT BYTE
01666  168A              ;********************************
01667  168A              ;      BIT ABS TWO-BYTE OPERAND
01668  168A              ;********************************






DISASSEMBLER64......PAGE 0035

LINE# LOC   CODE        LINE


01669  168A  EA          TWOBIT NOP
01670  168B              ;********************************
01671  168B              ;      TWO-BYTE OPERAND
01672  168B              ;********************************
01673  168B  20 2C 19    TWOBYT JSR INCSL       ;INC TO BYTE
01674  168E  20 35 19           JSR GETSL       ;GET BYTE
01675  1691  8D 45 08           STA WORKED      ;STORE LOW BYTE
01676  1694  20 2C 19           JSR INCSL       ;INC TO BYTE
01677  1697  20 35 19           JSR GETSL       ;GET BYTE
01678  169A  8D 46 08           STA WORKED+1    ;STORE HIGH BYTE
01679  169D  AD 12 08           LDA PASS        ;GET PASS COUNT
01680  16A0  CD 13 08           CMP IPASS       ;INTERNAL
01681  16A3  F0 1B              BEQ OPCPUT      ;TABLE OPERNAD
01682  16A5  CD 14 08           CMP EPASS       ;EXTERNAL
01683  16A8  F0 19              BEQ OPCSYM      ;EXTERNAL EQUATE
01684  16AA              ;********************************
01685  16AA              ;  OUTPUT OPERAND
01686  16AA              ;********************************
01687  16AA  20 65 23           JSR SYMOP       ;CHECK SYMBOL
01688  16AD  B0 17              BCS TWOB        ;C=1 FOUND ONE
01689  16AF  20 45 1A           JSR RANGE       ;IS IT INTERNAL
01690  16B2  90 06              BCC TWOBY       ;GERNERATE LABEL
01691  16B4  20 D9 18           JSR DOLLAR      ;EXTERNAL
01692  16B7  4C BD 16           JMP TWOBX       ;
01693  16BA              ;********************************
01694  16BA              ;  OUTPUT OPERAND
01695  16BA              ;********************************
01696  16BA              TWOBY  =*
01697  16BA  20 89 18           JSR PRLA        ;PRINT XX
01698  16BD              TWOBX  = *
01699  16BD  4C CB 18           JMP PWORKD      ;PRINT ADDRESS
01700  16C0              OPCPUT = *
01701  16C0  4C BC 1A           JMP PUTI        ;PUT IN TABLE
01702  16C3              OPCSYM = *
01703  16C3  4C 65 23           JMP SYMOP       ;CHECK EXT EQUATE
01704  16C6              TWOB   = *
01705  16C6  60                 RTS             ;RETURN
01706  16C7              ;*********************************
01707  16C7              ; ILLEGAL MODES, UNUSED OPCODES
01708  16C7              ;
01709  16C7              ; ZZZZ XX .BYTE $XX ;'Y' ;??? ILLEGAL OPCODE
01710  16C7              ;
01711  16C7              ;*********************************
01712  16C7  EE 5A 08    ILLEGL INC ERRCT       ;INC ERROR COUNT
01713  16CA  D0 03              BNE *+5         ;SKIP NEXT LINE
01714  16CC  EE 5B 08           INC ERRCT+1     ;INC ERROR COUNT
01715  16CF  A0 1F              LDY #>MBYTE     ;.BYTE
01716  16D1  A9 35              LDA #<MBYTE     ;
01717  16D3  20 C4 13           JSR STRPNT      ;PRINT STRING
01718  16D6  20 D9 18           JSR DOLLAR      ;PRINT $
01719  16D9  20 35 19           JSR GETSL       ;GET ILLEGAL BYTE
01720  16DC                     
01721  16DC              ;BEGIN REV 2017-3
01722  16DC  48                 PHA             ;PUT BYTE ON STACK
01723  16DD              ;






DISASSEMBLER64......PAGE 0036

LINE# LOC   CODE        LINE


01724  16DD  20 AE 13           JSR PRBYT       ;PRINT IT
01725  16E0  20 0E 19           JSR SPACE       ;SPACE OVER
01726  16E3              ;
01727  16E3  68                 PLA             ;POP BYTE OFF STACK
01728  16E4  20 3D 1E           JSR CASCII      ;IS IT PRINTABLE ASCII
01729  16E7  B0 18              BCS ISKIP       ;IF NOT EXIT
01730  16E9  48                 PHA             ;STACK IT
01731  16EA  20 0E 19           JSR SPACE       ;SPACE OVER
01732  16ED  20 D4 18           JSR SEMIC       ;COMMENT
01733  16F0  A9 27              LDA #'''        ;QUOTE
01734  16F2  20 1A 14           JSR PCHAR       ;PRINT IT
01735  16F5  68                 PLA             ;POP IT
01736  16F6  20 1A 14           JSR PCHAR       ;PRINT IT
01737  16F9  A9 27              LDA #'''        ;QUOTE
01738  16FB  20 1A 14           JSR PCHAR       ;PRINT IT
01739  16FE  20 0E 19           JSR SPACE       ;SPACE OVER
01740  1701              ;
01741  1701              ISKIP  = *
01742  1701              ;END REV 2017-3
01743  1701  A0 19              LDY #>ILLMSG
01744  1703  A9 87              LDA #<ILLMSG
01745  1705  4C C4 13           JMP STRPNT
01746  1708              ;********************************
01747  1708              ;      ACCUMULATOR MODE
01748  1708              ;********************************
01749  1708  A9 41       ACC    LDA #'A'        ;ASCII A
01750  170A  4C 1A 14           JMP PCHAR       ;PRINT IT
01751  170D              ;********************************
01752  170D              ;       IMMEDIATE MODE
01753  170D              ;********************************
01754  170D  20 2C 19    IMMEDT JSR INCSL       ;INC TO DATA BYTE
01755  1710  AE 12 08           LDX PASS        ;GET PASS
01756  1713  EC 15 08           CPX CPASS       ;LAST PASS
01757  1716  D0 2A              BNE IMEXIT      ;EXIT
01758  1718  A9 23              LDA #'#'        ;ASCII #
01759  171A  20 1A 14           JSR PCHAR       ;PRINT IT
01760  171D  20 D9 18           JSR DOLLAR      ;PRINT $
01761  1720  20 35 19           JSR GETSL       ;GET BYTE
01762  1723  48                 PHA             ;STACK IT
01763  1724  20 AE 13           JSR PRBYT       ;PRINT IT
01764  1727  68                 PLA             ;POP IT
01765  1728  20 3D 1E           JSR CASCII      ;PRINTABLE ASCII
01766  172B  B0 15              BCS IMEXIT      ;IF NOT EXIT
01767  172D  48                 PHA             ;STACK IT
01768  172E  20 01 19           JSR SPAC6       ;SPACE OVER
01769  1731  20 D4 18           JSR SEMIC       ;COMMENT
01770  1734  A9 27              LDA #'''        ;QUOTE
01771  1736  20 1A 14           JSR PCHAR       ;PRINT IT
01772  1739  68                 PLA             ;POP IT
01773  173A  20 1A 14           JSR PCHAR       ;PRINT IT
01774  173D  A9 27              LDA #'''        ;QUOTE
01775  173F  20 1A 14           JSR PCHAR       ;PRINT IT
01776  1742  60          IMEXIT RTS             ;EXIT
01777  1743              ;*********************************
01778  1743              ;      BIT ZERO PAGE MODE






DISASSEMBLER64......PAGE 0037

LINE# LOC   CODE        LINE


01779  1743              ;*********************************
01780  1743  EA          ZERBIT NOP
01781  1744              ;*********************************
01782  1744              ;      ZERO PAGE MODE
01783  1744              ;*********************************
01784  1744  4C 56 16    ZEROPG JMP ONEBYT      ;PRINT ONE BYTE
01785  1747              ;*********************************
01786  1747              ;      ZERO PAGE,X MODE
01787  1747              ;********************************
01788  1747  20 56 16    ZEROX  JSR ONEBYT      ;PRINT ONE BYTE
01789  174A  4C E8 18           JMP XINDEX      ;PRINT ,X
01790  174D              ;********************************
01791  174D              ;       ZERO PAGE,Y MODE
01792  174D              ;********************************
01793  174D  20 56 16    ZEROY  JSR ONEBYT      ;PRINT ONE BYTE
01794  1750  4C F2 18           JMP YINDEX      ;PRINT ,Y
01795  1753              ;*********************************
01796  1753              ;         BIT ABSOLUTE MODE
01797  1753              ;*********************************
01798  1753  EA          ABSBIT NOP
01799  1754              ;*********************************
01800  1754              ;         ABSOLUTE MODE
01801  1754              ;*********************************
01802  1754  20 8B 16    ABSLUT JSR TWOBYT      ;PRINT TWO BYTE
01803  1757  20 4B 19           JSR DECSL       ;DEC TO SECOND
01804  175A  20 4B 19           JSR DECSL       ;DEC TO OPCODE
01805  175D  20 35 19           JSR GETSL       ;GET BYTE
01806  1760  48                 PHA
01807  1761  20 2C 19           JSR INCSL
01808  1764  20 2C 19           JSR INCSL
01809  1767  68                 PLA
01810  1768  C9 4C              CMP #$4C        ;IS IT JMP
01811  176A  D0 0C              BNE ABSEXT      ;IF NOT EXIT
01812  176C  20 07 13           JSR NEWLIN      ;NEXT LINE
01813  176F  20 2C 19           JSR INCSL
01814  1772  20 70 18           JSR COMET       ;COMMENT LINE
01815  1775  20 4B 19           JSR DECSL
01816  1778  60          ABSEXT RTS             ;RETURN
01817  1779              ;*********************************
01818  1779              ;       ABSOLUTE,X MODE
01819  1779              ;********************************
01820  1779  20 8B 16    ABSX   JSR TWOBYT      ;PRINT TWO BYTE
01821  177C  4C E8 18           JMP XINDEX      ;PRINT ,X
01822  177F              ;********************************
01823  177F              ;       ABSOLUTE,Y MODE
01824  177F              ;********************************
01825  177F  20 8B 16    ABSY   JSR TWOBYT      ;PRINT TWO BYTE
01826  1782  4C F2 18           JMP YINDEX      ;PRINT ,Y
01827  1785              ;********************************
01828  1785              ;       IMPLIED MODE
01829  1785              ;********************************
01830  1785  20 35 19    IMPLID JSR GETSL       ;GET BYTE
01831  1788  F0 09              BEQ IMPLI1      ;BRK
01832  178A  C9 60              CMP #$60        ;CHECK CODE
01833  178C  F0 05              BEQ IMPLI1      ;RTS






DISASSEMBLER64......PAGE 0038

LINE# LOC   CODE        LINE


01834  178E  C9 40              CMP #$40        ;CHECK CODE
01835  1790  F0 01              BEQ IMPLI1      ;RTI
01836  1792  60          IMPONE RTS             ;RETURN
01837  1793  20 07 13    IMPLI1 JSR NEWLIN      ;PRINT NEW LINE
01838  1796  20 2C 19           JSR INCSL
01839  1799  20 70 18           JSR COMET       ;COMMENT LINE
01840  179C  4C 4B 19           JMP DECSL
01841  179F              ;********************************
01842  179F              ;       INDIRECT MODE
01843  179F              ;********************************
01844  179F  20 DE 18    INDRCT JSR LPAREN      ;PRINT (
01845  17A2  20 8B 16           JSR TWOBYT      ;PRINT TWO BYTE
01846  17A5  20 E3 18           JSR RPAREN      ;PRINT )
01847  17A8  20 07 13           JSR NEWLIN      ;NEXT LINE
01848  17AB  20 2C 19           JSR INCSL
01849  17AE  20 70 18           JSR COMET       ;COMMENT LINE
01850  17B1  4C 4B 19           JMP DECSL
01851  17B4              ;********************************
01852  17B4              ;     INDIRECT,X MODE
01853  17B4              ;********************************
01854  17B4  20 DE 18    INDX   JSR LPAREN      ;PRINT (
01855  17B7  20 47 17           JSR ZEROX       ;PRINT $HH,X
01856  17BA  4C E3 18           JMP RPAREN      ;PRINT )
01857  17BD              ;********************************
01858  17BD              ;     INDIRECT,Y MODE
01859  17BD              ;********************************
01860  17BD  20 DE 18    INDY   JSR LPAREN      ;PRINT (
01861  17C0  20 56 16           JSR ONEBYT      ;PRINT ONE BYTE
01862  17C3  20 E3 18           JSR RPAREN      ;PRINT )
01863  17C6  4C F2 18           JMP YINDEX      ;PRINT ,Y
01864  17C9              ;*********************************
01865  17C9              ;      RELATIVE MODE
01866  17C9              ;*********************************
01867  17C9  20 2C 19    RELATV JSR INCSL       ;INC BYTE POINTER
01868  17CC  AD 12 08           LDA PASS        ;GET PASS COUNT
01869  17CF  CD 14 08           CMP EPASS       ;EXTERNAL
01870  17D2  F0 44              BEQ RELSYM      ;EXIT ON EXTERNAL
01871  17D4              ;
01872  17D4  AD 22 08           LDA SELECT      ;GET LOW POINTER
01873  17D7  8D 45 08           STA WORKED      ;STORE TEMP
01874  17DA  AD 23 08           LDA SELECT+1    ;GET HIGH POINTER
01875  17DD  8D 46 08           STA WORKED+1    ;STORE TEMP
01876  17E0  EE 45 08           INC WORKED      ;ADD 1 TO ADDRESS
01877  17E3  D0 03              BNE *+5         ;ZERO MEANS CARRY
01878  17E5  EE 46 08           INC WORKED+1    ;INC HIGH ADDRESS
01879  17E8              ;
01880  17E8  20 35 19           JSR GETSL       ;GET BYTE BRANCH OFFSET
01881  17EB  C9 00              CMP #$00        ;IS IT ZERO
01882  17ED  10 03              BPL FORWRD      ;IF SO BRANCH
01883  17EF  CE 46 08           DEC WORKED+1    ;DEC HIGH POINTER
01884  17F2  18          FORWRD CLC             ;CLEAR CARRY FLAG
01885  17F3  6D 45 08           ADC WORKED      ;ADD IN OPERAND
01886  17F6  90 03              BCC RELND       ;TO SELECT ADDRES
01887  17F8  EE 46 08           INC WORKED+1    ;AND NOW POINTS
01888  17FB  8D 45 08    RELND  STA WORKED      ;TARGET ADDRESS






DISASSEMBLER64......PAGE 0039

LINE# LOC   CODE        LINE


01889  17FE              ;
01890  17FE  AD 12 08           LDA PASS        ;GET PASS COUNT
01891  1801  CD 13 08           CMP IPASS       ;INTERNAL
01892  1804  F0 0F              BEQ RELPUT      ;ADDRESS TABLE
01893  1806              ;
01894  1806  20 65 23           JSR SYMOP       ;CHECK FOR SYMBOL
01895  1809  B0 0D              BCS RELSYM      ;C=1 SYMBOL
01896  180B              ;
01897  180B  AD 18 08           LDA ROPT        ;CHECK OPTION
01898  180E  C9 01              CMP #$01        ;REL TO * ?
01899  1810  F0 07              BEQ RELPC       ;IF SO DO IT
01900  1812              ;
01901  1812  4C C8 18           JMP PWORK       ;PRINT ADDRESS
01902  1815              ;
01903  1815              RELPUT = *
01904  1815  4C BC 1A           JMP PUTI        ;PUT IN TABLE
01905  1818              ;
01906  1818  60          RELSYM RTS             ;RETURN
01907  1819              ;*********************************
01908  1819              ; PRINT RELATIVE TO PC
01909  1819              ;*********************************
01910  1819  20 35 19    RELPC  JSR GETSL       ;GET BRANCH DATA
01911  181C  48                 PHA             ;SAVE ON STACK
01912  181D  30 07              BMI RELNEG      ;BACKWARD ?
01913  181F  A9 7A              LDA #<POSREL
01914  1821  A0 19              LDY #>POSREL
01915  1823  4C 2A 18           JMP RELPM
01916  1826  A9 7E       RELNEG LDA #<NEGREL
01917  1828  A0 19              LDY #>NEGREL
01918  182A  20 C4 13    RELPM  JSR STRPNT
01919  182D  68                 PLA             ;GET BRANCH DATA
01920  182E  18                 CLC             ;CLEAR CARRY
01921  182F  69 02              ADC #$02        ;ADD 2 FOR BRANCH
01922  1831  10 05              BPL RELP        ;FORWARD ?
01923  1833  18                 CLC             ;CLEAR CARRY
01924  1834  49 FF              EOR #$FF        ;COMPLMENT
01925  1836  69 01              ADC #$01        ;ADD 1 FOR 2'S
01926  1838  20 AE 13    RELP   JSR PRBYT       ;PRINT BRANCH
01927  183B  20 01 19           JSR SPAC6       ;SPACE
01928  183E  20 D4 18           JSR SEMIC       ;COMMENT CHAR
01929  1841  4C C8 18           JMP PWORK       ;PRINT ADDRESS
01930  1844              ;*********************************
01931  1844              ;  ORGIN LABEL
01932  1844              ;*********************************
01933  1844  20 32 1A    ORGIN  JSR PRTOTH      ;PRINT LINE DATA
01934  1847  A9 2A              LDA #'*'        ;PC
01935  1849  20 1A 14           JSR PCHAR       ;PRINT IT
01936  184C  A9 3D              LDA #'='        ;EQUALS
01937  184E  20 1A 14           JSR PCHAR       ;PRINT IT
01938  1851  20 D9 18           JSR DOLLAR      ;ASCII $
01939  1854  20 BF 18           JSR PSELEC      ;PRINT ADDRESS
01940  1857  4C 07 13           JMP NEWLIN      ;START NEWLINE
01941  185A              ;*********************************
01942  185A              ; END OF FILE LABLE
01943  185A              ;*********************************






DISASSEMBLER64......PAGE 0040

LINE# LOC   CODE        LINE


01944  185A  20 6A 18    EFILE  JSR COMENT      ;COMMENT LINE
01945  185D  20 32 1A           JSR PRTOTH      ;PRINT LINE DATA
01946  1860  A9 82              LDA #<MSGEND    ;END MESSAGE
01947  1862  A0 19              LDY #>MSGEND
01948  1864  20 C4 13           JSR STRPNT      ;PRINT IT
01949  1867  4C 07 13           JMP NEWLIN      ;NEW LINE
01950  186A              ;*********************************
01951  186A              ; PRINT COMMENT LINE
01952  186A              ;*********************************
01953  186A  20 70 18    COMENT JSR COMET       ;PRINT COMMENT
01954  186D  4C 07 13           JMP NEWLIN      ;NEXT LINE
01955  1870              ;*********************************
01956  1870  20 32 1A    COMET  JSR PRTOTH      ;PRINT LINE DATA
01957  1873  20 D4 18           JSR SEMIC       ;PRINT COMMENT
01958  1876  AD 1C 08           LDA FOROPT
01959  1879  D0 03              BNE CSHORT
01960  187B  A0 20              LDY #$20        ;COUNTER
01961  187D  2C                 .BYTE $2C
01962  187E  A0 10       CSHORT LDY #$10
01963  1880  A9 2A       COMPT  LDA #'*'        ;STAR
01964  1882  20 1A 14           JSR PCHAR       ;PRINT CHAR
01965  1885  88                 DEY             ;DEC COUNTER
01966  1886  D0 F8              BNE COMPT       ;20 OR 10 STARS
01967  1888  60                 RTS             ;RETURN
01968  1889              ;*********************************
01969  1889              ;     PRINT SELECTED ADDRESS
01970  1889              ;*********************************
01971  1889  A9 58       PRLA   LDA #'X'        ;XX LABEL
01972  188B  20 1A 14           JSR PCHAR       ;
01973  188E  A9 58              LDA #'X'        ;
01974  1890  4C 1A 14           JMP PCHAR       ;
01975  1893              ;*********************************
01976  1893              ; PRINT CODE ADDRESS
01977  1893              ;*********************************
01978  1893  20 51 23    PRAD   JSR SYM         ;CHECK FOR SYMBOLIC
01979  1896  B0 1F              BCS NPRAD1      ;C=1 SYMBOLIC LABEL
01980  1898  AD 17 08           LDA XOPT        ;CHECK GENERATION
01981  189B  F0 10              BEQ P1          ;NO LABELS
01982  189D  20 1B 1B           JSR INTCHA      ;IS ADDRESS IN TAB
01983  18A0  B0 0B              BCS P1          ;C=1 YES
01984  18A2  AD 1C 08           LDA FOROPT      ;CHECK FORMAT
01985  18A5  F0 03              BEQ POVER       ;STD FORMAT
01986  18A7  4C 0E 19           JMP SPACE       ;ONE SPACE
01987  18AA  4C 01 19    POVER  JMP SPAC6       ;SPACE OVER
01988  18AD              ;*********************************
01989  18AD              ; PRINT ADDRESS AS LABEL
01990  18AD              ;*********************************
01991  18AD  20 89 18    P1     JSR PRLA        ;PRINT XX
01992  18B0  20 BF 18           JSR PSELEC      ;PRINT ADDRESS
01993  18B3  EA                 NOP
01994  18B4  EA                 NOP
01995  18B5  EA                 NOP
01996  18B6  60          NPRAD  RTS             ;RETURN
01997  18B7              ;*********************************
01998  18B7  AD 1C 08    NPRAD1 LDA FOROPT






DISASSEMBLER64......PAGE 0041

LINE# LOC   CODE        LINE


01999  18BA  D0 FA              BNE NPRAD
02000  18BC  4C 02 24           JMP FIXSYM
02001  18BF              ;*********************************
02002  18BF              ; PRINT SELECT ADDRESS
02003  18BF              ;*********************************
02004  18BF  AD 22 08    PSELEC LDA SELECT      ;LOW BYTE
02005  18C2  AC 23 08           LDY SELECT+1    ;HIGH BYTE
02006  18C5  4C A8 13           JMP PRBYTS      ;PRINT THEM
02007  18C8              ;*********************************
02008  18C8              ; PRINT WORKED ADDRESS WITH XX
02009  18C8              ;*********************************
02010  18C8  20 89 18    PWORK  JSR PRLA        ;PRINT XX
02011  18CB              ;*********************************
02012  18CB              ; PRINT WORKED ADDRESS
02013  18CB              ;*********************************
02014  18CB  AD 45 08    PWORKD LDA WORKED      ;LOW BYTE
02015  18CE  AC 46 08           LDY WORKED+1    ;HIGH BYTE
02016  18D1  4C A8 13           JMP PRBYTS      ;PRINT THEM
02017  18D4              ;********************************
02018  18D4              ; PRINT SEMICOLON FOR COMMENT
02019  18D4              ;********************************
02020  18D4  A9 3B       SEMIC  LDA #';'
02021  18D6  4C 1A 14           JMP PCHAR
02022  18D9              ;********************************
02023  18D9              ; PRINT DOLLAR SIGN FOR HEX
02024  18D9              ;********************************
02025  18D9  A9 24       DOLLAR LDA #'$'
02026  18DB  4C 1A 14           JMP PCHAR
02027  18DE              ;********************************
02028  18DE              ; PRINT LEFT PARENTTHESES
02029  18DE              ;********************************
02030  18DE  A9 28       LPAREN LDA #'('
02031  18E0  4C 1A 14           JMP PCHAR
02032  18E3              ;********************************
02033  18E3              ; PRINT RIGHT PARENTTHESES
02034  18E3              ;********************************
02035  18E3  A9 29       RPAREN LDA #')'
02036  18E5  4C 1A 14           JMP PCHAR
02037  18E8              ;********************************
02038  18E8              ; PRINT A COMMA AND AN "X"
02039  18E8              ;********************************
02040  18E8  A9 2C       XINDEX LDA #','
02041  18EA  20 1A 14           JSR PCHAR
02042  18ED  A9 58              LDA #'X'
02043  18EF  4C 1A 14           JMP PCHAR
02044  18F2              ;********************************
02045  18F2              ; PRINT A COMMA AND A "Y"
02046  18F2              ;********************************
02047  18F2  A9 2C       YINDEX LDA #','
02048  18F4  20 1A 14           JSR PCHAR
02049  18F7  A9 59              LDA #'Y'
02050  18F9  4C 1A 14           JMP PCHAR
02051  18FC              ;********************************
02052  18FC              ; PRINT CARRAIGE RETURN
02053  18FC              ;*********************************






DISASSEMBLER64......PAGE 0042

LINE# LOC   CODE        LINE


02054  18FC  A9 0D       CRLF   LDA #$0D        ;ASCII CR
02055  18FE  4C 1A 14           JMP PCHAR       ;PRINT
02056  1901              ;*********************************
02057  1901              ; PRINT SIX SPACES
02058  1901              ;*********************************
02059  1901  A9 05       SPAC6  LDA #$05
02060  1903  8D 51 08    SPACM  STA TEMP
02061  1906  20 0E 19    SPAC   JSR SPACE
02062  1909  CE 51 08           DEC TEMP
02063  190C  D0 F8              BNE SPAC
02064  190E              ;*********************************
02065  190E              ; PRINT SPACE
02066  190E              ;*********************************
02067  190E  A9 20       SPACE  LDA #$20        ;ASCII SPACE
02068  1910  4C 1A 14           JMP PCHAR       ;PRINT
02069  1913              ;*********************************
02070  1913              ; SELECT NEXT BYTE
02071  1913              ;*********************************
02072  1913  AD 23 08    NEXTSL LDA SELECT+1
02073  1916  CD 21 08           CMP EA+1
02074  1919  90 0A              BCC SLOK
02075  191B  D0 0D              BNE NOINC
02076  191D  AD 22 08           LDA SELECT
02077  1920  CD 20 08           CMP EA
02078  1923  B0 05              BCS NOINC
02079  1925  20 2C 19    SLOK   JSR INCSL
02080  1928  18                 CLC
02081  1929  60                 RTS
02082  192A  38          NOINC  SEC
02083  192B  60                 RTS
02084  192C              ;*********************************
02085  192C              ; INC SELECTED BYTE
02086  192C              ;*********************************
02087  192C  EE 22 08    INCSL  INC SELECT
02088  192F  D0 03              BNE *+5
02089  1931  EE 23 08           INC SELECT+1
02090  1934  60                 RTS
02091  1935              ;*********************************
02092  1935              ; GET SELECTED BYTE
02093  1935              ;*********************************
02094  1935  18          GETSL  CLC
02095  1936  AD 22 08           LDA SELECT
02096  1939  6D 24 08           ADC OFFSET
02097  193C  85 02              STA ZEROUR
02098  193E  AD 23 08           LDA SELECT+1
02099  1941  6D 25 08           ADC OFFSET+1
02100  1944  85 03              STA ZEROUR+1
02101  1946  A0 00              LDY #$00
02102  1948  B1 02              LDA (ZEROUR),Y
02103  194A  60                 RTS
02104  194B              ;*********************************
02105  194B              ; DEC SLECTED BYTE
02106  194B              ;*********************************
02107  194B  AD 22 08    DECSL  LDA SELECT
02108  194E  D0 03              BNE *+5






DISASSEMBLER64......PAGE 0043

LINE# LOC   CODE        LINE


02109  1950  CE 23 08           DEC SELECT+1
02110  1953  CE 22 08           DEC SELECT
02111  1956  60                 RTS
02112  1957              ;*********************************
02113  1957              ; INITIALIZE SELECT
02114  1957              ;*********************************
02115  1957  AD 1E 08    INTSA  LDA SA
02116  195A  8D 22 08           STA SELECT
02117  195D  AD 1F 08           LDA SA+1
02118  1960  8D 23 08           STA SELECT+1
02119  1963  60                 RTS
02120  1964              ;*********************************
02121  1964              ; ASCII STRING DATA
02122  1964              ;*********************************
02123  1964  2E 42       MSGBIT .BYTE '.BYTE $',0
02123  196B  00 
02124  196C  20 3B       MSGBZP .BYTE '         ;BIT ZP SKIP',0
02124  1979  00 
02125  197A  2A 2B 24    POSREL .BYTE '*+$',0
02125  197D  00 
02126  197E  2A 2D 24    NEGREL .BYTE '*-$',0
02126  1981  00 
02127  1982  2E 45       MSGEND .BYTE '.END',0
02127  1986  00 
02128  1987  3B 3F       ILLMSG .BYTE ';??? ILLEGAL OPCODE',0
02128  199A  00 
02129  199B              ;*********************************
02130  199B              ; PRINT ONE BYTE OPCODE DATA
02131  199B              ;*********************************
02132  199B  20 35 19    PRTONE JSR GETSL       ;GET BYTE
02133  199E  20 AE 13           JSR PRBYT       ;PRINT BYTE
02134  19A1  AD 1C 08           LDA FOROPT
02135  19A4  F0 03              BEQ PRTON1
02136  19A6  A9 07              LDA #$07
02137  19A8  2C                 .BYTE $2C
02138  19A9  A9 09       PRTON1 LDA #$09        ;10 SPACES
02139  19AB  20 03 19           JSR SPACM       ;
02140  19AE  4C 07 1A           JMP PRTEST      ;RESET I/O DEVICE
02141  19B1              ;*********************************
02142  19B1              ; PRINT TWO BYTE OPCODE DATA
02143  19B1              ;*********************************
02144  19B1  20 35 19    PRTTWO JSR GETSL       ;GET BYTE
02145  19B4  20 AE 13           JSR PRBYT       ;PRINT BYTE
02146  19B7  20 0E 19           JSR SPACE       ;
02147  19BA  20 2C 19           JSR INCSL       ;INC TO OPERAND
02148  19BD  20 35 19           JSR GETSL       ;GET BYTE
02149  19C0  20 AE 13           JSR PRBYT       ;PRINT IT
02150  19C3  AD 1C 08           LDA FOROPT
02151  19C6  F0 03              BEQ PRTTW1
02152  19C8  A9 04              LDA #$04
02153  19CA  2C                 .BYTE $2C
02154  19CB  A9 06       PRTTW1 LDA #$06        ;7 SPACES
02155  19CD  20 03 19           JSR SPACM       ;
02156  19D0  20 4B 19           JSR DECSL       ;RESET POINTER
02157  19D3  4C 07 1A           JMP PRTEST      ;RESET I/O DEVICE






DISASSEMBLER64......PAGE 0044

LINE# LOC   CODE        LINE


02158  19D6              ;*********************************
02159  19D6              ; PRINT THREE BYTE OPCODE DATA
02160  19D6              ;*********************************
02161  19D6  20 35 19    PRTTHE JSR GETSL       ;GET BYTE
02162  19D9  20 AE 13           JSR PRBYT       ;PRINT BYTE
02163  19DC  20 0E 19           JSR SPACE       ;
02164  19DF  20 2C 19           JSR INCSL       ;INC TO OPERAND
02165  19E2  20 35 19           JSR GETSL       ;GET BYTE
02166  19E5  20 AE 13           JSR PRBYT       ;PRINT IT
02167  19E8  20 0E 19           JSR SPACE       ;
02168  19EB  20 2C 19           JSR INCSL       ;INC TO LAST BYTE
02169  19EE  20 35 19           JSR GETSL       ;GET BYTE
02170  19F1  20 AE 13           JSR PRBYT       ;PRINT IT
02171  19F4  AD 1C 08           LDA FOROPT
02172  19F7  F0 03              BEQ PRTTH1
02173  19F9  A9 01              LDA #$01
02174  19FB  2C                 .BYTE $2C
02175  19FC  A9 03       PRTTH1 LDA #$03        ;4 SPACES
02176  19FE  20 03 19           JSR SPACM       ;
02177  1A01  20 4B 19           JSR DECSL       ;DEC POINTER
02178  1A04  20 4B 19           JSR DECSL       ;DEC POINTER
02179  1A07              ;*********************************
02180  1A07              ; RESET I/O DEVICE (DISK IF USED)
02181  1A07              ;*********************************
02182  1A07  AD 1A 08    PRTEST LDA OUTPUT      ;GET I/O DEVICE
02183  1A0A  8D 19 08           STA DEVICE      ;RESET I/O
02184  1A0D  60                 RTS             ;RETURN
02185  1A0E              ;*********************************
02186  1A0E              ; PRINT LINE DATA FOR OPCODE
02187  1A0E              ;*********************************
02188  1A0E  AD 19 08    PRTDAT LDA DEVICE      ;OUTPUT DEVICE
02189  1A11  29 07              AND #$07        ;MASK DISK
02190  1A13  8D 19 08           STA DEVICE      ;RESET
02191  1A16  AD 1C 08           LDA FOROPT      ;CHECK FORMAT
02192  1A19  D0 0F              BNE PRTDAF      ;SKIP LINE #
02193  1A1B  AD 59 08           LDA LINECT+1    ;HIH BYTE LINE
02194  1A1E  AE 58 08           LDX LINECT      ;LOW BYTE LINE
02195  1A21  20 E0 13           JSR PRTNUM      ;PRINT NUMBER
02196  1A24  20 0E 19           JSR SPACE       ;
02197  1A27  20 0E 19           JSR SPACE       ;
02198  1A2A  20 BF 18    PRTDAF JSR PSELEC      ;PRINT ADDRESS
02199  1A2D  A9 01              LDA #$01        ;2 SPACES
02200  1A2F  4C 03 19           JMP SPACM       ;
02201  1A32              ;*********************************
02202  1A32              ; PRINT LINE DATA FOR OTHER LINES
02203  1A32              ;*********************************
02204  1A32  20 0E 1A    PRTOTH JSR PRTDAT      ;PRINT LINE
02205  1A35  AD 1C 08           LDA FOROPT
02206  1A38  F0 03              BEQ PRTOT1
02207  1A3A  A9 09              LDA #$09
02208  1A3C  2C                 .BYTE $2C
02209  1A3D  A9 0B       PRTOT1 LDA #$0B        ;12 SPACES
02210  1A3F  20 03 19           JSR SPACM       ;
02211  1A42  4C 07 1A           JMP PRTEST      ;RESET I/O
02212  1A45              ;********************************






DISASSEMBLER64......PAGE 0045

LINE# LOC   CODE        LINE


02213  1A45              ;.FIL 0:INTERNAL.ASM
02214  1A45              ;********************************
02215  1A45              .END
02216  1A45              ;*********************************
02217  1A45              .LIB   INTERNAL.ASM
02218  1A45              ;*********************************
02219  1A45              ; FILE INTERNAL.ASM
02220  1A45              ;*********************************
02221  1A45              ;
02222  1A45              ;        DISASSEMBLER64
02223  1A45              ;    SYMBOLIC DISASSEMBLER
02224  1A45              ;       BY DENTON MARLOWE
02225  1A45              ;
02226  1A45              ;  (C)1986 BY DENTON MARLOWE
02227  1A45              ;
02228  1A45              ;*********************************
02229  1A45              ; INTERNAL ADDRESS TABLE ROUTINES
02230  1A45              ;*********************************
02231  1A45              ; CHECK FOR OUT OF RANGE ADDRESS
02232  1A45              ;*********************************
02233  1A45  AD 46 08    RANGE  LDA WORKED+1    ;GET HIGH
02234  1A48  CD 29 08           CMP EAGOL+1     ;COMPARE
02235  1A4B  90 0A              BCC RANG        ;< CHECK START
02236  1A4D  D0 1A              BNE ROUT        ;> OUT OF RANGE
02237  1A4F  AD 45 08           LDA WORKED      ;GET LOW
02238  1A52  CD 28 08           CMP EAGOL       ;COMPARE
02239  1A55  B0 12              BCS ROUT        ;> OUT OF RANGE
02240  1A57              ;*********************************
02241  1A57  AD 46 08    RANG   LDA WORKED+1    ;GET HIGH
02242  1A5A  CD 27 08           CMP SAGOL+1     ;COMPARE
02243  1A5D  90 0A              BCC ROUT        ;< OUT OF RANGE
02244  1A5F  AD 45 08           LDA WORKED      ;GET LOW
02245  1A62  CD 26 08           CMP SAGOL       ;COMPARE
02246  1A65  90 02              BCC ROUT        ;< OUT OF RANGE
02247  1A67              ;*********************************
02248  1A67  18                 CLC             ;C=0 IN RANGE
02249  1A68  60                 RTS
02250  1A69  38          ROUT   SEC             ;C=1 OUT RANGE
02251  1A6A  60                 RTS
02252  1A6B              ;*********************************
02253  1A6B              ; INITIALIZE INTERNAL TABLE
02254  1A6B              ;*********************************
02255  1A6B  AD EF 08    INITIN LDA DATABE
02256  1A6E  8D 30 08           STA TABINS
02257  1A71  8D 32 08           STA TABINE
02258  1A74  AD F0 08           LDA DATABE+1
02259  1A77  8D 31 08           STA TABINS+1
02260  1A7A  8D 33 08           STA TABINE+1
02261  1A7D              ;*********************************
02262  1A7D              ; INITIALIZE INTERNAL TABLE POINT
02263  1A7D              ;*********************************
02264  1A7D  AD 30 08    INTSET LDA TABINS
02265  1A80  8D 2E 08           STA TABINP
02266  1A83  AD 31 08           LDA TABINS+1
02267  1A86  8D 2F 08           STA TABINP+1






DISASSEMBLER64......PAGE 0046

LINE# LOC   CODE        LINE


02268  1A89  60                 RTS
02269  1A8A              ;*********************************
02270  1A8A              ; SAVE INTERNAL TABLE POINTERS
02271  1A8A              ;*********************************
02272  1A8A  AD 30 08    SAVINT LDA TABINS
02273  1A8D  8D 4B 08           STA SAVES
02274  1A90  AD 31 08           LDA TABINS+1
02275  1A93  8D 4C 08           STA SAVES+1
02276  1A96  AD 32 08           LDA TABINE
02277  1A99  8D 4D 08           STA SAVEE
02278  1A9C  AD 33 08           LDA TABINE+1
02279  1A9F  8D 4E 08           STA SAVEE+1
02280  1AA2  60                 RTS
02281  1AA3              ;*********************************
02282  1AA3              ; RESTORE INTERNAL TABLE POINTERS
02283  1AA3              ;*********************************
02284  1AA3  AD 4B 08    RESINT LDA SAVES
02285  1AA6  8D 30 08           STA TABINS
02286  1AA9  AD 4C 08           LDA SAVES+1
02287  1AAC  8D 31 08           STA TABINS+1
02288  1AAF  AD 4D 08           LDA SAVEE
02289  1AB2  8D 32 08           STA TABINE
02290  1AB5  AD 4E 08           LDA SAVEE+1
02291  1AB8  8D 33 08           STA TABINE+1
02292  1ABB  60                 RTS
02293  1ABC              ;*********************************
02294  1ABC              ; PUT ADDRESS IN INTERNAL TABLE
02295  1ABC              ;*********************************
02296  1ABC  38          PUTI   SEC
02297  1ABD  AD 30 08           LDA TABINS
02298  1AC0  ED 32 08           SBC TABINE
02299  1AC3  8D 51 08           STA TEMP
02300  1AC6  AD 31 08           LDA TABINS+1
02301  1AC9  ED 33 08           SBC TABINE+1
02302  1ACC  0D 51 08           ORA TEMP
02303  1ACF  F0 05              BEQ PUIT
02304  1AD1              ;
02305  1AD1  20 27 1B           JSR INTCHK      ;IS ADDRESS IN TAB
02306  1AD4  B0 23              BCS INTEXT      ;IF SO EXIT
02307  1AD6              ;
02308  1AD6  AD 32 08    PUIT   LDA TABINE      ;GET LOW END
02309  1AD9  85 02              STA ZEROUR      ;STORE
02310  1ADB  AD 33 08           LDA TABINE+1    ;GET HIGH END
02311  1ADE  85 03              STA ZEROUR+1    ;STORE
02312  1AE0  A0 00              LDY #$00        ;OFFSET
02313  1AE2  AD 45 08           LDA WORKED      ;GET LOW ADDRESS
02314  1AE5  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02315  1AE7  C8                 INY             ;OFFSET TO HIGH
02316  1AE8  AD 46 08           LDA WORKED+1    ;GET HIGH ADDRESS
02317  1AEB  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02318  1AED              ;
02319  1AED  20 D4 18           JSR SEMIC       ;PRINT ;
02320  1AF0  20 CB 18           JSR PWORKD      ;PRINT ADDRESS
02321  1AF3              ;*********************************
02322  1AF3  20 FB 1A           JSR INCIE       ;INC TO HIGH & LOW






DISASSEMBLER64......PAGE 0047

LINE# LOC   CODE        LINE


02323  1AF6  4C FB 1A           JMP INCIE       ;INC TO HIGH & LOW
02324  1AF9              ;
02325  1AF9              INTEXT = *
02326  1AF9  18                 CLC             ;C=0 FOR NO MATCH
02327  1AFA  60                 RTS             ;RETURN
02328  1AFB              ;*********************************
02329  1AFB              ; INC INTERNAL END TABLE POINTER
02330  1AFB              ;*********************************
02331  1AFB  EE 32 08    INCIE  INC TABINE
02332  1AFE  D0 03              BNE *+5
02333  1B00  EE 33 08           INC TABINE+1
02334  1B03              ;*********************************
02335  1B03              ; INC INTERNAL ADDRESS POINTER
02336  1B03              ;*********************************
02337  1B03  EE 2E 08    INCI   INC TABINP
02338  1B06  D0 03              BNE *+5
02339  1B08  EE 2F 08           INC TABINP+1
02340  1B0B  60                 RTS
02341  1B0C              ;*********************************
02342  1B0C              ; GET BYTE FROM INTERNAL TABLE
02343  1B0C              ;*********************************
02344  1B0C  AD 2E 08    GETI   LDA TABINP
02345  1B0F  85 02              STA ZEROUR
02346  1B11  AD 2F 08           LDA TABINP+1
02347  1B14  85 03              STA ZEROUR+1
02348  1B16  A0 00              LDY #$00
02349  1B18  B1 02              LDA (ZEROUR),Y
02350  1B1A  60                 RTS
02351  1B1B              ;*********************************
02352  1B1B              ; CHECK IF ADDRESS IN TABLE
02353  1B1B              ;*********************************
02354  1B1B  AD 22 08    INTCHA LDA SELECT
02355  1B1E  8D 45 08           STA WORKED
02356  1B21  AD 23 08           LDA SELECT+1
02357  1B24  8D 46 08           STA WORKED+1
02358  1B27              ;*********************************
02359  1B27  20 7D 1A    INTCHK JSR INTSET
02360  1B2A  20 0C 1B    INTCH  JSR GETI
02361  1B2D  8D 47 08           STA WORKER
02362  1B30  20 03 1B           JSR INCI
02363  1B33  20 0C 1B           JSR GETI
02364  1B36  8D 48 08           STA WORKER+1
02365  1B39  38                 SEC
02366  1B3A  AD 46 08           LDA WORKED+1
02367  1B3D  ED 48 08           SBC WORKER+1
02368  1B40  8D 51 08           STA TEMP
02369  1B43  AD 45 08           LDA WORKED
02370  1B46  ED 47 08           SBC WORKER
02371  1B49  0D 51 08           ORA TEMP
02372  1B4C  F0 17              BEQ INTMAT
02373  1B4E              ;*********************************
02374  1B4E  20 03 1B           JSR INCI
02375  1B51  AD 2F 08           LDA TABINP+1
02376  1B54  CD 33 08           CMP TABINE+1
02377  1B57  90 D1              BCC INTCH






DISASSEMBLER64......PAGE 0048

LINE# LOC   CODE        LINE


02378  1B59  D0 08              BNE INTEND
02379  1B5B  AD 2E 08           LDA TABINP
02380  1B5E  CD 32 08           CMP TABINE
02381  1B61  90 C7              BCC INTCH
02382  1B63              ;*********************************
02383  1B63  18          INTEND CLC
02384  1B64  60                 RTS
02385  1B65  38          INTMAT SEC
02386  1B66  60                 RTS
02387  1B67              ;*********************************
02388  1B67              ; 2 BYTE TABLE SORT ROUTINE
02389  1B67              ;*********************************
02390  1B67  20 7D 1A    SORT   JSR INTSET      ;SET POINTERS
02391  1B6A  AD 30 08           LDA TABINS
02392  1B6D  8D 34 08           STA SMALLS
02393  1B70  8D 36 08           STA SMALLP
02394  1B73  AD 31 08           LDA TABINS+1
02395  1B76  8D 35 08           STA SMALLS+1
02396  1B79  8D 37 08           STA SMALLP+1
02397  1B7C              ;*********************************
02398  1B7C              ; PUT FIRST WORD INTO TEMP
02399  1B7C              ;*********************************
02400  1B7C  20 0C 1B    SORT1  JSR GETI
02401  1B7F  8D 51 08           STA TEMP
02402  1B82  20 03 1B           JSR INCI
02403  1B85  20 0C 1B           JSR GETI
02404  1B88  8D 52 08           STA TEMP+1
02405  1B8B              ;*********************************
02406  1B8B              ; INC TO NEXT WORD AND COMPARE
02407  1B8B              ; SMALLP POINTS TO LOW BYTE
02408  1B8B              ;*********************************
02409  1B8B  20 03 1B    SORT2  JSR INCI
02410  1B8E  AD 2E 08           LDA TABINP
02411  1B91  8D 36 08           STA SMALLP
02412  1B94  AD 2F 08           LDA TABINP+1
02413  1B97  8D 37 08           STA SMALLP+1
02414  1B9A  20 0C 1B           JSR GETI
02415  1B9D  8D 45 08           STA WORKED
02416  1BA0  20 03 1B           JSR INCI
02417  1BA3  AD 2F 08           LDA TABINP+1
02418  1BA6  CD 33 08           CMP TABINE+1
02419  1BA9  90 0D              BCC T2
02420  1BAB  D0 08              BNE S3
02421  1BAD  AD 2E 08           LDA TABINP
02422  1BB0  CD 32 08           CMP TABINE
02423  1BB3  90 03              BCC T2
02424  1BB5  4C 0D 1C    S3     JMP SORT3
02425  1BB8  20 0C 1B    T2     JSR GETI
02426  1BBB  8D 46 08           STA WORKED+1
02427  1BBE  CD 52 08           CMP TEMP+1
02428  1BC1  90 0D              BCC SMALL
02429  1BC3  D0 08              BNE LARGE
02430  1BC5  AD 45 08           LDA WORKED
02431  1BC8  CD 51 08           CMP TEMP
02432  1BCB  90 03              BCC SMALL






DISASSEMBLER64......PAGE 0049

LINE# LOC   CODE        LINE


02433  1BCD  4C 8B 1B    LARGE  JMP SORT2
02434  1BD0              ;*********************************
02435  1BD0              ; WORD IS SMALL THAN TEMP PUT IT
02436  1BD0              ; WHERE TEMP CAME FROM (SMALLS)
02437  1BD0              ;*********************************
02438  1BD0  AD 34 08    SMALL  LDA SMALLS
02439  1BD3  85 02              STA ZEROUR
02440  1BD5  AD 35 08           LDA SMALLS+1
02441  1BD8  85 03              STA ZEROUR+1
02442  1BDA  A0 00              LDY #$00
02443  1BDC  AD 45 08           LDA WORKED
02444  1BDF  91 02              STA (ZEROUR),Y
02445  1BE1  C8                 INY
02446  1BE2  AD 46 08           LDA WORKED+1
02447  1BE5  91 02              STA (ZEROUR),Y
02448  1BE7              ;*********************************
02449  1BE7              ; PUT TEMP IN PLACE OF WORD
02450  1BE7              ; SMALLP POINTS TO LO ADDRESS
02451  1BE7              ;*********************************
02452  1BE7  AD 36 08           LDA SMALLP
02453  1BEA  85 02              STA ZEROUR
02454  1BEC  AD 37 08           LDA SMALLP+1
02455  1BEF  85 03              STA ZEROUR+1
02456  1BF1  A0 00              LDY #$00
02457  1BF3  AD 51 08           LDA TEMP
02458  1BF6  91 02              STA (ZEROUR),Y
02459  1BF8  C8                 INY
02460  1BF9  AD 52 08           LDA TEMP+1
02461  1BFC  91 02              STA (ZEROUR),Y
02462  1BFE              ;*********************************
02463  1BFE  AD 34 08           LDA SMALLS
02464  1C01  8D 2E 08           STA TABINP
02465  1C04  AD 35 08           LDA SMALLS+1
02466  1C07  8D 2F 08           STA TABINP+1
02467  1C0A  4C 7C 1B           JMP SORT1
02468  1C0D              ;*********************************
02469  1C0D              ; IF AFTER SCAN TO TABLE GOTO NEXT
02470  1C0D              ; WORD IN TABLE FOR CHECK
02471  1C0D              ;*********************************
02472  1C0D  18          SORT3  CLC
02473  1C0E  AD 34 08           LDA SMALLS
02474  1C11  69 02              ADC #$02
02475  1C13  8D 34 08           STA SMALLS
02476  1C16  8D 2E 08           STA TABINP
02477  1C19  AD 35 08           LDA SMALLS+1
02478  1C1C  69 00              ADC #$00
02479  1C1E  8D 35 08           STA SMALLS+1
02480  1C21  8D 2F 08           STA TABINP+1
02481  1C24  AD 35 08           LDA SMALLS+1
02482  1C27  CD 33 08           CMP TABINE+1
02483  1C2A  90 0A              BCC SORTOK
02484  1C2C  D0 0B              BNE SORT4
02485  1C2E  AD 34 08           LDA SMALLS
02486  1C31  CD 32 08           CMP TABINE
02487  1C34  B0 03              BCS SORT4






DISASSEMBLER64......PAGE 0050

LINE# LOC   CODE        LINE


02488  1C36  4C 7C 1B    SORTOK JMP SORT1
02489  1C39              ;*********************************
02490  1C39  4C 7D 1A    SORT4  JMP INTSET
02491  1C3C              ;*********************************
02492  1C3C              ; PRINT INTERNAL ADDRESS TABLE
02493  1C3C              ;*********************************
02494  1C3C  38          INTPRT SEC
02495  1C3D  AD 30 08           LDA TABINS
02496  1C40  ED 32 08           SBC TABINE
02497  1C43  8D 51 08           STA TEMP
02498  1C46  AD 31 08           LDA TABINS+1
02499  1C49  ED 33 08           SBC TABINE+1
02500  1C4C  0D 51 08           ORA TEMP
02501  1C4F  D0 01              BNE INTOUT
02502  1C51  60                 RTS
02503  1C52              ;*********************************
02504  1C52  20 F1 14    INTOUT JSR HEADSY
02505  1C55  20 67 1B           JSR SORT
02506  1C58              ;*********************************
02507  1C58  A9 03       LOOP1  LDA #$03
02508  1C5A  8D 52 08           STA SAVA
02509  1C5D  20 0C 1B    INTPR  JSR GETI
02510  1C60  8D 45 08           STA WORKED
02511  1C63  20 03 1B           JSR INCI
02512  1C66  20 0C 1B           JSR GETI
02513  1C69  8D 46 08           STA WORKED+1
02514  1C6C  20 0E 19           JSR SPACE
02515  1C6F  20 65 23           JSR SYMOP
02516  1C72  90 0B              BCC INTPRS
02517  1C74  20 02 24           JSR FIXSYM
02518  1C77  A9 02              LDA #$02
02519  1C79  20 03 19           JSR SPACM
02520  1C7C  4C 84 1C           JMP INTPRM
02521  1C7F  A9 08       INTPRS LDA #$08
02522  1C81  20 03 19           JSR SPACM
02523  1C84  20 CB 18    INTPRM JSR PWORKD
02524  1C87  20 03 1B           JSR INCI
02525  1C8A  AD 2F 08           LDA TABINP+1
02526  1C8D  CD 33 08           CMP TABINE+1
02527  1C90  90 0A              BCC PRTOK
02528  1C92  D0 15              BNE PREND
02529  1C94  AD 2E 08           LDA TABINP
02530  1C97  CD 32 08           CMP TABINE
02531  1C9A  B0 0D              BCS PREND
02532  1C9C  CE 52 08    PRTOK  DEC SAVA
02533  1C9F  30 0B              BMI LOOP2
02534  1CA1  A9 02              LDA #$02
02535  1CA3  20 03 19           JSR SPACM
02536  1CA6  4C 5D 1C           JMP INTPR
02537  1CA9  4C C6 14    PREND  JMP NEXPTS
02538  1CAC  20 C6 14    LOOP2  JSR NEXPTS
02539  1CAF  4C 58 1C           JMP LOOP1
02540  1CB2              ;*********************************
02541  1CB2              ;.FIL 0:ASC.ASM
02542  1CB2              ;*********************************






DISASSEMBLER64......PAGE 0051

LINE# LOC   CODE        LINE


02543  1CB2              .END
02544  1CB2              ;*********************************
02545  1CB2              .LIB   ASC.ASM
02546  1CB2              ;*********************************
02547  1CB2              ; FILE ASC.ASM
02548  1CB2              ;*********************************
02549  1CB2              ;
02550  1CB2              ;        DISASSEMBLER64
02551  1CB2              ;    SYMBOLIC DISASSEMBLER
02552  1CB2              ;       BY DENTON MARLOWE
02553  1CB2              ;
02554  1CB2              ;  (C)1986 BY DENTON MARLOWE
02555  1CB2              ;
02556  1CB2              ;*********************************
02557  1CB2              ; DATA TABLE HANDLER
02558  1CB2              ;*********************************
02559  1CB2  AD E9 08    DATAOP LDA NDATA       ;GET NUM TABLES
02560  1CB5  F0 07              BEQ ENDAX       ;IF ZERO EXIT
02561  1CB7  A9 00              LDA #$00        ;ZERO BYTE
02562  1CB9  8D E7 08           STA CDATA       ;SET FIRST TABLE
02563  1CBC  F0 03              BEQ DATAO1      ;
02564  1CBE  4C A2 1D    ENDAX  JMP ENDDAT      ;
02565  1CC1              ;*********************************
02566  1CC1  AD E7 08    DATAO1 LDA CDATA       ;CURRENT TABLE
02567  1CC4  CD E9 08           CMP NDATA       ;LAST TABLE DONE
02568  1CC7  F0 F5              BEQ ENDAX       ;IF SO EXIT
02569  1CC9  0A                 ASL A           ;CDATA*2
02570  1CCA  0A                 ASL A           ;CDATA*4
02571  1CCB  18                 CLC
02572  1CCC  6D E7 08           ADC CDATA       ;CDATA*5
02573  1CCF  A8                 TAY             ;PUT INTO INDEX
02574  1CD0  B9 F1 08           LDA TDATA,Y     ;START LOW
02575  1CD3  8D 47 08           STA WORKER      ;STORE
02576  1CD6  C8                 INY             ;INC OFFSET
02577  1CD7  B9 F1 08           LDA TDATA,Y     ;START HIGH
02578  1CDA  8D 48 08           STA WORKER+1    ;STORE
02579  1CDD  38                 SEC             ;C=1
02580  1CDE  AD 47 08           LDA WORKER      ;
02581  1CE1  ED 22 08           SBC SELECT      ;
02582  1CE4  8D 51 08           STA TEMP        ;
02583  1CE7  AD 48 08           LDA WORKER+1    ;
02584  1CEA  ED 23 08           SBC SELECT+1    ;
02585  1CED  0D 51 08           ORA TEMP        ;
02586  1CF0  F0 05              BEQ DATAO2      ;MATCH
02587  1CF2  EE E7 08           INC CDATA       ;NEXT TABLE
02588  1CF5  D0 CA              BNE DATAO1      ;CHECK FOR MATCH
02589  1CF7              ;*********************************
02590  1CF7              ; GET TABLE DATA
02591  1CF7              ;*********************************
02592  1CF7  C8          DATAO2 INY             ;INC OFFSET
02593  1CF8  B9 F1 08           LDA TDATA,Y     ;END LOW
02594  1CFB  8D E4 08           STA EAS         ;STORE
02595  1CFE  C8                 INY             ;INC OFFSET
02596  1CFF  B9 F1 08           LDA TDATA,Y     ;END HIGH
02597  1D02  8D E5 08           STA EAS+1       ;STORE






DISASSEMBLER64......PAGE 0052

LINE# LOC   CODE        LINE


02598  1D05  C8                 INY             ;INC OFFSET
02599  1D06  B9 F1 08           LDA TDATA,Y     ;DATA TYPE
02600  1D09  8D E6 08           STA TEXTER      ;STORE
02601  1D0C  C9 53              CMP #'S'        ;IS IT SKIPPER
02602  1D0E  D0 23              BNE ASCCCC      ;
02603  1D10              ;*********************************
02604  1D10              ; SKIP RANGE OF ADDRESSES
02605  1D10              ;*********************************
02606  1D10  AD 12 08           LDA PASS
02607  1D13  CD 15 08           CMP CPASS
02608  1D16  D0 1B              BNE ASCCCC
02609  1D18  AD E4 08           LDA EAS
02610  1D1B  8D 22 08           STA SELECT
02611  1D1E  AD E5 08           LDA EAS+1
02612  1D21  8D 23 08           STA SELECT+1
02613  1D24  20 2C 19           JSR INCSL
02614  1D27  20 44 18           JSR ORGIN
02615  1D2A  20 4B 19           JSR DECSL
02616  1D2D  20 6A 18           JSR COMENT
02617  1D30  4C 9F 1D           JMP DATUT
02618  1D33              ;*********************************
02619  1D33              ; CHECK PASS
02620  1D33              ;*********************************
02621  1D33  AD 12 08    ASCCCC LDA PASS
02622  1D36  CD 14 08           CMP EPASS       ;EXTERNAL
02623  1D39  D0 0F              BNE ASCKK
02624  1D3B  AD E4 08    SKIPER LDA EAS
02625  1D3E  8D 22 08           STA SELECT
02626  1D41  AD E5 08           LDA EAS+1
02627  1D44  8D 23 08           STA SELECT+1
02628  1D47  4C 9F 1D           JMP DATUT
02629  1D4A              ;*********************************
02630  1D4A              ; DISASSEMBLER LOOP FOR DATA
02631  1D4A              ;*********************************
02632  1D4A  AD 12 08    ASCKK  LDA PASS        ;GET PASS
02633  1D4D  CD 15 08           CMP CPASS       ;IS IT LAST
02634  1D50  D0 0E              BNE ASCI1       ;NO PRINT
02635  1D52  20 6A 18           JSR COMENT      ;COMMENT LINE
02636  1D55  AD 12 08    ASCII  LDA PASS        ;GET PASS
02637  1D58  CD 15 08           CMP CPASS       ;IS IT LAST
02638  1D5B  D0 03              BNE ASCI1       ;NO PRINT
02639  1D5D  20 0E 1A           JSR PRTDAT      ;PRINT LINE
02640  1D60  20 A5 1D    ASCI1  JSR ACHECK      ;DIS ONE LINE
02641  1D63  B0 29              BCS ASCIIQ      ;IF EA STOP
02642  1D65              ;*********************************
02643  1D65  20 E1 FF           JSR STOP
02644  1D68  F0 24              BEQ ASCIIQ
02645  1D6A  20 E4 FF           JSR GETIN
02646  1D6D  F0 E6              BEQ ASCII
02647  1D6F  C9 20              CMP #' '
02648  1D71  D0 E2              BNE ASCII
02649  1D73  AD 19 08           LDA DEVICE
02650  1D76  48                 PHA
02651  1D77  A9 03              LDA #$03
02652  1D79  8D 19 08           STA DEVICE






DISASSEMBLER64......PAGE 0053

LINE# LOC   CODE        LINE


02653  1D7C  A9 F8              LDA #<PMSG
02654  1D7E  A0 09              LDY #>PMSG
02655  1D80  20 C4 13           JSR STRPNT
02656  1D83  68                 PLA
02657  1D84  8D 19 08           STA DEVICE
02658  1D87  20 E4 FF    PAUS1  JSR GETIN
02659  1D8A  F0 FB              BEQ PAUS1
02660  1D8C  D0 C7              BNE ASCII
02661  1D8E              ;*********************************
02662  1D8E  AD 12 08    ASCIIQ LDA PASS        ;GET PASS
02663  1D91  CD 15 08           CMP CPASS       ;IS IT LAST
02664  1D94  D0 09              BNE DATUT       ;EXIT
02665  1D96  20 2C 19           JSR INCSL
02666  1D99  20 6A 18           JSR COMENT      ;COMMENT LINE
02667  1D9C  20 4B 19           JSR DECSL
02668  1D9F              ;*********************************
02669  1D9F              ; EXIT TO NEXTSL
02670  1D9F              ;*********************************
02671  1D9F  A9 FF       DATUT  LDA #$FF        ;SET N=1
02672  1DA1  60                 RTS             ;RETURN
02673  1DA2  A9 00       ENDDAT LDA #$00        ;SET N=0
02674  1DA4  60                 RTS             ;RETURN
02675  1DA5              ;*********************************
02676  1DA5              ; CHECK OPTIONS
02677  1DA5              ;*********************************
02678  1DA5  AD E6 08    ACHECK LDA TEXTER      ;GET DATA TYPE
02679  1DA8  C9 34              CMP #'4'         ;WORD-1
02680  1DAA  F0 0B              BEQ AC0
02681  1DAC  C9 33              CMP #'3'         ;DBYTE
02682  1DAE  F0 0A              BEQ AC1
02683  1DB0  C9 32              CMP #'2'         ;WORD
02684  1DB2  F0 03              BEQ AC0
02685  1DB4  4C BD 1D           JMP BYTES       ;BYTE OR ASCII
02686  1DB7  4C 79 1E    AC0    JMP WORDS       ;WORD OR WORD-1
02687  1DBA  4C 49 1E    AC1    JMP DBYTES      ;DBYTES
02688  1DBD              ;*********************************
02689  1DBD              ; .BYTE DIRECTIVE
02690  1DBD              ;*********************************
02691  1DBD  AD 12 08    BYTES  LDA PASS        ;GET PASS
02692  1DC0  CD 15 08           CMP CPASS       ;IS IT LAST
02693  1DC3  D0 20              BNE BYTESX      ;IF NOT EXIT
02694  1DC5  20 9B 19           JSR PRTONE      ;PRINT BYTE
02695  1DC8  20 93 18           JSR PRAD        ;PRINT ADDRESS
02696  1DCB  A0 1F              LDY #>MBYTE     ;.BYTE
02697  1DCD  A9 35              LDA #<MBYTE     ;
02698  1DCF  20 C4 13           JSR STRPNT      ;PRINT IT
02699  1DD2  AD E6 08           LDA TEXTER      ;GET TYPE
02700  1DD5  C9 30              CMP #'0'          ;ASCII
02701  1DD7  F0 0F              BEQ ALINE       ;ASCII BYTES
02702  1DD9  20 D9 18           JSR DOLLAR      ;PRINT $
02703  1DDC  20 35 19           JSR GETSL       ;GET BYTE
02704  1DDF  20 AE 13           JSR PRBYT       ;PRINT BYTE
02705  1DE2  20 07 13           JSR NEWLIN      ;NEXT LINE
02706  1DE5  4C 1C 1F    BYTESX JMP NEXTBY      ;NEXT BYTE
02707  1DE8              ;*********************************






DISASSEMBLER64......PAGE 0054

LINE# LOC   CODE        LINE


02708  1DE8              ; ASCII TEXT
02709  1DE8              ;*********************************
02710  1DE8  A9 00       ALINE  LDA #$00        ;ZERO BYTE
02711  1DEA  8D 51 08           STA TEMP        ;STORE IN COUNT
02712  1DED              ;*********************************
02713  1DED              ; CHECK FIRST BYTE OF LINE
02714  1DED              ;*********************************
02715  1DED  20 35 19           JSR GETSL       ;GET BYTE
02716  1DF0  20 3D 1E           JSR CASCII      ;CHECK FOR ASCII
02717  1DF3  B0 39              BCS NASCII      ;IF NOT BRANCH
02718  1DF5  A9 27              LDA #'''        ;PRINT ONE QUOTE
02719  1DF7  20 1A 14           JSR PCHAR       ;PRINT IT
02720  1DFA              ;*********************************
02721  1DFA  20 35 19    ALOP   JSR GETSL       ;GET BYTE
02722  1DFD  20 3D 1E           JSR CASCII      ;IS IT ASCII
02723  1E00  B0 24              BCS EASCII      ;IF NOT END LINE
02724  1E02  20 1A 14           JSR PCHAR       ;PRINT ASCII
02725  1E05              ; REV 2-12-2018 START
02726  1E05              ; IF CHAR = ' THEN PRINT SECOND '
02727  1E05  20 35 19           JSR GETSL       ; GET BYTE AGAIN
02728  1E08  C9 27              CMP #$27        ;'''
02729  1E0A  D0 03              BNE Q00000
02730  1E0C  20 1A 14           JSR PCHAR       ;PRINT ASCII
02731  1E0F              Q00000 = *
02732  1E0F              ; REV 2-12-2018 END
02733  1E0F  20 1C 1F           JSR NEXTBY      ;INC SELECT
02734  1E12  B0 0D              BCS EASCI1      ;C=1 IF END
02735  1E14  EE 51 08           INC TEMP        ;INC COUNT
02736  1E17  AD 51 08           LDA TEMP        ;LOAD COUNT
02737  1E1A  C9 28              CMP #$28        ;40 CHAR
02738  1E1C  F0 08              BEQ EASCII      ;IF SO END
02739  1E1E  4C FA 1D           JMP ALOP        ;NEXT
02740  1E21              ;*********************************
02741  1E21  20 26 1E    EASCI1 JSR EASCII
02742  1E24  38                 SEC
02743  1E25  60                 RTS
02744  1E26              ;*********************************
02745  1E26  A9 27       EASCII LDA #'''        ;PRINT ONE QUOTE
02746  1E28  20 1A 14           JSR PCHAR       ;
02747  1E2B  4C 07 13           JMP NEWLIN      ;PRINT CR
02748  1E2E              ;*********************************
02749  1E2E  20 D9 18    NASCII JSR DOLLAR      ;PRINT $
02750  1E31  20 35 19           JSR GETSL       ;GET BYTE
02751  1E34  20 AE 13           JSR PRBYT       ;PRINT IT
02752  1E37  20 07 13           JSR NEWLIN      ;PRINT CR
02753  1E3A  4C 1C 1F           JMP NEXTBY      ;NEXT SL
02754  1E3D              ;*********************************
02755  1E3D              ; CHECK ACCUM FOR PRINTABLE ASCII
02756  1E3D              ;*********************************
02757  1E3D  C9 20       CASCII CMP #$20        ;< SPACE
02758  1E3F  30 06              BMI NOASC       ;IF LESS NOASCII
02759  1E41  C9 60              CMP #$60        ;> _
02760  1E43  B0 02              BCS NOASC       ;IF GREATER NO
02761  1E45  18                 CLC             ;CLEAR CARRY OK
02762  1E46  60                 RTS             ;RETURN






DISASSEMBLER64......PAGE 0055

LINE# LOC   CODE        LINE


02763  1E47  38          NOASC  SEC             ;SET CARRY BAD
02764  1E48  60                 RTS             ;RETURN
02765  1E49              ;*********************************
02766  1E49              ; .DBYTE DIRECTIVE
02767  1E49              ;*********************************
02768  1E49  AD 12 08    DBYTES LDA PASS        ;CHECK PASS
02769  1E4C  CD 15 08           CMP CPASS       ;LAST PASS
02770  1E4F  D0 25              BNE DBYTEX      ;EXIT
02771  1E51  20 B1 19           JSR PRTTWO      ;PRINT 2 BYTES
02772  1E54  20 93 18           JSR PRAD        ;PRINT ADDRESS
02773  1E57  A0 1F              LDY #>MDBYTE    ;.DBYTE
02774  1E59  A9 45              LDA #<MDBYTE    ;
02775  1E5B  20 C4 13           JSR STRPNT      ;PRINT IT
02776  1E5E  20 35 19           JSR GETSL       ;GET BYTE
02777  1E61  8D 46 08           STA WORKED+1    ;STORE
02778  1E64  20 2C 19           JSR INCSL       ;GET BYTE
02779  1E67  20 35 19           JSR GETSL       ;GET BYTE
02780  1E6A  8D 45 08           STA WORKED      ;STORE
02781  1E6D  20 D9 18           JSR DOLLAR      ;PRINT $
02782  1E70  20 CB 18           JSR PWORKD      ;PRINT WORD
02783  1E73  20 07 13           JSR NEWLIN      ;PRINT CR
02784  1E76  4C 1C 1F    DBYTEX JMP NEXTBY      ;NEXT SL
02785  1E79              ;*********************************
02786  1E79              ; .WORD DIRECTIVE
02787  1E79              ;*********************************
02788  1E79  AD 12 08    WORDS  LDA PASS        ;GET PASS
02789  1E7C  CD 15 08           CMP CPASS         ;LAST
02790  1E7F  D0 0D              BNE WORD1       ;IF NOT BRANCH
02791  1E81  20 B1 19           JSR PRTTWO      ;PRINT 2 BYTES
02792  1E84  20 93 18           JSR PRAD        ;PRINT ADDRESS
02793  1E87  A0 1F              LDY #>MWORD     ;.WORD
02794  1E89  A9 3D              LDA #<MWORD     ;
02795  1E8B  20 C4 13           JSR STRPNT      ;PRINT IT
02796  1E8E              ;*********************************
02797  1E8E              ; GET WORD INTO WORKED
02798  1E8E              ;*********************************
02799  1E8E  20 35 19    WORD1  JSR GETSL       ;GET BYTE
02800  1E91  8D 45 08           STA WORKED      ;STORE BYTE
02801  1E94  8D 36 08           STA SMALLP      ;STORE BYTE
02802  1E97  20 2C 19           JSR INCSL       ;GET BYTE
02803  1E9A  20 35 19           JSR GETSL       ;GET BYTE
02804  1E9D  8D 46 08           STA WORKED+1    ;STORE BYTE
02805  1EA0  8D 37 08           STA SMALLP+1    ;STORE BYTE
02806  1EA3  AD E6 08           LDA TEXTER      ;GET OPTION
02807  1EA6  C9 34              CMP #'4'          ;.WORD ADRS-1
02808  1EA8  F0 2A              BEQ WORDM       ;BRANCH
02809  1EAA              ;*********************************
02810  1EAA              ; CHECK PASS
02811  1EAA              ;*********************************
02812  1EAA  AD 12 08           LDA PASS        ;CHECK PASS
02813  1EAD  CD 13 08           CMP IPASS       ;INTERNAL
02814  1EB0  F0 16              BEQ WORDPT      ;TABLE WORD
02815  1EB2  CD 14 08           CMP EPASS
02816  1EB5  F0 17              BEQ WORDSY
02817  1EB7              ;*********************************






DISASSEMBLER64......PAGE 0056

LINE# LOC   CODE        LINE


02818  1EB7              ; PRINT WORD
02819  1EB7              ;*********************************
02820  1EB7  20 65 23           JSR SYMOP       ;CHECK SYMBOL
02821  1EBA  B0 5A              BCS WORDS3      ;C=1 SYMBOL
02822  1EBC  20 D9 18           JSR DOLLAR      ;PRINT $
02823  1EBF  20 CB 18           JSR PWORKD      ;PRINT WORD
02824  1EC2  20 07 13           JSR NEWLIN      ;PRINT CR
02825  1EC5  4C 1C 1F    WORDSX JMP NEXTBY      ;NEXT SL
02826  1EC8  20 BC 1A    WORDPT JSR PUTI        ;PUT IN TABLE
02827  1ECB  4C 1C 1F           JMP NEXTBY      ;NEXT SL
02828  1ECE  20 65 23    WORDSY JSR SYMOP
02829  1ED1  4C 1C 1F           JMP NEXTBY
02830  1ED4              ;*********************************
02831  1ED4              ; .WORD ADDRESS-1
02832  1ED4              ;*********************************
02833  1ED4  18          WORDM  CLC
02834  1ED5  AD 45 08           LDA WORKED
02835  1ED8  69 01              ADC #$01
02836  1EDA  8D 45 08           STA WORKED
02837  1EDD  AD 46 08           LDA WORKED+1
02838  1EE0  69 00              ADC #$00
02839  1EE2  8D 46 08           STA WORKED+1
02840  1EE5              ;*********************************
02841  1EE5              ; CHECK PASS
02842  1EE5              ;*********************************
02843  1EE5  AD 12 08           LDA PASS        ;CHECK PASS
02844  1EE8  CD 13 08           CMP IPASS       ;INTERNAL
02845  1EEB  F0 DB              BEQ WORDPT      ;TABLE WORD
02846  1EED  CD 14 08           CMP EPASS       ;EXTERNAL
02847  1EF0  F0 DC              BEQ WORDSY      ;TABLE WORD
02848  1EF2              ;*********************************
02849  1EF2              ; PRINT WORD
02850  1EF2              ;*********************************
02851  1EF2  20 65 23           JSR SYMOP       ;CHECK SYMBOL
02852  1EF5  90 0D              BCC WORDS2      ;C=0 NO SYMBOL
02853  1EF7  A9 2D              LDA #'-'
02854  1EF9  20 1A 14           JSR PCHAR
02855  1EFC  A9 31              LDA #'1'
02856  1EFE  20 1A 14           JSR PCHAR
02857  1F01  4C 16 1F           JMP WORDS3
02858  1F04              ;*********************************
02859  1F04  20 D9 18    WORDS2 JSR DOLLAR      ;PRINT $
02860  1F07  AD 36 08           LDA SMALLP
02861  1F0A  8D 45 08           STA WORKED
02862  1F0D  AD 37 08           LDA SMALLP+1
02863  1F10  8D 46 08           STA WORKED+1
02864  1F13  20 CB 18           JSR PWORKD      ;PRINT WORD
02865  1F16  20 07 13    WORDS3 JSR NEWLIN      ;PRINT CR
02866  1F19  4C 1C 1F    WORDXX JMP NEXTBY      ;NEXT SL
02867  1F1C              ;*********************************
02868  1F1C              ; SELECT NEXT BYTE OF DATA
02869  1F1C              ;*********************************
02870  1F1C  AD 23 08    NEXTBY LDA SELECT+1
02871  1F1F  CD E5 08           CMP EAS+1
02872  1F22  90 0A              BCC SBLOK






DISASSEMBLER64......PAGE 0057

LINE# LOC   CODE        LINE


02873  1F24  D0 0D              BNE NOBINC
02874  1F26  AD 22 08           LDA SELECT
02875  1F29  CD E4 08           CMP EAS
02876  1F2C  B0 05              BCS NOBINC
02877  1F2E  20 2C 19    SBLOK  JSR INCSL
02878  1F31  18                 CLC
02879  1F32  60                 RTS
02880  1F33  38          NOBINC SEC
02881  1F34  60                 RTS
02882  1F35              ;*********************************
02883  1F35  20 2E       MBYTE  .BYTE ' .BYTE ',0
02883  1F3C  00 
02884  1F3D  20 2E       MWORD  .BYTE ' .WORD ',0
02884  1F44  00 
02885  1F45  20 2E       MDBYTE .BYTE ' .DBYTE ',0
02885  1F4D  00 
02886  1F4E              ;*********************************
02887  1F4E              ;.FIL 0:TABLE.ASM
02888  1F4E              ;*********************************
02889  1F4E              .END
02890  1F4E              ;*********************************
02891  1F4E              .LIB   TABLE.ASM
02892  1F4E              ;*********************************
02893  1F4E              ; FILE TABLE.ASM
02894  1F4E              ;*********************************
02895  1F4E              ;
02896  1F4E              ;        DISASSEMBLER64
02897  1F4E              ;    SYMBOLIC DISASSEMBLER
02898  1F4E              ;       BY DENTON MARLOWE
02899  1F4E              ;
02900  1F4E              ;  (C)1986 BY DENTON MARLOWE
02901  1F4E              ;
02902  1F4E              ;*********************************
02903  1F4E              ;       PRINT MNEMONIC
02904  1F4E              ;
02905  1F4E              ; OPCODE IN A
02906  1F4E              ;
02907  1F4E              ; BUG ILLEGAL OPCODE WOULD PRINT OUT AS
02908  1F4E              ;
02909  1F4E              ; ZZZZ XX                 ...  .BYTE $XX ;??? ILL
EGAL OPCODE
02910  1F4E              ; WHERE THE "..." WERE THREE NULLS
02911  1F4E              ; BECAUSE ILLEGAL OPCODE MNEMONIC IS CODES AS 0,0
,0
02912  1F4E              ;
02913  1F4E              ;*********************************
02914  1F4E  A2 03       MNEMON LDX #3          ;3 CHARACTERS
02915  1F50  8E 51 08           STX TEMP        ;COUNTER
02916  1F53  AA                 TAX             ;CODE IS INDEX
02917  1F54  BD C9 20           LDA MCODES,X    ;GET OFFSET
02918  1F57  AA                 TAX             ;INDEX OFFSET
02919  1F58  BD F1 1F    MNLOOP LDA MNAMES,X    ;GET CHARACTER
02920  1F5B              ;BEGIN REV 2017-0
02921  1F5B  F0 09              BEQ ILLOP       ;ILLEGAL OPCODE MNEMONIC C
HAR IS A NULL
02922  1F5D              ;END REV 2017-0
02923  1F5D  8E 53 08           STX SAVX        ;SAVE INDEX
02924  1F60  20 1A 14           JSR PCHAR       ;PRINT CHAR






DISASSEMBLER64......PAGE 0058

LINE# LOC   CODE        LINE


02925  1F63  AE 53 08           LDX SAVX        ;GET INDEX
02926  1F66              ;BEGIN REV 2017-1
02927  1F66              ILLOP  = *
02928  1F66              ;END REV 2017-0
02929  1F66  E8                 INX             ;NEXT CHAR
02930  1F67  CE 51 08           DEC TEMP        ;DEC COUNT
02931  1F6A  D0 EC              BNE MNLOOP      ;LOOP TILL 0
02932  1F6C  60                 RTS             ;RETURN
02933  1F6D              ;*********************************
02934  1F6D              ;        PRINT OPERAND
02935  1F6D              ;*********************************
02936  1F6D  48          PRTASS PHA             ;STACK INDEX
02937  1F6E  20 0E 1A           JSR PRTDAT      ;PRINT LINE DATA
02938  1F71  68                 PLA             ;PULL INDEX
02939  1F72  A8                 TAY             ;SAVE INDEX
02940  1F73  A9 9D              LDA #<SUBP
02941  1F75  A2 1F              LDX #>SUBP
02942  1F77  4C 87 1F           JMP GETOPE      ;LOOK UP ROUTINE
02943  1F7A              ;*********************************
02944  1F7A  A8          OPERN1 TAY             ;SAVE INDEX
02945  1F7B  A9 B9              LDA #<SUBS1
02946  1F7D  A2 1F              LDX #>SUBS1
02947  1F7F  4C 87 1F           JMP GETOPE      ;LOOK UP ROUTINE
02948  1F82              ;*********************************
02949  1F82  A8          OPERND TAY             ;SAVE INDEX
02950  1F83  A9 D5              LDA #<SUBS
02951  1F85  A2 1F              LDX #>SUBS
02952  1F87              ;*********************************
02953  1F87              ; LOOK UP AND JMP TO ROUTINE
02954  1F87              ;*********************************
02955  1F87  85 02       GETOPE STA ZEROUR      ;LOW TABLE
02956  1F89  86 03              STX ZEROUR+1    ;HIGH TABLE
02957  1F8B  B9 C9 21           LDA MODES,Y     ;GET OFFSET
02958  1F8E  A8                 TAY             ;INDEX OFFSET
02959  1F8F  B1 02              LDA (ZEROUR),Y  ;GET LOW BYTE
02960  1F91  8D 4F 08           STA ADRS        ;STORE
02961  1F94  C8                 INY             ;INC INDEX
02962  1F95  B1 02              LDA (ZEROUR),Y  ;GET HIGH BYTE
02963  1F97  8D 50 08           STA ADRS+1      ;STORE
02964  1F9A  6C 4F 08           JMP (ADRS)      ;INDIRECT JMP
02965  1F9D              ;*********************************
02966  1F9D              ; TABLE OF ADDRESSING MODE SUBS
02967  1F9D              ;*********************************
02968  1F9D              ; MACHINE LANGUAGE ROUTINES
02969  1F9D              ;*********************************
02970  1F9D              SUBP   = *             ; MODES
02971  1F9D  9B 19       .WORD  PRTONE          ; 0  $00
02972  1F9F  9B 19       .WORD  PRTONE          ; 2  $02
02973  1FA1  B1 19       .WORD  PRTTWO          ; 4  $04
02974  1FA3  B1 19       .WORD  PRTTWO          ; 6  $06
02975  1FA5  B1 19       .WORD  PRTTWO          ; 8  $08
02976  1FA7  B1 19       .WORD  PRTTWO          ; 10 $0A
02977  1FA9  D6 19       .WORD  PRTTHE          ; 12 $0C
02978  1FAB  D6 19       .WORD  PRTTHE          ; 14 $0E
02979  1FAD  D6 19       .WORD  PRTTHE          ; 16 $10






DISASSEMBLER64......PAGE 0059

LINE# LOC   CODE        LINE


02980  1FAF  9B 19       .WORD  PRTONE          ; 18 $12
02981  1FB1  B1 19       .WORD  PRTTWO          ; 20 $14
02982  1FB3  B1 19       .WORD  PRTTWO          ; 22 $16
02983  1FB5  B1 19       .WORD  PRTTWO          ; 24 $18
02984  1FB7  D6 19       .WORD  PRTTHE          ; 26 $1A
02985  1FB9              ;*********************************
02986  1FB9              ; CODE ANALYSIS ROUTINES
02987  1FB9              ;*********************************
02988  1FB9              SUBS1  = *             ; MODES
02989  1FB9  92 17       .WORD  IMPONE          ; 0  $00
02990  1FBB  92 17       .WORD  IMPONE          ; 2  $02
02991  1FBD  0D 17       .WORD  IMMEDT          ; 4  $04
02992  1FBF  56 16       .WORD  ONEBYT          ; 6  $06
02993  1FC1  56 16       .WORD  ONEBYT          ; 8  $08
02994  1FC3  56 16       .WORD  ONEBYT          ; 10 $0A
02995  1FC5  8B 16       .WORD  TWOBYT          ; 12 $0C
02996  1FC7  8B 16       .WORD  TWOBYT          ; 14 $0E
02997  1FC9  8B 16       .WORD  TWOBYT          ; 16 $10
02998  1FCB  92 17       .WORD  IMPONE          ; 18 $12
02999  1FCD  C9 17       .WORD  RELATV          ; 20 $14
03000  1FCF  56 16       .WORD  ONEBYT          ; 22 $16
03001  1FD1  56 16       .WORD  ONEBYT          ; 24 $18
03002  1FD3  8B 16       .WORD  TWOBYT          ; 26 $1A
03003  1FD5              ;*********************************
03004  1FD5              ; FINAL PASS ADDRESSING MODES
03005  1FD5              ;*********************************
03006  1FD5              SUBS   = *             ; MODES
03007  1FD5  C7 16       .WORD  ILLEGL          ; 0  $00
03008  1FD7  08 17       .WORD  ACC             ; 2  $02
03009  1FD9  0D 17       .WORD  IMMEDT          ; 4  $04
03010  1FDB  44 17       .WORD  ZEROPG          ; 6  $06
03011  1FDD  47 17       .WORD  ZEROX           ; 8  $08
03012  1FDF  4D 17       .WORD  ZEROY           ; 10 $0A
03013  1FE1  54 17       .WORD  ABSLUT          ; 12 $0C
03014  1FE3  79 17       .WORD  ABSX            ; 14 $0E
03015  1FE5  7F 17       .WORD  ABSY            ; 16 $10
03016  1FE7  85 17       .WORD  IMPLID          ; 18 $12
03017  1FE9  C9 17       .WORD  RELATV          ; 20 $14
03018  1FEB  B4 17       .WORD  INDX            ; 22 $16
03019  1FED  BD 17       .WORD  INDY            ; 24 $18
03020  1FEF  9F 17       .WORD  INDRCT          ; 26 $1A
03021  1FF1              ;*********************************
03022  1FF1              ; LIST OF MNEMONICS
03023  1FF1              ;*********************************
03024  1FF1              MNAMES = *             ; MCODES
03025  1FF1  00          .BYTE  0,0,0           ; 0   $00
03025  1FF2  00 
03025  1FF3  00 
03026  1FF4  41 44 43    .BYTE  'ADC'           ; 3   $03
03027  1FF7  41 4E 44    .BYTE  'AND'           ; 6   $06
03028  1FFA  41 53 4C    .BYTE  'ASL'           ; 9   $09
03029  1FFD  42 43 43    .BYTE  'BCC'           ; 12  $0C
03030  2000  42 43 53    .BYTE  'BCS'           ; 15  $0F
03031  2003  42 45 51    .BYTE  'BEQ'           ; 18  $12
03032  2006  42 49 54    .BYTE  'BIT'           ; 21  $15






DISASSEMBLER64......PAGE 0060

LINE# LOC   CODE        LINE


03033  2009  42 4D 49    .BYTE  'BMI'           ; 24  $18
03034  200C  42 4E 45    .BYTE  'BNE'           ; 27  $1B
03035  200F  42 50 4C    .BYTE  'BPL'           ; 30  $1E
03036  2012  42 52 4B    .BYTE  'BRK'           ; 33  $21
03037  2015  42 56 43    .BYTE  'BVC'           ; 36  $24
03038  2018  42 56 53    .BYTE  'BVS'           ; 39  $27
03039  201B  43 4C 43    .BYTE  'CLC'           ; 42  $2A
03040  201E  43 4C 44    .BYTE  'CLD'           ; 45  $2D
03041  2021  43 4C 49    .BYTE  'CLI'           ; 48  $30
03042  2024  43 4C 56    .BYTE  'CLV'           ; 51  $33
03043  2027  43 4D 50    .BYTE  'CMP'           ; 54  $36
03044  202A  43 50 58    .BYTE  'CPX'           ; 57  $39
03045  202D  43 50 59    .BYTE  'CPY'           ; 60  $3C
03046  2030  44 45 43    .BYTE  'DEC'           ; 63  $3F
03047  2033  44 45 58    .BYTE  'DEX'           ; 66  $42
03048  2036  44 45 59    .BYTE  'DEY'           ; 69  $45
03049  2039  45 4F 52    .BYTE  'EOR'           ; 72  $48
03050  203C  49 4E 43    .BYTE  'INC'           ; 75  $4B
03051  203F  49 4E 58    .BYTE  'INX'           ; 78  $4E
03052  2042  49 4E 59    .BYTE  'INY'           ; 81  $51
03053  2045  4A 4D 50    .BYTE  'JMP'           ; 84  $54
03054  2048  4A 53 52    .BYTE  'JSR'           ; 87  $57
03055  204B  4C 44 41    .BYTE  'LDA'           ; 90  $5A
03056  204E  4C 44 58    .BYTE  'LDX'           ; 93  $5D
03057  2051  4C 44 59    .BYTE  'LDY'           ; 96  $60
03058  2054  4C 53 52    .BYTE  'LSR'           ; 99  $63
03059  2057  4E 4F 50    .BYTE  'NOP'           ; 102 $66
03060  205A  4F 52 41    .BYTE  'ORA'           ; 105 $69
03061  205D  50 48 41    .BYTE  'PHA'           ; 108 $6C
03062  2060  50 48 50    .BYTE  'PHP'           ; 111 $6F
03063  2063  50 4C 41    .BYTE  'PLA'           ; 114 $72
03064  2066  50 4C 50    .BYTE  'PLP'           ; 117 $75
03065  2069  52 4F 4C    .BYTE  'ROL'           ; 120 $78
03066  206C  52 4F 52    .BYTE  'ROR'           ; 123 $7B
03067  206F  52 54 49    .BYTE  'RTI'           ; 126 $7E
03068  2072  52 54 53    .BYTE  'RTS'           ; 129 $81
03069  2075  53 42 43    .BYTE  'SBC'           ; 132 $84
03070  2078  53 45 43    .BYTE  'SEC'           ; 135 $87
03071  207B  53 45 44    .BYTE  'SED'           ; 138 $8A
03072  207E  53 45 49    .BYTE  'SEI'           ; 141 $8D
03073  2081  53 54 41    .BYTE  'STA'           ; 144 $90
03074  2084  53 54 58    .BYTE  'STX'           ; 147 $93
03075  2087  53 54 59    .BYTE  'STY'           ; 150 $96
03076  208A  54 41 58    .BYTE  'TAX'           ; 153 $99
03077  208D  54 41 59    .BYTE  'TAY'           ; 156 $9C
03078  2090  54 53 58    .BYTE  'TSX'           ; 159 $9F
03079  2093  54 58 41    .BYTE  'TXA'           ; 162 $A2
03080  2096  54 58 53    .BYTE  'TXS'           ; 165 $A5
03081  2099  54 59 41    .BYTE  'TYA'           ; 168 $A8
03082  209C              ;*********************************
03083  209C              ; QUASI-OPCODES
03084  209C              ;*********************************
03085  209C  41 53 4F    .BYTE  'ASO'           ; 171 $AB
03086  209F  52 4C 41    .BYTE  'RLA'           ; 174 $AE
03087  20A2  4C 53 45    .BYTE  'LSE'           ; 177 $B1






DISASSEMBLER64......PAGE 0061

LINE# LOC   CODE        LINE


03088  20A5  52 52 41    .BYTE  'RRA'           ; 180 $B4
03089  20A8  41 58 53    .BYTE  'AXS'           ; 183 $B7
03090  20AB  4C 41 58    .BYTE  'LAX'           ; 186 $BA
03091  20AE  44 43 4D    .BYTE  'DCM'           ; 189 $BD
03092  20B1  49 4E 53    .BYTE  'INS'           ; 192 $C0
03093  20B4  41 4C 52    .BYTE  'ALR'           ; 195 $C3
03094  20B7  41 52 52    .BYTE  'ARR'           ; 198 $C6
03095  20BA  4F 41 4C    .BYTE  'OAL'           ; 201 $C9
03096  20BD  53 41 58    .BYTE  'SAX'           ; 204 $CC
03097  20C0  4E 4F 50    .BYTE  'NOP'           ; 207 $CF
03098  20C3  53 4B 42    .BYTE  'SKB'           ; 210 $D2
03099  20C6  53 4B 57    .BYTE  'SKW'           ; 213 $D5
03100  20C9              ;*********************************
03101  20C9              ; TABLE OF MNEMONIC CODES
03102  20C9              ;*********************************
03103  20C9              ;
03104  20C9              ;A MNEMONIC'S CODE IS ITS OFFSET
03105  20C9              ;    INTO MNAMES, THE LIST OF
03106  20C9              ;         MNEONIC NAMES.
03107  20C9              ;
03108  20C9              ;*********************************
03109  20C9              MCODES = *
03110  20C9              ;     0X  1X  2X  3X  4X  5X  6X  7X
03111  20C9              ; 0X  BRK ORA KIL SLO NOP ORA ASL SLO
03112  20C9  21          .BYTE  $21,$69,$00,$00,$00,$69,$09,$00
03112  20CA  69 
03112  20CB  00 
03112  20CC  00 
03112  20CD  00 
03112  20CE  69 
03112  20CF  09 
03112  20D0  00 
03113  20D1              ;     8X  9X  AX  BX  CX  DX  EX  FX
03114  20D1                                     ;PHP ORA ASL ANC NOP ORA A
SL SLO
03115  20D1  6F          .BYTE  $6F,$69,$09,$00,$00,$69,$09,$00
03115  20D2  69 
03115  20D3  09 
03115  20D4  00 
03115  20D5  00 
03115  20D6  69 
03115  20D7  09 
03115  20D8  00 
03116  20D9              ; 1X  BPL ORA KIL SLO NOP ORA ASL SLO
03117  20D9  1E          .BYTE  $1E,$69,$00,$00,$00,$69,$09,$00
03117  20DA  69 
03117  20DB  00 
03117  20DC  00 
03117  20DD  00 
03117  20DE  69 
03117  20DF  09 
03117  20E0  00 
03118  20E1                                     ;CLC ORA NOP SLO NOP ORA A
SL SLO
03119  20E1  2A          .BYTE  $2A,$69,$00,$00,$00,$69,$09,$00
03119  20E2  69 
03119  20E3  00 






DISASSEMBLER64......PAGE 0062

LINE# LOC   CODE        LINE


03119  20E4  00 
03119  20E5  00 
03119  20E6  69 
03119  20E7  09 
03119  20E8  00 
03120  20E9              ; 2X  JSR AND KIL RLA BIT AND ROL RLA
03121  20E9  57          .BYTE  $57,$06,$00,$00,$15,$06,$78,$00
03121  20EA  06 
03121  20EB  00 
03121  20EC  00 
03121  20ED  15 
03121  20EE  06 
03121  20EF  78 
03121  20F0  00 
03122  20F1                                     ;PLP ABD ROL ANC BIT AND R
OL RLA
03123  20F1  75          .BYTE  $75,$06,$78,$00,$15,$06,$78,$00
03123  20F2  06 
03123  20F3  78 
03123  20F4  00 
03123  20F5  15 
03123  20F6  06 
03123  20F7  78 
03123  20F8  00 
03124  20F9              ; 3X  BMI AND KIL RLA NOP AND ROL RLA
03125  20F9  18          .BYTE  $18,$06,$00,$00,$00,$06,$78,$00
03125  20FA  06 
03125  20FB  00 
03125  20FC  00 
03125  20FD  00 
03125  20FE  06 
03125  20FF  78 
03125  2100  00 
03126  2101              ;     SEC AND NOP RLA NOP AND ROL RLA
03127  2101  87          .BYTE  $87,$06,$00,$00,$00,$06,$78,$00
03127  2102  06 
03127  2103  00 
03127  2104  00 
03127  2105  00 
03127  2106  06 
03127  2107  78 
03127  2108  00 
03128  2109              ; 4X  RTI EOR KIL SRE NOP EOR LSR SRE
03129  2109  7E          .BYTE  $7E,$48,$00,$00,$00,$48,$63,$00
03129  210A  48 
03129  210B  00 
03129  210C  00 
03129  210D  00 
03129  210E  48 
03129  210F  63 
03129  2110  00 
03130  2111              ;     PHA EOR LSR ALR JMP EOR LSR SRE
03131  2111  6C          .BYTE  $6C,$48,$63,$00,$54,$48,$63,$00
03131  2112  48 
03131  2113  63 
03131  2114  00 






DISASSEMBLER64......PAGE 0063

LINE# LOC   CODE        LINE


03131  2115  54 
03131  2116  48 
03131  2117  63 
03131  2118  00 
03132  2119              ; 5X  BVC EOR KIL SRE NOP EOR LSR SRE
03133  2119  24          .BYTE  $24,$48,$00,$00,$00,$48,$63,$00
03133  211A  48 
03133  211B  00 
03133  211C  00 
03133  211D  00 
03133  211E  48 
03133  211F  63 
03133  2120  00 
03134  2121              ;     CLI EOR NOP SRE NOP EOR LSR SRE
03135  2121  30          .BYTE  $30,$48,$00,$00,$00,$48,$63,$00
03135  2122  48 
03135  2123  00 
03135  2124  00 
03135  2125  00 
03135  2126  48 
03135  2127  63 
03135  2128  00 
03136  2129              ; 6X  RTS ADC KIL RRA NOP ADC ROR RRA
03137  2129  81          .BYTE  $81,$03,$00,$00,$00,$03,$7B,$00
03137  212A  03 
03137  212B  00 
03137  212C  00 
03137  212D  00 
03137  212E  03 
03137  212F  7B 
03137  2130  00 
03138  2131              ;     PLA ADC ROR ARR JMP ADC ROR RRA
03139  2131  72          .BYTE  $72,$03,$7B,$00,$54,$03,$7B,$00
03139  2132  03 
03139  2133  7B 
03139  2134  00 
03139  2135  54 
03139  2136  03 
03139  2137  7B 
03139  2138  00 
03140  2139              ; 7X  BVS ADC KIL RRA NOP ADC ROR RRA
03141  2139  27          .BYTE  $27,$03,$00,$00,$00,$03,$7B,$00
03141  213A  03 
03141  213B  00 
03141  213C  00 
03141  213D  00 
03141  213E  03 
03141  213F  7B 
03141  2140  00 
03142  2141              ;     SEI ADC NOP RRA NOP ADC ROR RRA
03143  2141  8D          .BYTE  $8D,$03,$00,$00,$00,$03,$7B,$00
03143  2142  03 
03143  2143  00 
03143  2144  00 
03143  2145  00 






DISASSEMBLER64......PAGE 0064

LINE# LOC   CODE        LINE


03143  2146  03 
03143  2147  7B 
03143  2148  00 
03144  2149              ; 8X  NOP STA NOP SAX STY STA STX SAX
03145  2149  00          .BYTE  $00,$90,$00,$00,$96,$90,$93,$00
03145  214A  90 
03145  214B  00 
03145  214C  00 
03145  214D  96 
03145  214E  90 
03145  214F  93 
03145  2150  00 
03146  2151              ;     DEY NOP TXA XXA STY STA STX SAX
03147  2151  45          .BYTE  $45,$00,$A2,$00,$96,$90,$93,$00
03147  2152  00 
03147  2153  A2 
03147  2154  00 
03147  2155  96 
03147  2156  90 
03147  2157  93 
03147  2158  00 
03148  2159              ; 9X  BCC STA KIL AHX STY STA STX SAX 
03149  2159  0C          .BYTE  $0C,$90,$00,$00,$96,$90,$93,$00
03149  215A  90 
03149  215B  00 
03149  215C  00 
03149  215D  96 
03149  215E  90 
03149  215F  93 
03149  2160  00 
03150  2161              ;     TYA STA TXS TAS SHY STA SHX AHX
03151  2161  A8          .BYTE  $A8,$90,$A5,$00,$00,$90,$00,$00
03151  2162  90 
03151  2163  A5 
03151  2164  00 
03151  2165  00 
03151  2166  90 
03151  2167  00 
03151  2168  00 
03152  2169              ; AX  LDY LDA LDX LAX LDY LDA LDX LAX
03153  2169  60          .BYTE  $60,$5A,$5D,$00,$60,$5A,$5D,$00
03153  216A  5A 
03153  216B  5D 
03153  216C  00 
03153  216D  60 
03153  216E  5A 
03153  216F  5D 
03153  2170  00 
03154  2171              ;     TAY LDA TAX LAX LDY LDA LDX LAX
03155  2171  9C          .BYTE  $9C,$5A,$99,$00,$60,$5A,$5D,$00
03155  2172  5A 
03155  2173  99 
03155  2174  00 
03155  2175  60 
03155  2176  5A 






DISASSEMBLER64......PAGE 0065

LINE# LOC   CODE        LINE


03155  2177  5D 
03155  2178  00 
03156  2179              ; BX  BCS LDA KIL LAX LDY LDA LDX LAX
03157  2179  0F          .BYTE  $0F,$5A,$00,$00,$60,$5A,$5D,$00
03157  217A  5A 
03157  217B  00 
03157  217C  00 
03157  217D  60 
03157  217E  5A 
03157  217F  5D 
03157  2180  00 
03158  2181              ;     CLV LDA TSX LAS LDY LDA LDX LAX
03159  2181  33          .BYTE  $33,$5A,$9F,$00,$60,$5A,$5D,$00
03159  2182  5A 
03159  2183  9F 
03159  2184  00 
03159  2185  60 
03159  2186  5A 
03159  2187  5D 
03159  2188  00 
03160  2189              ; CX  CPY CMP NOP DCP CPY CMP DEC DCP
03161  2189  3C          .BYTE  $3C,$36,$00,$00,$3C,$36,$3F,$00
03161  218A  36 
03161  218B  00 
03161  218C  00 
03161  218D  3C 
03161  218E  36 
03161  218F  3F 
03161  2190  00 
03162  2191              ;     INY CMP DEX AXS CPY CMP DEC DCP
03163  2191  51          .BYTE  $51,$36,$42,$00,$3C,$36,$3F,$00
03163  2192  36 
03163  2193  42 
03163  2194  00 
03163  2195  3C 
03163  2196  36 
03163  2197  3F 
03163  2198  00 
03164  2199              ; DX  BNE CMP KIL DCP NOP CMP DEC DCP
03165  2199  1B          .BYTE  $1B,$36,$00,$00,$00,$36,$3F,$00
03165  219A  36 
03165  219B  00 
03165  219C  00 
03165  219D  00 
03165  219E  36 
03165  219F  3F 
03165  21A0  00 
03166  21A1              ;     CLD CMP NOP DCP NOP CMP DEC DCP
03167  21A1  2D          .BYTE  $2D,$36,$00,$00,$00,$36,$3F,$00
03167  21A2  36 
03167  21A3  00 
03167  21A4  00 
03167  21A5  00 
03167  21A6  36 
03167  21A7  3F 






DISASSEMBLER64......PAGE 0066

LINE# LOC   CODE        LINE


03167  21A8  00 
03168  21A9              ; EX  CPX SBC NOP ISC CPX SBC INC ISC
03169  21A9  39          .BYTE  $39,$84,$00,$00,$39,$84,$4B,$00
03169  21AA  84 
03169  21AB  00 
03169  21AC  00 
03169  21AD  39 
03169  21AE  84 
03169  21AF  4B 
03169  21B0  00 
03170  21B1              ;     INX SBC NOP SBC CPX SBC INC ISC
03171  21B1  4E          .BYTE  $4E,$84,$66,$00,$39,$84,$4B,$00
03171  21B2  84 
03171  21B3  66 
03171  21B4  00 
03171  21B5  39 
03171  21B6  84 
03171  21B7  4B 
03171  21B8  00 
03172  21B9              ; FX  BEQ SBC KIL ISC NOP SBC INC ISC
03173  21B9  12          .BYTE  $12,$84,$00,$00,$00,$84,$4B,$00
03173  21BA  84 
03173  21BB  00 
03173  21BC  00 
03173  21BD  00 
03173  21BE  84 
03173  21BF  4B 
03173  21C0  00 
03174  21C1              ;     SED SBC NOP ISC NOP SBC INC ISC
03175  21C1  8A          .BYTE  $8A,$84,$00,$00,$00,$84,$4B,$00
03175  21C2  84 
03175  21C3  00 
03175  21C4  00 
03175  21C5  00 
03175  21C6  84 
03175  21C7  4B 
03175  21C8  00 
03176  21C9              ;*********************************
03177  21C9              ; TABLE OF ADDRESSING MODE CODES
03178  21C9              ;*********************************
03179  21C9              ;
03180  21C9              ; AN ADDRESSING MODE'S CODE IS
03181  21C9              ; ITS OFFSET INTO SUBS, THE TABLE
03182  21C9              ; OF ADDRESSING MODE SUBROUTINES
03183  21C9              ;
03184  21C9              ; ILLEGL ; 0  $00
03185  21C9              ; ACC    ; 2  $02
03186  21C9              ; IMMEDT ; 4  $04
03187  21C9              ; ZEROPG ; 6  $06
03188  21C9              ; ZEROX  ; 8  $08
03189  21C9              ; ZEROY  ; 10 $0A
03190  21C9              ; ABSLUT ; 12 $0C
03191  21C9              ; ABSX   ; 14 $0E
03192  21C9              ; ABSY   ; 16 $10
03193  21C9              ; IMPLID ; 18 $12






DISASSEMBLER64......PAGE 0067

LINE# LOC   CODE        LINE


03194  21C9              ; RELATV ; 20 $14
03195  21C9              ; INDX   ; 22 $16
03196  21C9              ; INDY   ; 24 $18
03197  21C9              ; INDRCT ; 26 $1A
03198  21C9              ;*********************************
03199  21C9              MODES  = * 
03200  21C9              ; 0X   0  1 2 3 4 5 6 7
03201  21C9  12          .BYTE  18,22,0,0,0,6,6,0
03201  21CA  16 
03201  21CB  00 
03201  21CC  00 
03201  21CD  00 
03201  21CE  06 
03201  21CF  06 
03201  21D0  00 
03202  21D1              ;      8  9 A B C D E F
03203  21D1  12          .BYTE  18,4,2,0,0,12,12,0
03203  21D2  04 
03203  21D3  02 
03203  21D4  00 
03203  21D5  00 
03203  21D6  0C 
03203  21D7  0C 
03203  21D8  00 
03204  21D9              ; 1X   0  1 2 3 4 5 6 7
03205  21D9  14          .BYTE  20,24,0,0,0,8,8,0
03205  21DA  18 
03205  21DB  00 
03205  21DC  00 
03205  21DD  00 
03205  21DE  08 
03205  21DF  08 
03205  21E0  00 
03206  21E1              ;      8  9 A B C D E F
03207  21E1  12          .BYTE  18,16,0,0,0,14,14,0
03207  21E2  10 
03207  21E3  00 
03207  21E4  00 
03207  21E5  00 
03207  21E6  0E 
03207  21E7  0E 
03207  21E8  00 
03208  21E9              ; 2X   0  1 2 3 4 5 6 7
03209  21E9  0C          .BYTE  12,22,0,0,6,6,6,0
03209  21EA  16 
03209  21EB  00 
03209  21EC  00 
03209  21ED  06 
03209  21EE  06 
03209  21EF  06 
03209  21F0  00 
03210  21F1              ;.BYTE 12,22,0,0,28,6,6,0
03211  21F1              ;      8  9 A B C D E F
03212  21F1  12          .BYTE  18,4,2,0,12,12,12,0
03212  21F2  04 






DISASSEMBLER64......PAGE 0068

LINE# LOC   CODE        LINE


03212  21F3  02 
03212  21F4  00 
03212  21F5  0C 
03212  21F6  0C 
03212  21F7  0C 
03212  21F8  00 
03213  21F9              ;.BYTE 18,4,2,0,30,12,12,0
03214  21F9              ; 3X   0  1 2 3 4 5 6 7
03215  21F9  14          .BYTE  20,24,0,0,0,8,8,0
03215  21FA  18 
03215  21FB  00 
03215  21FC  00 
03215  21FD  00 
03215  21FE  08 
03215  21FF  08 
03215  2200  00 
03216  2201              ;      8  9 A B C D E F
03217  2201  12          .BYTE  18,16,0,0,0,14,14,0
03217  2202  10 
03217  2203  00 
03217  2204  00 
03217  2205  00 
03217  2206  0E 
03217  2207  0E 
03217  2208  00 
03218  2209              ; 4X   0  1 2 3 4 5 6 7
03219  2209  12          .BYTE  18,22,0,0,0,6,6,0
03219  220A  16 
03219  220B  00 
03219  220C  00 
03219  220D  00 
03219  220E  06 
03219  220F  06 
03219  2210  00 
03220  2211              ;      8  9 A B C D E F
03221  2211  12          .BYTE  18,4,2,0,12,12,12,0
03221  2212  04 
03221  2213  02 
03221  2214  00 
03221  2215  0C 
03221  2216  0C 
03221  2217  0C 
03221  2218  00 
03222  2219              ; 5X   0  1 2 3 4 5 6 7
03223  2219  14          .BYTE  20,24,0,0,0,8,8,0
03223  221A  18 
03223  221B  00 
03223  221C  00 
03223  221D  00 
03223  221E  08 
03223  221F  08 
03223  2220  00 
03224  2221              ;      8  9 A B C D E F
03225  2221  12          .BYTE  18,16,0,0,0,14,14,0
03225  2222  10 






DISASSEMBLER64......PAGE 0069

LINE# LOC   CODE        LINE


03225  2223  00 
03225  2224  00 
03225  2225  00 
03225  2226  0E 
03225  2227  0E 
03225  2228  00 
03226  2229              ; 6X   0  1 2 3 4 5 6 7
03227  2229  12          .BYTE  18,22,0,0,0,6,6,0
03227  222A  16 
03227  222B  00 
03227  222C  00 
03227  222D  00 
03227  222E  06 
03227  222F  06 
03227  2230  00 
03228  2231              ;      8  9 A B C D E F
03229  2231  12          .BYTE  18,4,2,0,26,12,12,0
03229  2232  04 
03229  2233  02 
03229  2234  00 
03229  2235  1A 
03229  2236  0C 
03229  2237  0C 
03229  2238  00 
03230  2239              ; 7X   0  1 2 3 4 5 6 7
03231  2239  14          .BYTE  20,24,0,0,0,8,8,0
03231  223A  18 
03231  223B  00 
03231  223C  00 
03231  223D  00 
03231  223E  08 
03231  223F  08 
03231  2240  00 
03232  2241              ;      8  9 A B C D E F
03233  2241  12          .BYTE  18,16,0,0,0,14,14,0
03233  2242  10 
03233  2243  00 
03233  2244  00 
03233  2245  00 
03233  2246  0E 
03233  2247  0E 
03233  2248  00 
03234  2249              ; 8X   0  1 2 3 4 5 6 7
03235  2249  00          .BYTE  0,22,0,0,6,6,6,0
03235  224A  16 
03235  224B  00 
03235  224C  00 
03235  224D  06 
03235  224E  06 
03235  224F  06 
03235  2250  00 
03236  2251              ;      8  9 A B C D E F
03237  2251  12          .BYTE  18,0,18,0,12,12,12,0
03237  2252  00 
03237  2253  12 






DISASSEMBLER64......PAGE 0070

LINE# LOC   CODE        LINE


03237  2254  00 
03237  2255  0C 
03237  2256  0C 
03237  2257  0C 
03237  2258  00 
03238  2259              ; 9X   0  1 2 3 4 5 6 7
03239  2259  14          .BYTE  20,24,0,0,8,8,10,0
03239  225A  18 
03239  225B  00 
03239  225C  00 
03239  225D  08 
03239  225E  08 
03239  225F  0A 
03239  2260  00 
03240  2261              ;      8  9 A B C D E F
03241  2261  12          .BYTE  18,16,18,0,0,14,0,0
03241  2262  10 
03241  2263  12 
03241  2264  00 
03241  2265  00 
03241  2266  0E 
03241  2267  00 
03241  2268  00 
03242  2269              ; AX   0  1 2 3 4 5 6 7
03243  2269  04          .BYTE  4,22,4,0,6,6,6,0
03243  226A  16 
03243  226B  04 
03243  226C  00 
03243  226D  06 
03243  226E  06 
03243  226F  06 
03243  2270  00 
03244  2271              ;      8  9 A B C D E F
03245  2271  12          .BYTE  18,4,18,0,12,12,12,0
03245  2272  04 
03245  2273  12 
03245  2274  00 
03245  2275  0C 
03245  2276  0C 
03245  2277  0C 
03245  2278  00 
03246  2279              ; BX   0  1 2 3 4 5 6 7
03247  2279  14          .BYTE  20,24,0,0,8,8,10,0
03247  227A  18 
03247  227B  00 
03247  227C  00 
03247  227D  08 
03247  227E  08 
03247  227F  0A 
03247  2280  00 
03248  2281              ;      8  9 A B C D E F
03249  2281  12          .BYTE  18,16,18,0,14,14,16,0
03249  2282  10 
03249  2283  12 
03249  2284  00 






DISASSEMBLER64......PAGE 0071

LINE# LOC   CODE        LINE


03249  2285  0E 
03249  2286  0E 
03249  2287  10 
03249  2288  00 
03250  2289              ; CX   0  1 2 3 4 5 6 7
03251  2289  04          .BYTE  4,22,0,0,6,6,6,0
03251  228A  16 
03251  228B  00 
03251  228C  00 
03251  228D  06 
03251  228E  06 
03251  228F  06 
03251  2290  00 
03252  2291              ;      8  9 A B C D E F
03253  2291  12          .BYTE  18,4,18,0,12,12,12,0
03253  2292  04 
03253  2293  12 
03253  2294  00 
03253  2295  0C 
03253  2296  0C 
03253  2297  0C 
03253  2298  00 
03254  2299              ; DX   0  1 2 3 4 5 6 7
03255  2299  14          .BYTE  20,24,0,0,0,8,8,0
03255  229A  18 
03255  229B  00 
03255  229C  00 
03255  229D  00 
03255  229E  08 
03255  229F  08 
03255  22A0  00 
03256  22A1              ;      8  9 A B C D E F
03257  22A1  12          .BYTE  18,16,0,0,0,14,14,0
03257  22A2  10 
03257  22A3  00 
03257  22A4  00 
03257  22A5  00 
03257  22A6  0E 
03257  22A7  0E 
03257  22A8  00 
03258  22A9              ; EX   0  1 2 3 4 5 6 7
03259  22A9  04          .BYTE  4,22,0,0,6,6,6,0
03259  22AA  16 
03259  22AB  00 
03259  22AC  00 
03259  22AD  06 
03259  22AE  06 
03259  22AF  06 
03259  22B0  00 
03260  22B1              ;      8  9 A B C D E F
03261  22B1  12          .BYTE  18,4,18,0,12,12,12,0
03261  22B2  04 
03261  22B3  12 
03261  22B4  00 
03261  22B5  0C 






DISASSEMBLER64......PAGE 0072

LINE# LOC   CODE        LINE


03261  22B6  0C 
03261  22B7  0C 
03261  22B8  00 
03262  22B9              ; FX   0  1 2 3 4 5 6 7
03263  22B9  14          .BYTE  20,24,0,0,0,8,8,0
03263  22BA  18 
03263  22BB  00 
03263  22BC  00 
03263  22BD  00 
03263  22BE  08 
03263  22BF  08 
03263  22C0  00 
03264  22C1              ;      8  9 A B C D E F
03265  22C1  12          .BYTE  18,16,0,0,0,14,14,0
03265  22C2  10 
03265  22C3  00 
03265  22C4  00 
03265  22C5  00 
03265  22C6  0E 
03265  22C7  0E 
03265  22C8  00 
03266  22C9              ;*********************************
03267  22C9              ;.FIL 0:SYM.ASM
03268  22C9              ;*********************************
03269  22C9              .END
03270  22C9              ;*********************************
03271  22C9              .LIB   SYM.ASM
03272  22C9              ;*********************************
03273  22C9              ; FILE SYMBOL.ASM
03274  22C9              ;*********************************
03275  22C9              ;
03276  22C9              ;        DISASSEMBLER64
03277  22C9              ;    SYMBOLIC DISASSEMBLER
03278  22C9              ;       BY DENTON MARLOWE
03279  22C9              ;
03280  22C9              ;  (C)1986 BY DENTON MARLOWE
03281  22C9              ;
03282  22C9              ;*********************************
03283  22C9              ; SYMBOLIC ROUTINES
03284  22C9              ;*********************************
03285  22C9              ; SYMBOLIC DISASSEMBLY OPTION
03286  22C9              ;*********************************
03287  22C9  A9 36       SOP    LDA #<MSS1      ;LOW BYTE MESSAGE
03288  22CB  A0 26              LDY #>MSS1      ;HIGH BYTE MESSAGE
03289  22CD  20 C4 13           JSR STRPNT      ;OUTPUT MESSAGE
03290  22D0              ;      JSR CRNO    ;GET KEY PRESS
03291  22D0  20 8C 13           JSR CRYS
03292  22D3  90 08              BCC SOP1        ;C=0 YES
03293  22D5              ;*********************************
03294  22D5              ; ABSOLUTE DISASSEMBLY SELECTED
03295  22D5              ;*********************************
03296  22D5  A9 00              LDA #$00        ;SET SYMBLOIC FLAG
03297  22D7  8D 38 08           STA SYMBOL      ;STORE FLAG
03298  22DA  4C 26 23           JMP SY          ;FOR INTERNAL
03299  22DD              ;*********************************






DISASSEMBLER64......PAGE 0073

LINE# LOC   CODE        LINE


03300  22DD              ; SYMBOLIC DISASSEMBLY SELECTED
03301  22DD              ;*********************************
03302  22DD  A9 01       SOP1   LDA #$01        ;SET SYMBOLIC FLAG
03303  22DF  8D 38 08           STA SYMBOL      ;STORE FLAG
03304  22E2              ;*********************************
03305  22E2              ; SETUP START OF TABLE POINTER
03306  22E2              ;*********************************
03307  22E2  A9 55              LDA #<STABLE
03308  22E4  8D 3B 08           STA SYMBOS
03309  22E7  8D 39 08           STA SYMBOP
03310  22EA  A9 30              LDA #>STABLE
03311  22EC  8D 3C 08           STA SYMBOS+1
03312  22EF  8D 3A 08           STA SYMBOP+1
03313  22F2              ;*********************************
03314  22F2              ; CHECK FOR SYMBOL TABLE OPTION
03315  22F2              ;*********************************
03316  22F2  A9 5A       SYTAB  LDA #<MSS2      ;LOW BYTE MESSAGE
03317  22F4  A0 26              LDY #>MSS2      ;HIGH BYTE MESSAGE
03318  22F6  20 C4 13           JSR STRPNT      ;OUTPUT MESSAGE
03319  22F9  20 99 13           JSR CRNO        ;GET KEY PRESS
03320  22FC  B0 28              BCS SY          ;C=1 NO
03321  22FE              ;*********************************
03322  22FE              ; APPEND SYMBOL TABLE
03323  22FE              ;*********************************
03324  22FE  A9 9E              LDA #<MSS4
03325  2300  A0 26              LDY #>MSS4
03326  2302  20 C4 13           JSR STRPNT
03327  2305  20 99 13           JSR CRNO
03328  2308  B0 0A              BCS SOP4
03329  230A  A9 D8              LDA #<UTABLE
03330  230C  8D 39 08           STA SYMBOP
03331  230F  A9 31              LDA #>UTABLE
03332  2311  8D 3A 08           STA SYMBOP+1
03333  2314              ;*********************************
03334  2314              ; GO AND LOAD TABLE
03335  2314              ;*********************************
03336  2314  20 B9 24    SOP4   JSR READXX      ;READ FILE
03337  2317  B0 0D              BCS SY          ;C=1 ERROR
03338  2319              ;*********************************
03339  2319              ; SETUP END OF TABLE POINTER
03340  2319              ;*********************************
03341  2319  AD 39 08           LDA SYMBOP      ;XREF POINTER
03342  231C  8D 3D 08           STA SYMBOE
03343  231F  AD 3A 08           LDA SYMBOP+1
03344  2322  8D 3E 08           STA SYMBOE+1
03345  2325  60                 RTS
03346  2326              ;*********************************
03347  2326              ; DEFAULT SYMBOL TABLE END
03348  2326              ;*********************************
03349  2326  A9 D8       SY     LDA #<UTABLE
03350  2328  8D 3D 08           STA SYMBOE
03351  232B  A9 31              LDA #>UTABLE
03352  232D  8D 3E 08           STA SYMBOE+1
03353  2330  60                 RTS
03354  2331              ;*********************************






DISASSEMBLER64......PAGE 0074

LINE# LOC   CODE        LINE


03355  2331              ; SET OR RESET SYMBOL TABLE
03356  2331              ;*********************************
03357  2331  AD 3B 08    SSET   LDA SYMBOS
03358  2334  8D 39 08           STA SYMBOP
03359  2337  AD 3C 08           LDA SYMBOS+1
03360  233A  8D 3A 08           STA SYMBOP+1
03361  233D  60                 RTS
03362  233E              ;*********************************
03363  233E              ; EQUATE TABLE SETUP
03364  233E              ;*********************************
03365  233E  AD 32 08    EQUINT LDA TABINE
03366  2341  8D 2E 08           STA TABINP
03367  2344  8D 30 08           STA TABINS
03368  2347  AD 33 08           LDA TABINE+1
03369  234A  8D 2F 08           STA TABINP+1
03370  234D  8D 31 08           STA TABINS+1
03371  2350  60                 RTS
03372  2351              ;*********************************
03373  2351              ; ENTRY POINT FOR ADDRESS
03374  2351              ;*********************************
03375  2351  AD 38 08    SYM    LDA SYMBOL
03376  2354  F0 43              BEQ SYMEND
03377  2356  AD 22 08           LDA SELECT      ;COPY SELECT
03378  2359  8D 45 08           STA WORKED      ;ADDRESS INTO
03379  235C  AD 23 08           LDA SELECT+1    ;WORKED
03380  235F  8D 46 08           STA WORKED+1
03381  2362  4C 6A 23           JMP SYM1        ;CHECK FOR MATCH
03382  2365              ;*********************************
03383  2365              ; ENTRY POINT FOR OPCODES
03384  2365              ;*********************************
03385  2365  AD 38 08    SYMOP  LDA SYMBOL
03386  2368  F0 2F              BEQ SYMEND
03387  236A              ;*********************************
03388  236A              ; COMPARE ADDRESS TO SYMBOL TABLE
03389  236A              ;*********************************
03390  236A  20 31 23    SYM1   JSR SSET
03391  236D  20 3A 24    SYM2   JSR GETC
03392  2370  8D 48 08           STA WORKER+1
03393  2373  20 31 24           JSR INCC
03394  2376  20 3A 24           JSR GETC
03395  2379  8D 47 08           STA WORKER
03396  237C              ;*********************************
03397  237C  38                 SEC             ;SET CARRY
03398  237D  AD 47 08           LDA WORKER
03399  2380  ED 45 08           SBC WORKED      ;SUB FROM LOW
03400  2383  8D 51 08           STA TEMP        ;STORE RESULT
03401  2386  AD 48 08           LDA WORKER+1
03402  2389  ED 46 08           SBC WORKED+1    ;SUB FROM HIGH
03403  238C  0D 51 08           ORA TEMP        ;OR RESULTS
03404  238F  F0 0A              BEQ MATCH       ;CHECK FOR MATCH
03405  2391  20 0D 24           JSR NEXTC       ;IF NOT NEXT
03406  2394  B0 03              BCS SYMEND      ;END OF TABLE?
03407  2396  4C 6D 23           JMP SYM2        ;NO CHECK NEXT
03408  2399  18          SYMEND CLC             ;NO MATCHES CLEAR
03409  239A  60                 RTS             ;RETURN






DISASSEMBLER64......PAGE 0075

LINE# LOC   CODE        LINE


03410  239B              ;*********************************
03411  239B              ; FOUND MATCH
03412  239B              ;*********************************
03413  239B  AD 12 08    MATCH  LDA PASS        ;CHECK PASS
03414  239E  CD 15 08           CMP CPASS       ;IS IT LAST
03415  23A1  F0 18              BEQ MATCHS      ;IF SO PRINT
03416  23A3  CD 16 08           CMP SPASS
03417  23A6  F0 3A              BEQ MATCHT
03418  23A8  20 45 1A           JSR RANGE       ;SYMBOL IN RANGE
03419  23AB  90 3F              BCC MATEXT      ;NO INTERNAL EQ
03420  23AD  20 31 24           JSR INCC        ;INC TO SYMBOL
03421  23B0  20 3A 24           JSR GETC        ;GET FIRST CHAR
03422  23B3  C9 20              CMP #$20        ;SPACE
03423  23B5  F0 03              BEQ MATONE      ;NOT EQUATE
03424  23B7  4C BC 1A           JMP PUTI        ;PUT IN EQUATE
03425  23BA  60          MATONE RTS             ;RETURN
03426  23BB              ;*********************************
03427  23BB              ; CHECK FOR SYMBOL+1
03428  23BB              ;*********************************
03429  23BB  20 31 24    MATCHS JSR INCC        ;INC TO LABEL
03430  23BE  20 3A 24           JSR GETC        ;GET CHARARCTER
03431  23C1  C9 20              CMP #$20        ;IS IT SPACE
03432  23C3  D0 1D              BNE MATCHT      ;IF NOT GO ON
03433  23C5  38                 SEC             ;SET CARRY
03434  23C6  AD 39 08           LDA SYMBOP      ;GET LOW POINT
03435  23C9  E9 09              SBC #$09        ;LAST SYMBOL
03436  23CB  48                 PHA             ;PUSH ON STACK
03437  23CC  AD 3A 08           LDA SYMBOP+1    ;GET HIGH POINT
03438  23CF  E9 00              SBC #$00        ;LAST SYMBOL
03439  23D1  A8                 TAY             ;PUT IN Y
03440  23D2  68                 PLA             ;GET LO POINT
03441  23D3  20 ED 23           JSR STRSYM      ;PRINT SYMBOL
03442  23D6  A9 2B              LDA #'+'         ;ASCII +
03443  23D8  20 1A 14           JSR PCHAR       ;PRINT IT
03444  23DB  A9 31              LDA #'1'         ;ASCII 1
03445  23DD  20 1A 14           JSR PCHAR       ;PRINT IT
03446  23E0  38                 SEC             ;C=1 SYMBOL
03447  23E1  60                 RTS             ;RETURN
03448  23E2              ;*********************************
03449  23E2  AD 39 08    MATCHT LDA SYMBOP      ;LOW BYTE LABEL
03450  23E5  AC 3A 08           LDY SYMBOP+1    ;HIGH BYTE LABEL
03451  23E8  20 ED 23           JSR STRSYM      ;PRINT LABEL
03452  23EB              ;*********************************
03453  23EB  38                 SEC             ;MATCH SET CARRY
03454  23EC  60          MATEXT RTS             ;RETURN
03455  23ED              ;*********************************
03456  23ED              ; PRINT SYMBOL
03457  23ED              ;*********************************
03458  23ED  85 02       STRSYM STA ZEROUR
03459  23EF  84 03              STY ZEROUR+1
03460  23F1  A0 00              LDY #$00
03461  23F3  B1 02       STRSY1 LDA (ZEROUR),Y
03462  23F5  F0 0A              BEQ SYEXIT
03463  23F7  C9 20              CMP #$20
03464  23F9  F0 06              BEQ SYEXIT






DISASSEMBLER64......PAGE 0076

LINE# LOC   CODE        LINE


03465  23FB  20 1A 14           JSR PCHAR
03466  23FE  C8                 INY
03467  23FF  D0 F2              BNE STRSY1
03468  2401  60          SYEXIT RTS
03469  2402  B1 02       FIXSYM LDA (ZEROUR),Y
03470  2404  F0 FB              BEQ SYEXIT
03471  2406  20 1A 14           JSR PCHAR
03472  2409  C8                 INY
03473  240A  4C 02 24           JMP FIXSYM
03474  240D              ;*********************************
03475  240D              ; INC SYMBOL ADDRESS TABLE POINTER
03476  240D              ;*********************************
03477  240D  18          NEXTC  CLC
03478  240E  AD 39 08           LDA SYMBOP
03479  2411  69 08              ADC #$08
03480  2413  8D 39 08           STA SYMBOP
03481  2416  AD 3A 08           LDA SYMBOP+1
03482  2419  69 00              ADC #$00
03483  241B  8D 3A 08           STA SYMBOP+1
03484  241E  CD 3E 08           CMP SYMBOE+1
03485  2421  90 0A              BCC COK
03486  2423  D0 0A              BNE NCOK
03487  2425  AD 39 08           LDA SYMBOP
03488  2428  CD 3D 08           CMP SYMBOE
03489  242B  B0 02              BCS NCOK
03490  242D  18          COK    CLC
03491  242E  60                 RTS
03492  242F  38          NCOK   SEC
03493  2430  60                 RTS
03494  2431              ;*********************************
03495  2431  EE 39 08    INCC   INC SYMBOP
03496  2434  D0 03              BNE *+5
03497  2436  EE 3A 08           INC SYMBOP+1
03498  2439  60                 RTS
03499  243A              ;*********************************
03500  243A              ; GET BYTE FROM ADDRESS TABLE
03501  243A              ;*********************************
03502  243A  AD 39 08    GETC   LDA SYMBOP
03503  243D  85 02              STA ZEROUR
03504  243F  AD 3A 08           LDA SYMBOP+1
03505  2442  85 03              STA ZEROUR+1
03506  2444  A0 00              LDY #$00
03507  2446  B1 02              LDA (ZEROUR),Y
03508  2448  60                 RTS
03509  2449              ;*********************************
03510  2449              ; PRINT EQUATE TABLE
03511  2449              ;*********************************
03512  2449  38          EQUPRT SEC
03513  244A  AD 30 08           LDA TABINS
03514  244D  ED 32 08           SBC TABINE
03515  2450  8D 51 08           STA TEMP
03516  2453  AD 31 08           LDA TABINS+1
03517  2456  ED 33 08           SBC TABINE+1
03518  2459  0D 51 08           ORA TEMP
03519  245C  F0 55              BEQ EQUEND






DISASSEMBLER64......PAGE 0077

LINE# LOC   CODE        LINE


03520  245E  20 67 1B           JSR SORT
03521  2461  20 6A 18           JSR COMENT
03522  2464  20 32 1A           JSR PRTOTH
03523  2467  A9 30              LDA #<EQUATE
03524  2469  A0 27              LDY #>EQUATE
03525  246B  20 C4 13           JSR STRPNT
03526  246E  20 07 13           JSR NEWLIN
03527  2471  20 6A 18           JSR COMENT
03528  2474  20 0C 1B    EQUOP  JSR GETI
03529  2477  8D 45 08           STA WORKED
03530  247A  20 03 1B           JSR INCI
03531  247D  20 0C 1B           JSR GETI
03532  2480  8D 46 08           STA WORKED+1
03533  2483  20 32 1A           JSR PRTOTH
03534  2486  20 65 23           JSR SYMOP
03535  2489  B0 03              BCS EQUOP1
03536  248B  20 C8 18           JSR PWORK
03537  248E  A9 3D       EQUOP1 LDA #'='
03538  2490  20 1A 14           JSR PCHAR
03539  2493  A9 24              LDA #'$'
03540  2495  20 1A 14           JSR PCHAR
03541  2498  20 CB 18           JSR PWORKD
03542  249B  20 07 13           JSR NEWLIN
03543  249E              ;*********************************
03544  249E  20 03 1B           JSR INCI
03545  24A1  AD 2F 08           LDA TABINP+1
03546  24A4  CD 33 08           CMP TABINE+1
03547  24A7  90 CB              BCC EQUOP
03548  24A9  D0 08              BNE EQUEND
03549  24AB  AD 2E 08           LDA TABINP
03550  24AE  CD 32 08           CMP TABINE
03551  24B1  90 C1              BCC EQUOP
03552  24B3              ;*********************************
03553  24B3  20 6A 18    EQUEND JSR COMENT
03554  24B6  4C A3 1A           JMP RESINT
03555  24B9              ;*********************************
03556  24B9              ; READ CROSS REFERENCE SEQ FILE
03557  24B9              ;      INTO SYMBOL TABLE
03558  24B9              ;*********************************
03559  24B9              ; READ FILE NAME DEFAULT ON CR
03560  24B9              ;*********************************
03561  24B9  A9 80       READXX LDA #<MSS3
03562  24BB  A0 26              LDY #>MSS3
03563  24BD  20 C4 13           JSR STRPNT
03564  24C0  20 E4 FF    SOP2   JSR GETIN
03565  24C3  F0 FB              BEQ SOP2
03566  24C5  C9 30              CMP #'0'
03567  24C7  F0 04              BEQ SOP3
03568  24C9  C9 31              CMP #'1'
03569  24CB  D0 F3              BNE SOP2
03570  24CD  20 D2 FF    SOP3   JSR CHROUT
03571  24D0  8D E6 08           STA TEXTER
03572  24D3              ;*********************************
03573  24D3  A9 C2              LDA #<LOADF
03574  24D5  A0 26              LDY #>LOADF






DISASSEMBLER64......PAGE 0078

LINE# LOC   CODE        LINE


03575  24D7  20 C4 13           JSR STRPNT
03576  24DA              ;*********************************
03577  24DA  20 25 13           JSR INSTNG
03578  24DD  F0 20              BEQ READXF
03579  24DF  98                 TYA
03580  24E0  48                 PHA
03581  24E1  20 B4 0C           JSR INITD
03582  24E4  68                 PLA
03583  24E5  A8                 TAY
03584  24E6  A2 00              LDX #$00
03585  24E8  BD 32 26    XFILE1 LDA NAMS,X
03586  24EB  99 5C 08           STA BUF,Y
03587  24EE  C8                 INY
03588  24EF  E8                 INX
03589  24F0  E0 04              CPX #$04
03590  24F2  D0 F4              BNE XFILE1
03591  24F4  98                 TYA
03592  24F5  A0 08              LDY #>BUF
03593  24F7  A2 5C              LDX #<BUF
03594  24F9  20 BD FF           JSR SETNAM
03595  24FC  4C 08 25           JMP REOPEN
03596  24FF              ;*********************************
03597  24FF              ; DEFAULT FILENAME XRFF0000
03598  24FF              ;********************************
03599  24FF  A9 0E       READXF LDA #$0E
03600  2501  A0 26              LDY #>NAME
03601  2503  A2 28              LDX #<NAME
03602  2505  20 BD FF           JSR SETNAM
03603  2508              ;*********************************
03604  2508              ; OPEN FILE
03605  2508              ;********************************
03606  2508  A9 03       REOPEN LDA #$03
03607  250A  A2 08              LDX #$08
03608  250C  A0 03              LDY #$03
03609  250E  20 BA FF           JSR SETLFS
03610  2511  20 C0 FF           JSR OPEN
03611  2514              ;********************************
03612  2514              ; CHECK FOR DISK ERROR
03613  2514              ;*********************************
03614  2514  20 CD 12           JSR DISERR
03615  2517  B0 3F              BCS QUITXX
03616  2519              ;*********************************
03617  2519              ; OUTPUT LOADING MESSAGE
03618  2519              ;*********************************
03619  2519  A9 E0              LDA #<LOADM     ;MSG LOW
03620  251B  A0 26              LDY #>LOADM     ;MSG HIGH
03621  251D  20 C4 13           JSR STRPNT      ;OUTPUT MSG
03622  2520              ;*********************************
03623  2520  A9 00              LDA #$00        ;COL COUNTER
03624  2522  8D 51 08           STA TEMP
03625  2525              ;*********************************
03626  2525              ; INPUT AND LOAD SYMBOL TABLE
03627  2525              ;*********************************
03628  2525  20 69 25    READX  JSR READS       ;INPUT SYMBOL
03629  2528  20 E7 25           JSR PUTC






DISASSEMBLER64......PAGE 0079

LINE# LOC   CODE        LINE


03630  252B  20 0F 26           JSR LINES       ;SCREEN OUT
03631  252E  20 E1 FF           JSR STOP
03632  2531  F0 05              BEQ QUITX
03633  2533  20 B7 FF           JSR READST
03634  2536  F0 ED              BEQ READX
03635  2538              ;*********************************
03636  2538              ;    CLOSE OPEN FILE
03637  2538              ;*********************************
03638  2538  A9 03       QUITX  LDA #$03
03639  253A  20 C3 FF           JSR CLOSE
03640  253D  20 CC FF           JSR CLRCHN
03641  2540  20 FC 18           JSR CRLF
03642  2543              ;*********************************
03643  2543              ; SET END OF TABLE
03644  2543              ;*********************************
03645  2543  AD 39 08           LDA SYMBOP
03646  2546  8D 3D 08           STA SYMBOE
03647  2549  AD 3A 08           LDA SYMBOP+1
03648  254C  8D 3E 08           STA SYMBOE+1
03649  254F              ;*********************************
03650  254F              ; OUTPUT LOADED MESSAGE
03651  254F              ;*********************************
03652  254F  A9 FE              LDA #<LOADC
03653  2551  A0 26              LDY #>LOADC
03654  2553  20 C4 13           JSR STRPNT
03655  2556  18                 CLC
03656  2557  60                 RTS
03657  2558              ;*********************************
03658  2558              ; OUTPUT ERROR MESSAGE
03659  2558              ;*********************************
03660  2558  A9 03       QUITXX LDA #$03
03661  255A  20 C3 FF           JSR CLOSE
03662  255D  20 CC FF           JSR CLRCHN
03663  2560  A9 15              LDA #<LOADE
03664  2562  A0 27              LDY #>LOADE
03665  2564  20 C4 13           JSR STRPNT
03666  2567  38                 SEC
03667  2568  60                 RTS
03668  2569              ;*********************************
03669  2569              ; READ SYMBOL FROM FILE
03670  2569              ;*********************************
03671  2569  A2 03       READS  LDX #$03        ;FILE NUMBER
03672  256B  20 C6 FF           JSR CHKIN       ;FILE IS INPUT
03673  256E  A0 02              LDY #$02        ;COUNTER
03674  2570  20 CF FF           JSR CHRIN       ;INPUT CHAR
03675  2573  99 DA 08           STA SYMBUF,Y    ;1ST CHAR
03676  2576  20 D2 FF           JSR CHROUT      ;PRITN IT
03677  2579  C8                 INY             ;INC POINTER
03678  257A  20 CF FF    READY  JSR CHRIN       ;NEXT CHAR
03679  257D  99 DA 08           STA SYMBUF,Y    ;STORE
03680  2580  20 D2 FF           JSR CHROUT      ;PRINT IT
03681  2583  C8                 INY             ;INC OFFSET
03682  2584  C0 08              CPY #$08        ;8 IS FOR NULL
03683  2586  D0 F2              BNE READY       ;BRANCH IF NOT
03684  2588  A9 00              LDA #$00        ;NULL MARKER






DISASSEMBLER64......PAGE 0080

LINE# LOC   CODE        LINE


03685  258A  99 DA 08           STA SYMBUF,Y    ;STORE AT END
03686  258D              ;*********************************
03687  258D  20 0E 19           JSR SPACE       ;PRINT SPACE
03688  2590  20 D9 18           JSR DOLLAR      ;PRINT $ SIGN
03689  2593              ;*********************************
03690  2593  AD E6 08           LDA TEXTER
03691  2596  C9 30              CMP #'0'
03692  2598  F0 2F              BEQ STDREF
03693  259A              ;*********************************
03694  259A  A0 00              LDY #$00
03695  259C  20 A9 25           JSR XGET
03696  259F  C8                 INY
03697  25A0  20 A9 25           JSR XGET
03698  25A3  20 CF FF           JSR CHRIN       ;GET $0D
03699  25A6  4C CC FF           JMP CLRCHN
03700  25A9              ;*********************************
03701  25A9  20 CF FF    XGET   JSR CHRIN
03702  25AC  20 D2 FF           JSR CHROUT
03703  25AF  20 75 13           JSR BINARY
03704  25B2  0A                 ASL A
03705  25B3  0A                 ASL A
03706  25B4  0A                 ASL A
03707  25B5  0A                 ASL A
03708  25B6  99 DA 08           STA SYMBUF,Y
03709  25B9  20 CF FF           JSR CHRIN
03710  25BC  20 D2 FF           JSR CHROUT
03711  25BF  20 75 13           JSR BINARY
03712  25C2  19 DA 08           ORA SYMBUF,Y
03713  25C5  99 DA 08           STA SYMBUF,Y
03714  25C8  60                 RTS
03715  25C9              ;*********************************
03716  25C9  A0 00       STDREF LDY #$00        ;ZERO OFFSET
03717  25CB  20 CF FF           JSR CHRIN       ;HIGH BYTES
03718  25CE  99 DA 08           STA SYMBUF,Y    ;
03719  25D1  8C 54 08           STY SAVY        ;
03720  25D4  20 AE 13           JSR PRBYT       ;
03721  25D7  AC 54 08           LDY SAVY        ;
03722  25DA  C8                 INY             ;
03723  25DB  20 CF FF           JSR CHRIN       ;LOW BYTE
03724  25DE  99 DA 08           STA SYMBUF,Y    ;
03725  25E1  20 AE 13           JSR PRBYT       ;
03726  25E4  4C CC FF           JMP CLRCHN      ;KEYBOARD INPUT
03727  25E7              ;*********************************
03728  25E7              ; MOVE SYMBOL FROM BUFFER TO TABLE
03729  25E7              ;*********************************
03730  25E7  A0 00       PUTC   LDY #$00
03731  25E9  AD 39 08           LDA SYMBOP
03732  25EC  85 02              STA ZEROUR
03733  25EE  AD 3A 08           LDA SYMBOP+1
03734  25F1  85 03              STA ZEROUR+1
03735  25F3  B9 DA 08    PUT    LDA SYMBUF,Y
03736  25F6  91 02              STA (ZEROUR),Y
03737  25F8  C8                 INY
03738  25F9  C0 09              CPY #$09
03739  25FB  D0 F6              BNE PUT






DISASSEMBLER64......PAGE 0081

LINE# LOC   CODE        LINE


03740  25FD  18                 CLC
03741  25FE  AD 39 08           LDA SYMBOP
03742  2601  69 09              ADC #$09
03743  2603  8D 39 08           STA SYMBOP
03744  2606  AD 3A 08           LDA SYMBOP+1
03745  2609  69 00              ADC #$00
03746  260B  8D 3A 08           STA SYMBOP+1
03747  260E  60                 RTS
03748  260F              ;*********************************
03749  260F              ; OUTPUT SYMBOL IN 4 COLUMNS
03750  260F              ;*********************************
03751  260F  EE 51 08    LINES  INC TEMP
03752  2612  A9 03              LDA #$03
03753  2614  CD 51 08           CMP TEMP
03754  2617  F0 05              BEQ RESET
03755  2619  A9 2E              LDA #'.'
03756  261B  4C D2 FF           JMP CHROUT
03757  261E  A9 00       RESET  LDA #$00
03758  2620  8D 51 08           STA TEMP
03759  2623  A9 0D              LDA #$0D
03760  2625  4C D2 FF           JMP CHROUT
03761  2628              ;*********************************
03762  2628              ;   COMMAND MESSAGES
03763  2628              ;*********************************
03764  2628  30 3A       NAME   .BYTE '0:XRLL0000'
03765  2632  2C 53       NAMS   .BYTE ',S,R'
03766  2636              ;*********************************
03767  2636  0D          MSS1   .BYTE $0D
03768  2637              ; .BYTE 'SYMBOLIC DISASSEMBLY (Y OR N/CR)? '
03769  2637  53 59              .BYTE 'SYMBOLIC DISASSEMBLY (Y/CR OR N)? '

03770  2659  00                 .BYTE 0
03771  265A  0D          MSS2   .BYTE $0D
03772  265B  4C 4F              .BYTE 'LOAD USER SYMBOL TABLE (Y OR N/CR)?
 '
03773  267F  00                 .BYTE 0
03774  2680  0D          MSS3   .BYTE $0D
03775  2681  46 4F              .BYTE 'FORMAT 0=STANDARD 1=ASCII : '
03776  269D  00                 .BYTE 0
03777  269E  0D          MSS4   .BYTE $0D
03778  269F  41 50              .BYTE 'APPEND DEFAULT TABLE (Y OR N/CR)? '

03779  26C1  00                 .BYTE 0
03780  26C2  0D          LOADF  .BYTE $0D
03781  26C3  53 59       .BYTE  'SYMBOL TABLE(CR OR D:NAME): '
03782  26DF  00          .BYTE  0
03783  26E0  0D          LOADM  .BYTE $0D,$0D
03783  26E1  0D 
03784  26E2  52 45       .BYTE  'READING SYMBOL TABLE FILE'
03785  26FB  0D          .BYTE  $0D,$0D
03785  26FC  0D 
03786  26FD  00          .BYTE  0
03787  26FE  0D          LOADC  .BYTE $0D
03788  26FF  53 59       .BYTE  'SYMBOL TABLE LOADED'
03789  2712  0D          .BYTE  $0D,$0D
03789  2713  0D 
03790  2714  00          .BYTE  0
03791  2715  0D          LOADE  .BYTE $0D






DISASSEMBLER64......PAGE 0082

LINE# LOC   CODE        LINE


03792  2716  53 59       .BYTE  'SYMBOL TABLE NOT LOADED'
03793  272D  0D          .BYTE  $0D,$0D
03793  272E  0D 
03794  272F  00          .BYTE  0
03795  2730              ;*********************************
03796  2730  3B 20       EQUATE .BYTE '; EXTERNAL ADDRESS EQUATES'
03797  274A  00                 .BYTE 0
03798  274B              ;*********************************
03799  274B              ; PATCH CODE AREA
03800  274B              ;*********************************
03801  274B              *=*+$0800
03802  2F4B              ;*********************************
03803  2F4B              ; BIT INSTRUCTION CODING
03804  2F4B              ;*********************************
03805  2F4B              BITOPT = *
03806  2F4B  A9 0D              LDA #<MSB1      ;TABLE TYPE
03807  2F4D  A0 11              LDY #>MSB1
03808  2F4F  20 C4 13           JSR STRPNT
03809  2F52  20 E4 FF    BOP0   JSR GETIN
03810  2F55  F0 FB              BEQ BOP0
03811  2F57  C9 30              CMP #'0'        ;STANDARD
03812  2F59  F0 12              BEQ BSC
03813  2F5B  C9 31              CMP #'1'        ;$2C ABS
03814  2F5D  F0 0E              BEQ BSC 
03815  2F5F  C9 32              CMP #'2'        ;$24 ZP
03816  2F61  F0 0A              BEQ BSC
03817  2F63  C9 33              CMP #'3'        ;$2C AND $24
03818  2F65  F0 06              BEQ BSC
03819  2F67  C9 0D              CMP #$0D        ;STANDARD
03820  2F69  D0 E7              BNE BOP0
03821  2F6B  A9 30              LDA #'0'
03822  2F6D              BSC    = *
03823  2F6D  48                 PHA             ;STASH INPUT
03824  2F6E  20 D2 FF           JSR CHROUT      ;OUTPUT FEEDBACK
03825  2F71  68                 PLA             ;POP INPUT
03826  2F72  49 30              EOR #$30        ;MAKE A NUMBER
03827  2F74  8D 78 2F           STA BITFLG      ;SET FLAG
03828  2F77  60                 RTS
03829  2F78              ;*********************************
03830  2F78              ; BIT INSTRUCTION CODING FLAG
03831  2F78              ;*********************************
03832  2F78              BITFLG = *
03833  2F78  AA                 .BYTE $AA
03834  2F79              ;*********************************
03835  2F79              
03836  2F79              ;*********************************
03837  2F79              ; .FIL DIRECTIVE FILE NAME BUFFER
03838  2F79              ;*********************************
03839  2F79  AA          FVERON .BYTE $AA
03840  2F7A  AA          FCHARS .BYTE $AA
03841  2F7B              FILBUF = *
03842  2F7B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
03842  2F7C  AA 
03842  2F7D  AA 
03842  2F7E  AA 






DISASSEMBLER64......PAGE 0083

LINE# LOC   CODE        LINE


03842  2F7F  AA 
03842  2F80  AA 
03842  2F81  AA 
03842  2F82  AA 
03843  2F83  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
03843  2F84  AA 
03843  2F85  AA 
03843  2F86  AA 
03843  2F87  AA 
03843  2F88  AA 
03843  2F89  AA 
03843  2F8A  AA 
03844  2F8B  AA                 .BYTE $AA,$AA,$AA,$AA
03844  2F8C  AA 
03844  2F8D  AA 
03844  2F8E  AA 
03845  2F8F              ;
03846  2F8F  2E 46       FILDIR .BYTE '.FIL ',$00
03846  2F94  00 
03847  2F95              ;*********************************
03848  2F95              ; OUTPUT:
03849  2F95              ;
03850  2F95              ; COMMENT LINE
03851  2F95              ; .FIL FILENAME OF NEXT VERSION
03852  2F95              ; COMMENT LINE
03853  2F95              ;
03854  2F95              ;*********************************
03855  2F95              OUTFIL = *
03856  2F95              ;*********************************
03857  2F95              ; INCREMENET FILE VERSON PETASCII
03858  2F95              ; $30,$31,$32 ETC
03859  2F95              ;*********************************
03860  2F95  AD C2 08           LDA VERSON
03861  2F98  8D 79 2F           STA FVERON
03862  2F9B              ;*********************************
03863  2F9B              ; COPY NUMBER CHARACTERS IN FILENAME
03864  2F9B              ;*********************************
03865  2F9B  AD C3 08           LDA NCHARS
03866  2F9E  8D 7A 2F           STA FCHARS
03867  2FA1              ;*********************************
03868  2FA1              ; COPY FILE NAME TO FILBUF
03869  2FA1              ;*********************************
03870  2FA1  A2 00              LDX #$00
03871  2FA3              FLOOP  = *
03872  2FA3  BD C4 08           LDA NBUF,X
03873  2FA6  C9 2C              CMP #','
03874  2FA8  F0 06              BEQ FLOOQ
03875  2FAA  9D 7B 2F           STA FILBUF,X
03876  2FAD  E8                 INX
03877  2FAE  D0 F3              BNE FLOOP
03878  2FB0              ;
03879  2FB0              FLOOQ  = *
03880  2FB0  AD 79 2F           LDA FVERON
03881  2FB3  C9 31              CMP #'1'
03882  2FB5  F0 01              BEQ FLOOW






DISASSEMBLER64......PAGE 0084

LINE# LOC   CODE        LINE


03883  2FB7  CA                 DEX
03884  2FB8              ;
03885  2FB8              FLOOW  = *
03886  2FB8  AD 79 2F           LDA FVERON
03887  2FBB  9D 7B 2F           STA FILBUF,X
03888  2FBE  E8                 INX
03889  2FBF  A9 00              LDA #$00
03890  2FC1  9D 7B 2F           STA FILBUF,X
03891  2FC4              ;*********************************
03892  2FC4              ; OUTPUT COMMENT LINE
03893  2FC4              ;*********************************
03894  2FC4              ; JSR NEWLIN   ;PRINT BYTE
03895  2FC4  20 70 18           JSR COMET       ;COMENT LINE
03896  2FC7  20 07 13           JSR NEWLIN      ;PRINT BYTE
03897  2FCA              ;*********************************
03898  2FCA              ; OUTPUT .FIL DIRECTIVE
03899  2FCA              ;*********************************
03900  2FCA  20 32 1A           JSR PRTOTH      ;PRINT LINE DATA
03901  2FCD  A9 8F              LDA #<FILDIR    ;.FIL
03902  2FCF  A0 2F              LDY #>FILDIR    ;
03903  2FD1  20 C4 13           JSR STRPNT
03904  2FD4  A9 7B              LDA #<FILBUF
03905  2FD6  A0 2F              LDY #>FILBUF
03906  2FD8  20 C4 13           JSR STRPNT
03907  2FDB              ;*********************************
03908  2FDB              ; FINAL NEWLINE
03909  2FDB              ;*********************************
03910  2FDB  20 07 13           JSR NEWLIN
03911  2FDE  60                 RTS
03912  2FDF              ;*********************************
03913  2FDF              ; SAVE A COPY OF PROGRAM FILE NAME
03914  2FDF              ;*********************************
03915  2FDF              NUMPFL = $AA
03916  2FDF              BUFPFL = *
03917  2FDF  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
03917  2FE0  AA 
03917  2FE1  AA 
03917  2FE2  AA 
03917  2FE3  AA 
03917  2FE4  AA 
03917  2FE5  AA 
03917  2FE6  AA 
03918  2FE7  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
03918  2FE8  AA 
03918  2FE9  AA 
03918  2FEA  AA 
03918  2FEB  AA 
03918  2FEC  AA 
03918  2FED  AA 
03918  2FEE  AA 
03919  2FEF  AA                 .BYTE $AA,$AA,$AA,$AA
03919  2FF0  AA 
03919  2FF1  AA 
03919  2FF2  AA 
03920  2FF3              ;*********************************






DISASSEMBLER64......PAGE 0085

LINE# LOC   CODE        LINE


03921  2FF3              ;SAVE A COPY OF PROGRAM FILE NAME
03922  2FF3              ;*********************************
03923  2FF3              PFILEH = *
03924  2FF3  84 AA              STY NUMPFL
03925  2FF5  A2 00              LDX #$00
03926  2FF7              PFILEI = *
03927  2FF7  BD 5C 08           LDA BUF,X
03928  2FFA  9D DF 2F           STA BUFPFL,X
03929  2FFD  E8                 INX
03930  2FFE  E4 AA              CPX NUMPFL
03931  3000  D0 F5              BNE PFILEI
03932  3002  A9 00              LDA #$00
03933  3004  9D DF 2F           STA BUFPFL,X
03934  3007  60                 RTS
03935  3008              ;*********************************
03936  3008              ; OUTPUT .OPT LIST DIRECTIVE
03937  3008              ;*********************************
03938  3008  2E 50       MSGPGE .BYTE '.PAGE ',$00
03938  300E  00 
03939  300F              ;*********************************
03940  300F              ; OUTPUT .OPT LIST DIRECTIVE
03941  300F              ;*********************************
03942  300F              OPTPAG = *
03943  300F              ;*********************************
03944  300F              ; OUTPUT COMMENT LINE
03945  300F              ;*********************************
03946  300F  20 07 13           JSR NEWLIN      ;PRINT BYTE
03947  3012  20 70 18           JSR COMET       ;COMENT LINE
03948  3015  20 07 13           JSR NEWLIN      ;PRINT BYTE
03949  3018              ;*********************************
03950  3018              ; OUTPUT .PAGE DIRECTIVE
03951  3018              ;*********************************
03952  3018  20 32 1A           JSR PRTOTH      ;PRINT LINE DATA
03953  301B  A9 08              LDA #<MSGPGE    ;.PAGE
03954  301D  A0 30              LDY #>MSGPGE    ;
03955  301F  20 C4 13           JSR STRPNT
03956  3022  A9 27              LDA #'''
03957  3024  20 1A 14           JSR PCHAR
03958  3027              ;
03959  3027  A9 DF              LDA #<BUFPFL    ;FILE NAME
03960  3029  A0 2F              LDY #>BUFPFL    ;
03961  302B  20 C4 13           JSR STRPNT
03962  302E              ;
03963  302E  A9 27              LDA #'''
03964  3030  20 1A 14           JSR PCHAR
03965  3033              ;*********************************
03966  3033              ; FINAL NEWLINE
03967  3033              ;*********************************
03968  3033  20 07 13           JSR NEWLIN
03969  3036  60                 RTS
03970  3037              ;*********************************
03971  3037              ; OUTPUT .OPT LIST DIRECTIVE
03972  3037              ;*********************************
03973  3037  2E 4F       MSGOPT .BYTE '.OPT LIST',$00
03973  3040  00 






DISASSEMBLER64......PAGE 0086

LINE# LOC   CODE        LINE


03974  3041              ;*********************************
03975  3041              ; OUTPUT .OPT LIST DIRECTIVE
03976  3041              ;*********************************
03977  3041              OPTDIR = *
03978  3041              ;*********************************
03979  3041              ; OUTPUT .FIL DIRECTIVE
03980  3041              ;*********************************
03981  3041  20 32 1A           JSR PRTOTH      ;PRINT LINE DATA
03982  3044  A9 37              LDA #<MSGOPT    ;.FIL
03983  3046  A0 30              LDY #>MSGOPT    ;
03984  3048  20 C4 13           JSR STRPNT
03985  304B              ;*********************************
03986  304B              ; OUTPUT COMMENT LINE
03987  304B              ;*********************************
03988  304B  20 07 13           JSR NEWLIN      ;PRINT BYTE
03989  304E  20 70 18           JSR COMET       ;COMENT LINE
03990  3051              ;*********************************
03991  3051              ; FINAL NEWLINE
03992  3051              ;*********************************
03993  3051  20 07 13           JSR NEWLIN
03994  3054  60                 RTS
03995  3055              ;*********************************
03996  3055              ; SYMBOL TABLE
03997  3055              ;*********************************
03998  3055              ;  KERNAL JUMP TABLE
03999  3055              ;*********************************
04000  3055              STABLE = *
04001  3055  FF                 .BYTE $FF,$80,'IDBYTE',0
04001  3056  80 
04001  3057  49 44 
04001  305D  00 
04002  305E  FF                 .BYTE $FF,$81,'CINT  ',0
04002  305F  81 
04002  3060  43 49 
04002  3066  00 
04003  3067  FF                 .BYTE $FF,$84,'IOINIT',0
04003  3068  84 
04003  3069  49 4F 
04003  306F  00 
04004  3070  FF                 .BYTE $FF,$87,'RAMTAS',0
04004  3071  87 
04004  3072  52 41 
04004  3078  00 
04005  3079  FF                 .BYTE $FF,$8A,'RESTOR',0
04005  307A  8A 
04005  307B  52 45 
04005  3081  00 
04006  3082  FF                 .BYTE $FF,$8D,'VECTOR',0
04006  3083  8D 
04006  3084  56 45 
04006  308A  00 
04007  308B  FF                 .BYTE $FF,$90,'SETMSG',0
04007  308C  90 
04007  308D  53 45 
04007  3093  00 






DISASSEMBLER64......PAGE 0087

LINE# LOC   CODE        LINE


04008  3094  FF                 .BYTE $FF,$93,'SECOND',0
04008  3095  93 
04008  3096  53 45 
04008  309C  00 
04009  309D  FF                 .BYTE $FF,$96,'TKSA  ',0
04009  309E  96 
04009  309F  54 4B 
04009  30A5  00 
04010  30A6  FF                 .BYTE $FF,$99,'MEMTOP',0
04010  30A7  99 
04010  30A8  4D 45 
04010  30AE  00 
04011  30AF  FF                 .BYTE $FF,$9C,'MEMBOT',0
04011  30B0  9C 
04011  30B1  4D 45 
04011  30B7  00 
04012  30B8  FF                 .BYTE $FF,$9F,'SCNKEY',0
04012  30B9  9F 
04012  30BA  53 43 
04012  30C0  00 
04013  30C1  FF                 .BYTE $FF,$A2,'SETTMO',0
04013  30C2  A2 
04013  30C3  53 45 
04013  30C9  00 
04014  30CA  FF                 .BYTE $FF,$A5,'ACPTR ',0
04014  30CB  A5 
04014  30CC  41 43 
04014  30D2  00 
04015  30D3  FF                 .BYTE $FF,$A8,'CIOUT ',0
04015  30D4  A8 
04015  30D5  43 49 
04015  30DB  00 
04016  30DC  FF                 .BYTE $FF,$AB,'UNTLK ',0
04016  30DD  AB 
04016  30DE  55 4E 
04016  30E4  00 
04017  30E5  FF                 .BYTE $FF,$AE,'UNLSN ',0
04017  30E6  AE 
04017  30E7  55 4E 
04017  30ED  00 
04018  30EE  FF                 .BYTE $FF,$B1,'LISTEN',0
04018  30EF  B1 
04018  30F0  4C 49 
04018  30F6  00 
04019  30F7  FF                 .BYTE $FF,$B4,'TALK  ',0
04019  30F8  B4 
04019  30F9  54 41 
04019  30FF  00 
04020  3100  FF                 .BYTE $FF,$B7,'READST',0
04020  3101  B7 
04020  3102  52 45 
04020  3108  00 
04021  3109  FF                 .BYTE $FF,$BA,'SETLFS',0
04021  310A  BA 
04021  310B  53 45 






DISASSEMBLER64......PAGE 0088

LINE# LOC   CODE        LINE


04021  3111  00 
04022  3112  FF                 .BYTE $FF,$BD,'SETNAM',0
04022  3113  BD 
04022  3114  53 45 
04022  311A  00 
04023  311B  FF                 .BYTE $FF,$C0,'OPEN  ',0
04023  311C  C0 
04023  311D  4F 50 
04023  3123  00 
04024  3124  FF                 .BYTE $FF,$C3,'CLOSE ',0
04024  3125  C3 
04024  3126  43 4C 
04024  312C  00 
04025  312D  FF                 .BYTE $FF,$C6,'CHKIN ',0
04025  312E  C6 
04025  312F  43 48 
04025  3135  00 
04026  3136  FF                 .BYTE $FF,$C9,'CHKOUT',0
04026  3137  C9 
04026  3138  43 48 
04026  313E  00 
04027  313F  FF                 .BYTE $FF,$CC,'CLRCHN',0
04027  3140  CC 
04027  3141  43 4C 
04027  3147  00 
04028  3148  FF                 .BYTE $FF,$CF,'CHRIN ',0
04028  3149  CF 
04028  314A  43 48 
04028  3150  00 
04029  3151  FF                 .BYTE $FF,$D2,'CHROUT',0
04029  3152  D2 
04029  3153  43 48 
04029  3159  00 
04030  315A  FF                 .BYTE $FF,$D5,'LOAD  ',0
04030  315B  D5 
04030  315C  4C 4F 
04030  3162  00 
04031  3163  FF                 .BYTE $FF,$D8,'SAVE  ',0
04031  3164  D8 
04031  3165  53 41 
04031  316B  00 
04032  316C  FF                 .BYTE $FF,$DB,'SETTIM',0
04032  316D  DB 
04032  316E  53 45 
04032  3174  00 
04033  3175  FF                 .BYTE $FF,$DE,'RDTIM ',0
04033  3176  DE 
04033  3177  52 44 
04033  317D  00 
04034  317E  FF                 .BYTE $FF,$E1,'STOP  ',0
04034  317F  E1 
04034  3180  53 54 
04034  3186  00 
04035  3187  FF                 .BYTE $FF,$E4,'GETIN ',0
04035  3188  E4 






DISASSEMBLER64......PAGE 0089

LINE# LOC   CODE        LINE


04035  3189  47 45 
04035  318F  00 
04036  3190  FF                 .BYTE $FF,$E7,'CLALL ',0
04036  3191  E7 
04036  3192  43 4C 
04036  3198  00 
04037  3199  FF                 .BYTE $FF,$EA,'UDTIM ',0
04037  319A  EA 
04037  319B  55 44 
04037  31A1  00 
04038  31A2  FF                 .BYTE $FF,$ED,'SCREEN',0
04038  31A3  ED 
04038  31A4  53 43 
04038  31AA  00 
04039  31AB  FF                 .BYTE $FF,$F0,'PLOT  ',0
04039  31AC  F0 
04039  31AD  50 4C 
04039  31B3  00 
04040  31B4  FF                 .BYTE $FF,$F3,'IOBASE',0
04040  31B5  F3 
04040  31B6  49 4F 
04040  31BC  00 
04041  31BD              ;*********************************
04042  31BD  FF                 .BYTE $FF,$FA,'NMIVEC',0
04042  31BE  FA 
04042  31BF  4E 4D 
04042  31C5  00 
04043  31C6  FF                 .BYTE $FF,$FC,'RESVEC',0
04043  31C7  FC 
04043  31C8  52 45 
04043  31CE  00 
04044  31CF  FF                 .BYTE $FF,$FE,'IRQVEC',0
04044  31D0  FE 
04044  31D1  49 52 
04044  31D7  00 
04045  31D8              ;*********************************
04046  31D8  00          UTABLE .BYTE 0
04047  31D9              ;*********************************
04048  31D9              .END
04049  31D9              ;*********************************
04050  31D9              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   1753    ABSEXT   1778    ABSLUT   1754    ABSX     1779
 ABSY     177F    AC0      1DB7    AC1      1DBA    ACC      1708
 ACHECK   1DA5    ADRS     084F    AFILE    0E7E    AGET     0EB2
 AGET1    0EBE    ALINE    1DE8    ALOP     1DFA    AOP      0E4A
 AOP1     0F0F    AOP2     0F39    AOP3     0F5E    AOPX     0F0A








SYMBOL TABLE

SYMBOL VALUE
 ASC      0F7B    ASCCCC   1D33    ASCI1    1D60    ASCII    1D55
 ASCIIQ   1D8E    ASCKK    1D4A    B0000    1621    BASIC    080D
 BINARY   1375    BITFLG   2F78    BITOPT   2F4B    BOP      0E75
 BOP0     2F52    BSC      2F6D    BSTUB    0001    BUF      085C
 BUFPFL   2FDF    BYABIT   15F0    BYTES    1DBD    BYTESX   1DE5
 BYTT     15C8    BYZBIT   15CB    CASCII   1E3D    CDATA    08E7
 CHKIN    FFC6    CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2
 CLOSE    FFC3    CLRCHN   FFCC    COK      242D    COMENT   186A
 COMET    1870    COMOPT   081D    COMPT    1880    CONST0   152A
 CONST1   152F    CPASS    0815    CRLF     18FC    CRLFPR   1464
 CRNO     1399    CRNO1    13A6    CRYS     138C    CRYS1    13A4
 CSHORT   187E    DATABE   08EF    DATABP   08EB    DATABS   08ED
 DATAO1   1CC1    DATAO2   1CF7    DATAOP   1CB2    DATUT    1D9F
 DBYTES   1E49    DBYTEX   1E76    DECSL    194B    DEVICE   0819
 DISA     0A30    DISASS   0A21    DISB     0A5E    DISC     0AF3
 DISERR   12CD    DISFUL   0AF0    DISL     159D    DISL1    15AE
 DLOOA    12F8    DLOOC    12EE    DLOOE    12E2    DLOOP    0A95
 DOLLAR   18D9    DONE     0B6A    DONED    0B4B    DOP      0B73
 DOP2     0E42    DOP3     0E44    DSLINE   1586    EA       0820
 EAGOL    0828    EAOUT    082C    EAS      08E4    EASCI1   1E21
 EASCII   1E26    EFILE    185A    ENDAX    1CBE    ENDDAT   1DA2
 EPASS    0814    EQUATE   2730    EQUEND   24B3    EQUINT   233E
 EQUOP    2474    EQUOP1   248E    EQUPRT   2449    ERRCT    085A
 FCHARS   2F7A    FILBUF   2F7B    FILDIR   2F8F    FILE     0D96
 FILEOK   0D90    FINAL    15C5    FINISH   1451    FIXSYM   2402
 FLOOP    2FA3    FLOOQ    2FB0    FLOOW    2FB8    FOP1     0FB7
 FOP2     0FB9    FOROPT   081C    FORWRD   17F2    FVERON   2F79
 GETBYT   1358    GETC     243A    GETI     1B0C    GETIN    FFE4
 GETOPE   1F87    GETSL    1935    GETWRD   1334    GFILE0   0D84
 HEADER   1483    HEADES   14D6    HEADFX   14FE    HEADOK   14F0
 HEADSY   14F1    HEXA     151A    ILLEGL   16C7    ILLMSG   1987
 ILLOP    1F66    IMEXIT   1742    IMMEDT   170D    IMPLI1   1793
 IMPLID   1785    IMPONE   1792    INCC     2431    INCI     1B03
 INCIE    1AFB    INCSL    192C    INDRCT   179F    INDX     17B4
 INDY     17BD    INEND    1357    INENX    1374    INIT     105F
 INITD    0CB4    INITIN   1A6B    INSTN1   1327    INSTNG   1325
 INTCH    1B2A    INTCHA   1B1B    INTCHK   1B27    INTEND   1B63
 INTEXT   1AF9    INTMAT   1B65    INTOUT   1C52    INTPR    1C5D
 INTPRM   1C84    INTPRS   1C7F    INTPRT   1C3C    INTSA    1957
 INTSET   1A7D    IPASS    0813    ISKIP    1701    LARGE    1BCD
 LINECK   128E    LINECO   12CC    LINECT   0858    LINEFL   08C0
 LINEOK   14C5    LINES    260F    LISTCT   0857    LOADC    26FE
 LOADE    2715    LOADF    26C2    LOADM    26E0    LOOP1    1C58
 LOOP2    1CAC    LPAREN   18DE    LTITLE   154F    LTITLS   1579
 MATCH    239B    MATCHS   23BB    MATCHT   23E2    MATEXT   23EC
 MATONE   23BA    MBYTE    1F35    MCODES   20C9    MDBYTE   1F45
 MEMSIZ   0037    MNAMES   1FF1    MNEMON   1F4E    MNLOOP   1F58
 MODES    21C9    MPASS    09F2    MSA1     1192    MSA2     11B4
 MSA3     11CC    MSAOP    1173    MSB1     110D    MSB4     124E
 MSB5     126E    MSD1     107A    MSD2     108C    MSD4     109C
 MSD4A    10B6    MSD5     10C9    MSF1     100A    MSF2     1026
 MSG      0FBD    MSG1     103A    MSG2     1061    MSG5     11E2
 MSGBIT   1964    MSGBZP   196C    MSGDIS   0A0E    MSGEND   1982
 MSGERR   0A04    MSGOPT   3037    MSGPGE   3008    MSR1     10E5
 MSS1     2636    MSS2     265A    MSS3     2680    MSS4     269E








SYMBOL TABLE

SYMBOL VALUE
 MWORD    1F3D    NAME     2628    NAMS     2632    NASCII   1E2E
 NBUF     08C4    NCHARS   08C3    NCOK     242F    NDATA    08E9
 NEGREL   197E    NEWEXT   1324    NEWLIN   1307    NEXLIN   1476
 NEXPTR   1473    NEXPTS   14C6    NEXTBY   1F1C    NEXTC    240D
 NEXTP    0AC6    NEXTSL   1913    NOASC    1E47    NOBINC   1F33
 NOFILE   0D94    NOHEX    1388    NOID     0DA7    NOINC    192A
 NOPRT    0E27    NOTABS   0EF5    NPRAD    18B6    NPRAD1   18B7
 NUMPFL   00AA    OFFSET   0824    OFILE    0DAA    OFILE1   0DBD
 OFILE2   0DC2    OFILE3   0DE5    OFILE4   0DF4    OFILED   0D9F
 ONEBIT   1655    ONEBX    1684    ONEBY    1681    ONEBYT   1656
 OPCPUT   16C0    OPCSYM   16C3    OPEN     FFC0    OPERN1   1F7A
 OPERND   1F82    OPTDIR   3041    OPTPAG   300F    ORGIN    1844
 OUFILE   0D69    OUTFIL   2F95    OUTPUT   081A    P1       18AD
 PAGECT   0855    PAGER1   14BF    PASS     0812    PAUS1    1D87
 PAUSE    0ABF    PCHAR    141A    PEXIT    144F    PFILE0   0B93
 PFILE1   0B98    PFILEH   2FF3    PFILEI   2FF7    PMSG     09F8
 POSREL   197A    POVER    18AA    PRAD     1893    PRBYT    13AE
 PRBYTS   13A8    PREND    1CA9    PRFILE   0C8E    PRIN     142F
 PRINT    0E29    PRLA     1889    PRO2RD   0C6A    PROGED   0BDE
 PROGM    105B    PROGOK   0CB3    PROGRD   0BC9    PRTASS   1F6D
 PRTDAF   1A2A    PRTDAL   0ED9    PRTDAS   0EC6    PRTDAT   1A0E
 PRTEST   1A07    PRTGET   0DF5    PRTNEX   0ED1    PRTNU1   13E9
 PRTNU2   13F0    PRTNU3   13F1    PRTNUM   13E0    PRTOK    1C9C
 PRTON1   19A9    PRTONE   199B    PRTOT1   1A3D    PRTOTH   1A32
 PRTPAG   13D5    PRTTH1   19FC    PRTTHE   19D6    PRTTW1   19CB
 PRTTWO   19B1    PSELEC   18BF    PUIT     1AD6    PUT      25F3
 PUTC     25E7    PUTI     1ABC    PWORK    18C8    PWORKD   18CB
 Q00000   1E0F    QUITS    0AF9    QUITX    2538    QUITXX   2558
 QUTERR   0B10    RANG     1A57    RANGE    1A45    READS    2569
 READST   FFB7    READX    2525    READXF   24FF    READXX   24B9
 READY    257A    RELATV   17C9    RELND    17FB    RELNEG   1826
 RELP     1838    RELPC    1819    RELPM    182A    RELPUT   1815
 RELSYM   1818    REOPEN   2508    RESET    261E    RESINT   1AA3
 ROPT     0818    ROUT     1A69    RPAREN   18E3    S3       1BB5
 SA       081E    SAGOL    0826    SAOUT    082A    SAVA     0852
 SAVEE    084D    SAVEP    0849    SAVES    084B    SAVINT   1A8A
 SAVX     0853    SAVY     0854    SBLOK    1F2E    SCREN    1443
 SCRNO1   1510    SCROFF   1501    SCRON    1511    SELECT   0822
 SEMIC    18D4    SETLFS   FFBA    SETNAM   FFBD    SEXIT    13D4
 SKIPER   1D3B    SLOK     1925    SMALL    1BD0    SMALLP   0836
 SMALLS   0834    SOP      22C9    SOP1     22DD    SOP2     24C0
 SOP3     24CD    SOP4     2314    SORT     1B67    SORT1    1B7C
 SORT2    1B8B    SORT3    1C0D    SORT4    1C39    SORTOK   1C36
 SOUT     13CA    SPAC     1906    SPAC6    1901    SPACE    190E
 SPACM    1903    SPASS    0816    SSET     2331    STABLE   3055
 STARTD   080F    STARTS   0CCE    STDREF   25C9    STOP     FFE1
 STRPNT   13C4    STRSY1   23F3    STRSYM   23ED    SUBP     1F9D
 SUBS     1FD5    SUBS1    1FB9    SY       2326    SYEXIT   2401
 SYM      2351    SYM1     236A    SYM2     236D    SYMBOE   083D
 SYMBOL   0838    SYMBOP   0839    SYMBOS   083B    SYMBUF   08DA
 SYMEND   2399    SYMOP    2365    SYTAB    22F2    T2       1BB8
 TABINE   0832    TABINP   082E    TABINS   0830    TDATA    08F1
 TEMP     0851    TEXTER   08E6    TWOB     16C6    TWOBIT   168A
 TWOBX    16BD    TWOBY    16BA    TWOBYT   168B    UTABLE   31D8
 UYMBOE   0843    UYMBOP   083F    UYMBOS   0841    VERSON   08C2








SYMBOL TABLE

SYMBOL VALUE
 VICREG   D011    WIND1    0D4C    WIND2    0D4E    WINDOP   0D10
 WINDOW   081B    WORD1    1E8E    WORDM    1ED4    WORDPT   1EC8
 WORDS    1E79    WORDS2   1F04    WORDS3   1F16    WORDSX   1EC5
 WORDSY   1ECE    WORDXX   1F19    WORKED   0845    WORKER   0847
 WREADY   E391    WRITE    1057    XFILE1   24E8    XGET     25A9
 XINDEX   18E8    XOP0     0F92    XOP1     0FA2    XOP2     0FA4
 XOPT     0817    XTITLE   1534    XTITLS   156C    YINDEX   18F2
 YSHEX    138A    ZERBIT   1743    ZEROPG   1744    ZEROUR   0002
 ZEROX    1747    ZEROY    174D   

END OF ASSEMBLY
DISANL.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER64......PAGE 0002

LINE# LOC   CODE        LINE


00040  080F              .LIB   DIS.ASM
00357  0B73              .END
00359  0B73              .LIB   OPTION.ASM
01029  128E              .END
01031  128E              .LIB   UTIL.ASM
01463  1586              .END
01465  1586              .LIB   MODE.ASM
02215  1A45              .END
02217  1A45              .LIB   INTERNAL.ASM
02543  1CB2              .END
02545  1CB2              .LIB   ASC.ASM
02889  1F4E              .END
02891  1F4E              .LIB   TABLE.ASM
03269  22C9              .END
03271  22C9              .LIB   SYM.ASM
04048  31D9              .END
ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   1753    ABSEXT   1778    ABSLUT   1754    ABSX     1779
 ABSY     177F    AC0      1DB7    AC1      1DBA    ACC      1708
 ACHECK   1DA5    ADRS     084F    AFILE    0E7E    AGET     0EB2
 AGET1    0EBE    ALINE    1DE8    ALOP     1DFA    AOP      0E4A
 AOP1     0F0F    AOP2     0F39    AOP3     0F5E    AOPX     0F0A
 ASC      0F7B    ASCCCC   1D33    ASCI1    1D60    ASCII    1D55
 ASCIIQ   1D8E    ASCKK    1D4A    B0000    1621    BASIC    080D
 BINARY   1375    BITFLG   2F78    BITOPT   2F4B    BOP      0E75
 BOP0     2F52    BSC      2F6D    BSTUB    0001    BUF      085C
 BUFPFL   2FDF    BYABIT   15F0    BYTES    1DBD    BYTESX   1DE5
 BYTT     15C8    BYZBIT   15CB    CASCII   1E3D    CDATA    08E7
 CHKIN    FFC6    CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2
 CLOSE    FFC3    CLRCHN   FFCC    COK      242D    COMENT   186A
 COMET    1870    COMOPT   081D    COMPT    1880    CONST0   152A
 CONST1   152F    CPASS    0815    CRLF     18FC    CRLFPR   1464
 CRNO     1399    CRNO1    13A6    CRYS     138C    CRYS1    13A4
 CSHORT   187E    DATABE   08EF    DATABP   08EB    DATABS   08ED
 DATAO1   1CC1    DATAO2   1CF7    DATAOP   1CB2    DATUT    1D9F
 DBYTES   1E49    DBYTEX   1E76    DECSL    194B    DEVICE   0819
 DISA     0A30    DISASS   0A21    DISB     0A5E    DISC     0AF3
 DISERR   12CD    DISFUL   0AF0    DISL     159D    DISL1    15AE
 DLOOA    12F8    DLOOC    12EE    DLOOE    12E2    DLOOP    0A95
 DOLLAR   18D9    DONE     0B6A    DONED    0B4B    DOP      0B73
 DOP2     0E42    DOP3     0E44    DSLINE   1586    EA       0820
 EAGOL    0828    EAOUT    082C    EAS      08E4    EASCI1   1E21
 EASCII   1E26    EFILE    185A    ENDAX    1CBE    ENDDAT   1DA2
 EPASS    0814    EQUATE   2730    EQUEND   24B3    EQUINT   233E
 EQUOP    2474    EQUOP1   248E    EQUPRT   2449    ERRCT    085A
 FCHARS   2F7A    FILBUF   2F7B    FILDIR   2F8F    FILE     0D96
 FILEOK   0D90    FINAL    15C5    FINISH   1451    FIXSYM   2402
 FLOOP    2FA3    FLOOQ    2FB0    FLOOW    2FB8    FOP1     0FB7
 FOP2     0FB9    FOROPT   081C    FORWRD   17F2    FVERON   2F79








SYMBOL TABLE

SYMBOL VALUE
 GETBYT   1358    GETC     243A    GETI     1B0C    GETIN    FFE4
 GETOPE   1F87    GETSL    1935    GETWRD   1334    GFILE0   0D84
 HEADER   1483    HEADES   14D6    HEADFX   14FE    HEADOK   14F0
 HEADSY   14F1    HEXA     151A    ILLEGL   16C7    ILLMSG   1987
 ILLOP    1F66    IMEXIT   1742    IMMEDT   170D    IMPLI1   1793
 IMPLID   1785    IMPONE   1792    INCC     2431    INCI     1B03
 INCIE    1AFB    INCSL    192C    INDRCT   179F    INDX     17B4
 INDY     17BD    INEND    1357    INENX    1374    INIT     105F
 INITD    0CB4    INITIN   1A6B    INSTN1   1327    INSTNG   1325
 INTCH    1B2A    INTCHA   1B1B    INTCHK   1B27    INTEND   1B63
 INTEXT   1AF9    INTMAT   1B65    INTOUT   1C52    INTPR    1C5D
 INTPRM   1C84    INTPRS   1C7F    INTPRT   1C3C    INTSA    1957
 INTSET   1A7D    IPASS    0813    ISKIP    1701    LARGE    1BCD
 LINECK   128E    LINECO   12CC    LINECT   0858    LINEFL   08C0
 LINEOK   14C5    LINES    260F    LISTCT   0857    LOADC    26FE
 LOADE    2715    LOADF    26C2    LOADM    26E0    LOOP1    1C58
 LOOP2    1CAC    LPAREN   18DE    LTITLE   154F    LTITLS   1579
 MATCH    239B    MATCHS   23BB    MATCHT   23E2    MATEXT   23EC
 MATONE   23BA    MBYTE    1F35    MCODES   20C9    MDBYTE   1F45
 MEMSIZ   0037    MNAMES   1FF1    MNEMON   1F4E    MNLOOP   1F58
 MODES    21C9    MPASS    09F2    MSA1     1192    MSA2     11B4
 MSA3     11CC    MSAOP    1173    MSB1     110D    MSB4     124E
 MSB5     126E    MSD1     107A    MSD2     108C    MSD4     109C
 MSD4A    10B6    MSD5     10C9    MSF1     100A    MSF2     1026
 MSG      0FBD    MSG1     103A    MSG2     1061    MSG5     11E2
 MSGBIT   1964    MSGBZP   196C    MSGDIS   0A0E    MSGEND   1982
 MSGERR   0A04    MSGOPT   3037    MSGPGE   3008    MSR1     10E5
 MSS1     2636    MSS2     265A    MSS3     2680    MSS4     269E
 MWORD    1F3D    NAME     2628    NAMS     2632    NASCII   1E2E
 NBUF     08C4    NCHARS   08C3    NCOK     242F    NDATA    08E9
 NEGREL   197E    NEWEXT   1324    NEWLIN   1307    NEXLIN   1476
 NEXPTR   1473    NEXPTS   14C6    NEXTBY   1F1C    NEXTC    240D
 NEXTP    0AC6    NEXTSL   1913    NOASC    1E47    NOBINC   1F33
 NOFILE   0D94    NOHEX    1388    NOID     0DA7    NOINC    192A
 NOPRT    0E27    NOTABS   0EF5    NPRAD    18B6    NPRAD1   18B7
 NUMPFL   00AA    OFFSET   0824    OFILE    0DAA    OFILE1   0DBD
 OFILE2   0DC2    OFILE3   0DE5    OFILE4   0DF4    OFILED   0D9F
 ONEBIT   1655    ONEBX    1684    ONEBY    1681    ONEBYT   1656
 OPCPUT   16C0    OPCSYM   16C3    OPEN     FFC0    OPERN1   1F7A
 OPERND   1F82    OPTDIR   3041    OPTPAG   300F    ORGIN    1844
 OUFILE   0D69    OUTFIL   2F95    OUTPUT   081A    P1       18AD
 PAGECT   0855    PAGER1   14BF    PASS     0812    PAUS1    1D87
 PAUSE    0ABF    PCHAR    141A    PEXIT    144F    PFILE0   0B93
 PFILE1   0B98    PFILEH   2FF3    PFILEI   2FF7    PMSG     09F8
 POSREL   197A    POVER    18AA    PRAD     1893    PRBYT    13AE
 PRBYTS   13A8    PREND    1CA9    PRFILE   0C8E    PRIN     142F
 PRINT    0E29    PRLA     1889    PRO2RD   0C6A    PROGED   0BDE
 PROGM    105B    PROGOK   0CB3    PROGRD   0BC9    PRTASS   1F6D
 PRTDAF   1A2A    PRTDAL   0ED9    PRTDAS   0EC6    PRTDAT   1A0E
 PRTEST   1A07    PRTGET   0DF5    PRTNEX   0ED1    PRTNU1   13E9
 PRTNU2   13F0    PRTNU3   13F1    PRTNUM   13E0    PRTOK    1C9C
 PRTON1   19A9    PRTONE   199B    PRTOT1   1A3D    PRTOTH   1A32
 PRTPAG   13D5    PRTTH1   19FC    PRTTHE   19D6    PRTTW1   19CB
 PRTTWO   19B1    PSELEC   18BF    PUIT     1AD6    PUT      25F3
 PUTC     25E7    PUTI     1ABC    PWORK    18C8    PWORKD   18CB








SYMBOL TABLE

SYMBOL VALUE
 Q00000   1E0F    QUITS    0AF9    QUITX    2538    QUITXX   2558
 QUTERR   0B10    RANG     1A57    RANGE    1A45    READS    2569
 READST   FFB7    READX    2525    READXF   24FF    READXX   24B9
 READY    257A    RELATV   17C9    RELND    17FB    RELNEG   1826
 RELP     1838    RELPC    1819    RELPM    182A    RELPUT   1815
 RELSYM   1818    REOPEN   2508    RESET    261E    RESINT   1AA3
 ROPT     0818    ROUT     1A69    RPAREN   18E3    S3       1BB5
 SA       081E    SAGOL    0826    SAOUT    082A    SAVA     0852
 SAVEE    084D    SAVEP    0849    SAVES    084B    SAVINT   1A8A
 SAVX     0853    SAVY     0854    SBLOK    1F2E    SCREN    1443
 SCRNO1   1510    SCROFF   1501    SCRON    1511    SELECT   0822
 SEMIC    18D4    SETLFS   FFBA    SETNAM   FFBD    SEXIT    13D4
 SKIPER   1D3B    SLOK     1925    SMALL    1BD0    SMALLP   0836
 SMALLS   0834    SOP      22C9    SOP1     22DD    SOP2     24C0
 SOP3     24CD    SOP4     2314    SORT     1B67    SORT1    1B7C
 SORT2    1B8B    SORT3    1C0D    SORT4    1C39    SORTOK   1C36
 SOUT     13CA    SPAC     1906    SPAC6    1901    SPACE    190E
 SPACM    1903    SPASS    0816    SSET     2331    STABLE   3055
 STARTD   080F    STARTS   0CCE    STDREF   25C9    STOP     FFE1
 STRPNT   13C4    STRSY1   23F3    STRSYM   23ED    SUBP     1F9D
 SUBS     1FD5    SUBS1    1FB9    SY       2326    SYEXIT   2401
 SYM      2351    SYM1     236A    SYM2     236D    SYMBOE   083D
 SYMBOL   0838    SYMBOP   0839    SYMBOS   083B    SYMBUF   08DA
 SYMEND   2399    SYMOP    2365    SYTAB    22F2    T2       1BB8
 TABINE   0832    TABINP   082E    TABINS   0830    TDATA    08F1
 TEMP     0851    TEXTER   08E6    TWOB     16C6    TWOBIT   168A
 TWOBX    16BD    TWOBY    16BA    TWOBYT   168B    UTABLE   31D8
 UYMBOE   0843    UYMBOP   083F    UYMBOS   0841    VERSON   08C2
 VICREG   D011    WIND1    0D4C    WIND2    0D4E    WINDOP   0D10
 WINDOW   081B    WORD1    1E8E    WORDM    1ED4    WORDPT   1EC8
 WORDS    1E79    WORDS2   1F04    WORDS3   1F16    WORDSX   1EC5
 WORDSY   1ECE    WORDXX   1F19    WORKED   0845    WORKER   0847
 WREADY   E391    WRITE    1057    XFILE1   24E8    XGET     25A9
 XINDEX   18E8    XOP0     0F92    XOP1     0FA2    XOP2     0FA4
 XOPT     0817    XTITLE   1534    XTITLS   156C    YINDEX   18F2
 YSHEX    138A    ZERBIT   1743    ZEROPG   1744    ZEROUR   0002
 ZEROX    1747    ZEROY    174D   

END OF ASSEMBLY

CROSS REFERENCE......PAGE    1


* ABSBIT $1753  1798
  ABSEXT $1778  1811  1816
  ABSLUT $1754  1802  3013
  ABSX   $1779  1820  3014
  ABSY   $177F  1825  3015
  AC0    $1DB7  2680  2684  2686
  AC1    $1DBA  2682  2687
  ACC    $1708  1749  3008
  ACHECK $1DA5  2640  2678
  ADRS   $084F   136   419   420   425   427   466   469   554   556   565

                 567   576   578   592   594   600   602   830   851   854

                 866   869  1144  1145  1154  1159  2960  2963  2964
  AFILE  $0E7E   768   773
  AGET   $0EB2   794   798
  AGET1  $0EBE   784   793   799
  ALINE  $1DE8  2701  2710
  ALOP   $1DFA  2721  2739
* AOP    $0E4A   744
  AOP1   $0F0F   839   901
* AOP2   $0F39   861
  AOP3   $0F5E   879   880   892
  AOPX   $0F0A   832   834
  ASC    $0F7B   882   884   886   888   890   893
  ASCCCC $1D33  2602  2608  2621
  ASCI1  $1D60  2634  2638  2640
  ASCII  $1D55  2636  2646  2648  2660
  ASCIIQ $1D8E  2641  2644  2662
  ASCKK  $1D4A  2623  2632
  B0000  $1621  1549  1551  1553  1555  1575  1577  1579  1582  1585  1588

                1591  1597
  BASIC  $080D    31    36
  BINARY $1375  1165  1170  1181  3703  3711
  BITFLG $2F78  1486  1536  1562  3827  3832
  BITOPT $2F4B   740  3805
  BOP    $0E75   759   762
  BOP0   $2F52  3809  3810  3820
  BSC    $2F6D  3812  3814  3816  3818  3822
  BSTUB  $0001     9    29
  BUF    $085C   151   399   514   515   634   769   775   776  1134  1164

                1169  3586  3592  3593  3927
  BUFPFL $2FDF  3916  3928  3933  3959  3960
  BYABIT $15F0  1493  1561
  BYTES  $1DBD  2685  2691
  BYTESX $1DE5  2693  2706
  BYTT   $15C8  1482  1508  1525  1600
  BYZBIT $15CB  1491  1535
  CASCII $1E3D  1728  1765  2716  2722  2757
  CDATA  $08E7   183   214   806   819   835   839   843   897   898  2562

                2566  2572  2587
  CHKIN  $FFC6    56   411   493   786  3672
  CHKOUT $FFC9    65   709  1302  1311
  CHRIN  $FFCF    57   412   414   421   494   495   496   791   794  1133

                1198  1207  3674  3678  3698  3701  3709  3717  3723
  CHROUT $FFD2    55   893  1102  1104  1106  1305  1314  1321  3570  3676

                3680  3702  3710  3756  3760  3824
  CLOSE  $FFC3    66   307   349   435   507   525   546   685   800  1071








CROSS REFERENCE......PAGE    2


                3639  3661
  CLRCHN $FFCC    59   351   436   508   686   713   801  1306  1315  3640

                3662  3699  3726
  COK    $242D  3485  3490
  COMENT $186A  1077  1604  1944  1953  2616  2635  2666  3521  3527  3553

  COMET  $1870  1623  1814  1839  1849  1953  1956  3895  3947  3989
* COMOPT $081D    89
  COMPT  $1880  1963  1966
  CONST0 $152A  1277  1284  1446
  CONST1 $152F  1280  1287  1447
  CPASS  $0815    80   223   282  1048  1505  1599  1756  2607  2633  2637

                2663  2692  2769  2789  3414
  CRLF   $18FC   220   455   487   809  1121  1342  2054  3641
  CRLFPR $1464  1329  1340  1349  1395
  CRNO   $1399   586  1207  3319  3327
  CRNO1  $13A6  1203  1209  1211  1214
  CRYS   $138C   699   731   908   920  1198  3291
  CRYS1  $13A4  1200  1202  1212
  CSHORT $187E  1959  1962
  DATABE $08EF   187   747   752  2255  2258
  DATABP $08EB   185   745   750
  DATABS $08ED   186   746   751
  DATAO1 $1CC1  2563  2566  2588
  DATAO2 $1CF7  2586  2592
  DATAOP $1CB2  1481  2559
  DATUT  $1D9F  2617  2628  2664  2671
  DBYTES $1E49  2687  2768
  DBYTEX $1E76  2770  2784
  DECSL  $194B   463  1545  1571  1803  1804  1815  1840  1850  2107  2156

                2177  2178  2615  2667
  DEVICE $0819    85   243   267   270   275   303   311   318   328   333

                 336   344   374  1050  1122  1298  1307  1316  1341  1344

                1358  1363  1376  1427  2183  2188  2190  2649  2652  2657

  DISA   $0A30   212   299
  DISASS $0A21    73   202
  DISB   $0A5E   224   231
  DISC   $0AF3   284   300
  DISERR $12CD   522   679   783  1082  3614
  DISFUL $0AF0   283   286   299
  DISL   $159D  1487  1494  1502  1538  1557  1564  1593
  DISL1  $15AE  1506  1512
  DLOOA  $12F8  1105  1108
  DLOOC  $12EE  1090  1100
  DLOOE  $12E2  1091  1093
  DLOOP  $0A95   226   229   255   261   263   278
  DOLLAR $18D9   453  1661  1691  1718  1760  1938  2025  2702  2749  2781

                2822  2859  3688
  DONE   $0B6A   346   351
  DONED  $0B4B   330   338
  DOP    $0B73   205   373
  DOP2   $0E42   732   735
  DOP3   $0E44   734   736
  DSLINE $1586   255  1481
  EA     $0820    94   295   297   430   432   566   568   615   617  2073

                2077
  EAGOL  $0828    98   616   618  2234  2238







CROSS REFERENCE......PAGE    3


  EAOUT  $082C   100   294   296   601   603
  EAS    $08E4   181  2594  2597  2609  2611  2624  2626  2871  2875
  EASCI1 $1E21  2734  2741
  EASCII $1E26  2723  2738  2741  2745
  EFILE  $185A   301  1069  1944
  ENDAX  $1CBE  2560  2564  2568
  ENDDAT $1DA2  2564  2673
  EPASS  $0814    79   225  1652  1682  1869  2622  2815  2846
  EQUATE $2730  3523  3524  3796
  EQUEND $24B3  3519  3548  3553
  EQUINT $233E   228  3365
  EQUOP  $2474  3528  3547  3551
  EQUOP1 $248E  3535  3537
  EQUPRT $2449   253  3512
  ERRCT  $085A   147   238   239   324   325  1712  1714
  FCHARS $2F7A  3840  3866
  FILBUF $2F7B  3841  3875  3887  3890  3904  3905
  FILDIR $2F8F  3846  3901  3902
  FILE   $0D96   641   643
* FILEOK $0D90   640
  FINAL  $15C5  1524  1625
  FINISH $1451   347  1329  1333  1354  1400  1423
  FIXSYM $2402  2000  2517  3469  3473
  FLOOP  $2FA3  3871  3877
  FLOOQ  $2FB0  3874  3879
  FLOOW  $2FB8  3882  3885
  FOP1   $0FB7   921   924
  FOP2   $0FB9   923   925
  FOROPT $081C    88   925  1958  1984  1998  2134  2150  2171  2191  2205

  FORWRD $17F2  1882  1884
  FVERON $2F79  3839  3861  3880  3886
  GETBYT $1358  1152  1157  1164
  GETC   $243A  3391  3394  3421  3430  3502
  GETI   $1B0C  2344  2360  2363  2400  2403  2414  2425  2509  2512  3528

                3531
  GETIN  $FFE4    58   260   276   879  2645  2658  3564  3809
  GETOPE $1F87  2942  2947  2955
  GETSL  $1935  1489  1503  1518  1543  1569  1614  1645  1674  1677  1719

                1761  1805  1830  1880  1910  2094  2132  2144  2148  2161

                2165  2169  2703  2715  2721  2727  2750  2776  2779  2799

                2803
  GETWRD $1334   553   564   575   591   599   829   849   864  1143
  GFILE0 $0D84   634   638
  HEADER $1483   245  1358
* HEADES $14D6  1404
  HEADFX $14FE  1420  1423
  HEADOK $14F0  1399  1414
  HEADSY $14F1  1418  2504
  HEXA   $151A  1234  1239  1442
  ILLEGL $16C7  1712  3007
  ILLMSG $1987  1743  1744  2128
  ILLOP  $1F66  2921  2927
  IMEXIT $1742  1757  1766  1776
  IMMEDT $170D  1754  2991  3009
  IMPLI1 $1793  1831  1833  1835  1837
  IMPLID $1785  1830  3016







CROSS REFERENCE......PAGE    4


  IMPONE $1792  1836  2989  2990  2998
  INCC   $2431  3393  3420  3429  3495
  INCI   $1B03  2337  2362  2374  2402  2409  2416  2511  2524  3530  3544

  INCIE  $1AFB  2322  2323  2331
  INCSL  $192C   300   424   503  1542  1568  1644  1673  1676  1754  1807

                1808  1813  1838  1848  1867  2079  2087  2147  2164  2168

                2613  2665  2778  2802  2877
  INDRCT $179F  1844  3020
  INDX   $17B4  1854  3018
  INDY   $17BD  1860  3019
  INEND  $1357  1148  1156  1160
  INENX  $1374  1168  1177
  INIT   $105F   537   538   953
  INITD  $0CB4   405   536   651   764  3581
  INITIN $1A6B   206  2255
  INSTN1 $1327  1133  1137
  INSTNG $1325   386   628   758  1132  1146  3577
  INTCH  $1B2A  2360  2377  2381
  INTCHA $1B1B  1982  2354
  INTCHK $1B27  2305  2359
  INTEND $1B63  2378  2383
  INTEXT $1AF9  2306  2325
  INTMAT $1B65  2372  2385
  INTOUT $1C52  2501  2504
  INTPR  $1C5D  2509  2536
  INTPRM $1C84  2520  2523
  INTPRS $1C7F  2516  2521
  INTPRT $1C3C   334  2494
  INTSA  $1957   212   416  2115
  INTSET $1A7D  2264  2359  2390  2490
  IPASS  $0813    78  1650  1680  1891  2813  2844
  ISKIP  $1701  1729  1741
  LARGE  $1BCD  2429  2433
  LINECK $128E   257  1047
  LINECO $12CC  1049  1052  1063  1078
  LINECT $0858   146   232   235  1115  1117  2193  2194
  LINEFL $08C0   165   240   241  1057  1060  1074  1075  1118  1120
  LINEOK $14C5  1353  1360  1389
  LINES  $260F  3630  3751
  LISTCT $0857   145   237  1330  1331  1335  1350  1351  1396  1397  1418

  LOADC  $26FE  3652  3653  3787
  LOADE  $2715  3663  3664  3791
  LOADF  $26C2  3573  3574  3780
  LOADM  $26E0  3619  3620  3783
  LOOP1  $1C58  2507  2539
  LOOP2  $1CAC  2533  2538
  LPAREN $18DE  1844  1854  1860  2030
  LTITLE $154F  1377  1378  1453
  LTITLS $1579  1410  1411  1459
  MATCH  $239B  3404  3413
  MATCHS $23BB  3415  3429
  MATCHT $23E2  3417  3432  3449
  MATEXT $23EC  3419  3454
  MATONE $23BA  3423  3425
  MBYTE  $1F35  1715  1716  2696  2697  2883
  MCODES $20C9  2917  3109







CROSS REFERENCE......PAGE    5


  MDBYTE $1F45  2773  2774  2885
  MEMSIZ $0037    69   459   461
  MNAMES $1FF1  2919  3024
  MNEMON $1F4E  1520  2914
  MNLOOP $1F58  2919  2931
  MODES  $21C9  2957  3199
  MPASS  $09F2   195   215   216
  MSA1   $1192   826   827   998
  MSA2   $11B4   846   847  1001
  MSA3   $11CC   861   862  1004
  MSAOP  $1173   755   756   995
  MSB1   $110D   984  3806  3807
  MSB4   $124E   905   906  1019
  MSB5   $126E   917   918  1023
  MSD1   $107A   550   551   588   589   959
  MSD2   $108C   561   562   596   597   963
  MSD4   $109C   572   573   967
  MSD4A  $10B6   483   484   971
  MSD5   $10C9   583   584   975
  MSF1   $100A   383   384   940
  MSF2   $1026   441   442   943
  MSG    $0FBD   377   378   931
  MSG1   $103A   622   623   947
  MSG2   $1061   696   697   955
  MSG5   $11E2   876   877  1007
  MSGBIT $1964  1610  1611  2123
  MSGBZP $196C  1617  1618  2124
  MSGDIS $0A0E   198   340   341
  MSGEND $1982  1946  1947  2127
  MSGERR $0A04   197   321   322
  MSGOPT $3037  3973  3982  3983
  MSGPGE $3008  3938  3953  3954
  MSR1   $10E5   728   729   979
  MSS1   $2636  3287  3288  3767
  MSS2   $265A  3316  3317  3771
  MSS3   $2680  3561  3562  3774
  MSS4   $269E  3324  3325  3777
  MWORD  $1F3D  2793  2794  2884
  NAME   $2628  3600  3601  3764
  NAMS   $2632   768  3585  3765
  NASCII $1E2E  2717  2749
  NBUF   $08C4   168   635   660   665   671   672  3872
  NCHARS $08C3   167   627   632   637   649   654  3865
  NCOK   $242F  3486  3489  3492
  NDATA  $08E9   184   792   805   831   899  2559  2567
  NEGREL $197E  1916  1917  2126
  NEWEXT $1324  1124  1126
  NEWLIN $1307   319   320   338   339   343  1115  1524  1621  1812  1837

                1847  1940  1949  1954  2705  2747  2752  2783  2824  2865

                3526  3542  3896  3910  3946  3948  3968  3988  3993
  NEXLIN $1476  1125  1350
  NEXPTR $1473  1349  1361  1373  1374  1380  1387  1388
  NEXPTS $14C6  1395  1404  1408  1409  1413  1421  1422  2537  2538
  NEXTBY $1F1C  2706  2733  2753  2784  2825  2827  2829  2866  2870
  NEXTC  $240D  3405  3477
  NEXTP  $0AC6   256   280







CROSS REFERENCE......PAGE    6


  NEXTSL $1913  1525  2072
  NOASC  $1E47  2758  2760  2763
  NOBINC $1F33  2873  2876  2880
  NOFILE $0D94   629   642
  NOHEX  $1388  1183  1188  1191
  NOID   $0DA7   650   652
  NOINC  $192A  2075  2078  2082
  NOPRT  $0E27   700   715   718
  NOTABS $0EF5   760   826
  NPRAD  $18B6  1996  1999
  NPRAD1 $18B7  1979  1998
  NUMPFL $00AA  3915  3924  3930
  OFFSET $0824    96   477   481   577   579  2096  2099
  OFILE  $0DAA   654  1072
  OFILE1 $0DBD   658   662
  OFILE2 $0DC2   664   669
* OFILE3 $0DE5   684
  OFILE4 $0DF4   655   680   692
  OFILED $0D9F   246   649
* ONEBIT $1655  1640
  ONEBX  $1684  1662  1664
  ONEBY  $1681  1660  1663
  ONEBYT $1656  1644  1784  1788  1793  1861  2992  2993  2994  3000  3001

  OPCPUT $16C0  1651  1681  1700
  OPCSYM $16C3  1653  1683  1702
  OPEN   $FFC0    64   521   544   678   707   782  3610
  OPERN1 $1F7A  1507  2944
  OPERND $1F82  1523  2949
  OPTDIR $3041   250  3977
  OPTPAG $300F   248  3942
  ORGIN  $1844   252  1076  1933  2614
* OUFILE $0D69   622
  OUTFIL $2F95  1067  3855
  OUTPUT $081A    86   242   308   310   315   317   332   337   376   643

                 644   719   720  1343  2182
  P1     $18AD  1981  1983  1991
  PAGECT $0855   144   233   236  1370  1371  1384  1386
  PAGER1 $14BF  1385  1387
  PASS   $0812    77   208   218   222   280   281  1047  1504  1598  1649

                1679  1755  1868  1890  2606  2621  2632  2636  2662  2691

                2768  2788  2812  2843  3413
  PAUS1  $1D87  2658  2659
  PAUSE  $0ABF   276   277
  PCHAR  $141A   219   452  1235  1240  1249  1290  1297  1734  1736  1738

                1750  1759  1771  1773  1775  1935  1937  1964  1972  1974

                2021  2026  2031  2036  2041  2043  2048  2050  2055  2068

                2719  2724  2730  2746  2854  2856  2924  3443  3445  3465

                3471  3538  3540  3957  3964
  PEXIT  $144F  1318  1322
  PFILE0 $0B93   387   392
  PFILE1 $0B98   398   403
  PFILEH $2FF3   393  3923
  PFILEI $2FF7  3926  3931
  PMSG   $09F8   196   271   272  2653  2654
  POSREL $197A  1913  1914  2125
  POVER  $18AA  1985  1987







CROSS REFERENCE......PAGE    7


  PRAD   $1893  1513  1608  1978  2695  2772  2792
  PRBYT  $13AE   814  1223  1228  1615  1665  1724  1763  1926  2133  2145

                2149  2162  2166  2170  2704  2751  3720  3725
  PRBYTS $13A8  1221  2006  2016
  PREND  $1CA9  2528  2531  2537
  PRFILE $0C8E   406   491   513
  PRIN   $142F  1300  1307
  PRINT  $0E29   717   719
  PRLA   $1889  1663  1697  1971  1991  2010
  PRO2RD $0C6A   496   505
  PROGED $0BDE   423   429
  PROGM  $105B   398   952
  PROGOK $0CB3   523   532
  PROGRD $0BC9   421   428
  PRTASS $1F6D  1512  2936
  PRTDAF $1A2A  2192  2198
  PRTDAL $0ED9   812   818
* PRTDAS $0EC6   805
  PRTDAT $1A0E  1606  2188  2204  2639  2937
  PRTEST $1A07  2140  2157  2182  2211
  PRTGET $0DF5   645   696
  PRTNEX $0ED1   809   820
  PRTNU1 $13E9  1260  1271  1292
  PRTNU2 $13F0  1274  1282
  PRTNU3 $13F1  1273  1275
  PRTNUM $13E0   326  1264  2195
  PRTOK  $1C9C  2527  2532
  PRTON1 $19A9  2135  2138
  PRTONE $199B  1607  2132  2694  2971  2972  2980
  PRTOT1 $1A3D  2206  2209
  PRTOTH $1A32  1933  1945  1956  2204  3522  3533  3900  3952  3981
  PRTPAG $13D5  1256  1372
  PRTTH1 $19FC  2172  2175
  PRTTHE $19D6  2161  2977  2978  2979  2984
  PRTTW1 $19CB  2151  2154
  PRTTWO $19B1  2144  2771  2791  2973  2974  2975  2976  2981  2982  2983

  PSELEC $18BF   454  1939  1992  2004  2198
  PUIT   $1AD6  2303  2308
  PUT    $25F3  3735  3739
  PUTC   $25E7  3629  3730
  PUTI   $1ABC  1701  1904  2296  2826  3424
  PWORK  $18C8  1901  1929  2010  3536
  PWORKD $18CB   448   486  1699  2014  2320  2523  2782  2823  2864  3541

  Q00000 $1E0F  2729  2731
  QUITS  $0AF9   259   303
  QUITX  $2538  3632  3638
  QUITXX $2558  3615  3660
  QUTERR $0B10   305   315
  RANG   $1A57  2235  2241
  RANGE  $1A45  1659  1689  2233  3418
  READS  $2569  3628  3671
  READST $FFB7    61   422   504   710   797  3633
  READX  $2525  3628  3634
  READXF $24FF  3578  3599
  READXX $24B9  3336  3561
  READY  $257A  3678  3683







CROSS REFERENCE......PAGE    8


  RELATV $17C9  1867  2999  3017
  RELND  $17FB  1886  1888
  RELNEG $1826  1912  1916
  RELP   $1838  1922  1926
  RELPC  $1819  1899  1910
  RELPM  $182A  1915  1918
  RELPUT $1815  1892  1903
  RELSYM $1818  1870  1895  1906
  REOPEN $2508  3595  3606
  RESET  $261E  3754  3757
  RESINT $1AA3  2284  3554
  ROPT   $0818    84   736  1897
  ROUT   $1A69  2236  2239  2243  2246  2250
  RPAREN $18E3  1846  1856  1862  2035
  S3     $1BB5  2420  2424
  SA     $081E    93   291   293   413   415   444   446   476   480   555

                 557   611   613  2115  2117
  SAGOL  $0826    97   612   614  2242  2245
  SAOUT  $082A    99   290   292   593   595
  SAVA   $0852   138   404   513  2508  2532
  SAVEE  $084D   132  2277  2279  2288  2290
* SAVEP  $0849   130
  SAVES  $084B   131  2273  2275  2284  2286
  SAVINT $1A8A   227  2272
  SAVX   $0853   139   811   817  1259  1267  1271  1291  2923  2925
  SAVY   $0854   140   808   812   816   844   850   857   865   872   894

                3719  3721
  SBLOK  $1F2E  2872  2877
  SCREN  $1443  1309  1316
  SCRNO1 $1510  1429  1433
  SCROFF $1501   652  1427
  SCRON  $1511   352  1435
  SELECT $0822    95   429   431   460   462   465   467   468   470   475

                 479   497   499  1872  1874  2004  2005  2072  2076  2087

                2089  2095  2098  2107  2109  2110  2116  2118  2354  2356

                2581  2584  2610  2612  2625  2627  2870  2874  3377  3379

  SEMIC  $18D4  1732  1769  1928  1957  2020  2319
  SETLFS $FFBA    63   520   543   677   706   781  3609
  SETNAM $FFBD    62   516   539   673   702   777  3594  3602
  SEXIT  $13D4  1248  1252
* SKIPER $1D3B  2624
  SLOK   $1925  2074  2079
  SMALL  $1BD0  2428  2432  2438
  SMALLP $0836   111  2393  2396  2411  2413  2452  2454  2801  2805  2860

                2862
  SMALLS $0834   110  2392  2395  2438  2440  2463  2465  2473  2475  2477

                2479  2481  2485
  SOP    $22C9   724  3287
  SOP1   $22DD  3292  3302
  SOP2   $24C0  3564  3565  3569
  SOP3   $24CD  3567  3570
  SOP4   $2314  3328  3336
  SORT   $1B67  2390  2505  3520
  SORT1  $1B7C  2400  2467  2488
  SORT2  $1B8B  2409  2433
  SORT3  $1C0D  2424  2472







CROSS REFERENCE......PAGE    9


  SORT4  $1C39  2484  2487  2490
  SORTOK $1C36  2483  2488
  SOUT   $13CA  1247  1251
  SPAC   $1906  2061  2063
  SPAC6  $1901  1768  1927  1987  2059
  SPACE  $190E   815  1514  1521  1609  1725  1731  1739  1986  2061  2067

                2146  2163  2167  2196  2197  2514  3687
  SPACM  $1903  2060  2139  2155  2176  2200  2210  2519  2522  2535
  SPASS  $0816    81  3416
  SSET   $2331  3357  3390
  STABLE $3055  3307  3310  4000
* STARTD $080F    73
  STARTS $0CCE   388   550
  STDREF $25C9  3692  3716
  STOP   $FFE1    60   258  2643  3631
  STRPNT $13C4   217   273   323   342   379   385   443   485   552   563

                 574   585   590   598   624   698   730   757   828   848

                 863   878   907   919  1244  1366  1379  1407  1412  1612

                1619  1717  1745  1918  1948  2655  2698  2775  2795  3289

                3318  3326  3525  3563  3575  3621  3654  3665  3808  3903

                3906  3955  3961  3984
  STRSY1 $23F3  3461  3467
  STRSYM $23ED  3441  3451  3458
  SUBP   $1F9D  2940  2941  2970
  SUBS   $1FD5  2950  2951  3006
  SUBS1  $1FB9  2945  2946  2988
  SY     $2326  3298  3320  3337  3349
  SYEXIT $2401  3462  3464  3468  3470
  SYM    $2351  1978  3375
  SYM1   $236A  3381  3390
  SYM2   $236D  3391  3407
  SYMBOE $083D   118   744   749  3342  3344  3350  3352  3484  3488  3646

                3648
  SYMBOL $0838   115  3297  3303  3375  3385
  SYMBOP $0839   116  3309  3312  3330  3332  3341  3343  3358  3360  3434

                3437  3449  3450  3478  3480  3481  3483  3487  3495  3497

                3502  3504  3645  3647  3731  3733  3741  3743  3744  3746

  SYMBOS $083B   117  3308  3311  3357  3359
  SYMBUF $08DA   176  3675  3679  3685  3708  3712  3713  3718  3724  3735

  SYMEND $2399  3376  3386  3406  3408
  SYMOP  $2365  1657  1687  1703  1894  2515  2820  2828  2851  3385  3534

* SYTAB  $22F2  3316
  T2     $1BB8  2419  2423  2425
  TABINE $0832   106  2257  2260  2276  2278  2289  2291  2298  2301  2308

                2310  2331  2333  2376  2380  2418  2422  2482  2486  2496

                2499  2526  2530  3365  3368  3514  3517  3546  3550
  TABINP $082E   104  2265  2267  2337  2339  2344  2346  2375  2379  2410

                2412  2417  2421  2464  2466  2476  2480  2525  2529  3366

                3369  3545  3549
  TABINS $0830   105  2256  2259  2264  2266  2272  2274  2285  2287  2297

                2300  2391  2394  2495  2498  3367  3370  3513  3516
  TDATA  $08F1   191   795   813   852   855   867   870   895  2574  2577

                2593  2596  2599
  TEMP   $0851   137  1059  1062  1153  1158  1166  1175  1176  2060  2062

                2299  2302  2368  2371  2401  2404  2427  2431  2457  2460

                2497  2500  2582  2585  2711  2735  2736  2915  2930  3400








CROSS REFERENCE......PAGE   10


                3403  3515  3518  3624  3751  3753  3758
  TEXTER $08E6   182  2600  2678  2699  2806  3571  3690
  TWOB   $16C6  1658  1688  1704
* TWOBIT $168A  1669
  TWOBX  $16BD  1692  1698
  TWOBY  $16BA  1690  1696
  TWOBYT $168B  1673  1802  1820  1825  1845  2995  2996  2997  3002
  UTABLE $31D8  3329  3331  3349  3351  4046
* UYMBOE $0843   124
* UYMBOP $083F   122
* UYMBOS $0841   123
  VERSON $08C2   166   631   656   659   662  3860
  VICREG $D011    54  1430  1432  1435  1437
  WIND1  $0D4C   587   606
  WIND2  $0D4E   605   607
  WINDOP $0D10   509   583
  WINDOW $081B    87   285   607
  WORD1  $1E8E  2790  2799
  WORDM  $1ED4  2808  2833
  WORDPT $1EC8  2814  2826  2845
  WORDS  $1E79  2686  2788
  WORDS2 $1F04  2852  2859
  WORDS3 $1F16  2821  2857  2865
* WORDSX $1EC5  2825
  WORDSY $1ECE  2816  2828  2847
* WORDXX $1F19  2866
  WORKED $0845   128   445   447   478   482  1646  1648  1664  1675  1678

                1873  1875  1876  1878  1883  1885  1887  1888  2014  2015

                2233  2237  2241  2244  2313  2316  2355  2357  2366  2369

                2415  2426  2430  2443  2446  2510  2513  2777  2780  2800

                2804  2834  2836  2837  2839  2861  2863  3378  3380  3399

                3402  3529  3532
  WORKER $0847   129  2361  2364  2367  2370  2575  2578  2580  2583  3392

                3395  3398  3401
  WREADY $E391    67   353   530   691
  WRITE  $1057   664   951
  XFILE1 $24E8  3585  3590
  XGET   $25A9  3695  3697  3701
  XINDEX $18E8  1789  1821  2040
  XOP0   $0F92   822   833   900   905
  XOP1   $0FA2   909   912
  XOP2   $0FA4   911   913
  XOPT   $0817    83   913  1980
  XTITLE $1534  1364  1365  1451
  XTITLS $156C  1405  1406  1458
  YINDEX $18F2  1794  1826  1863  2047
  YSHEX  $138A  1185  1190  1193
* ZERBIT $1743  1780
  ZEROPG $1744  1784  3010
  ZEROUR $0002    68   498   500   502   748   753  1244  1245  1247  1256

                1257  1264  1265  1276  1278  1279  1281  1283  1285  1286

                1288  2097  2100  2102  2309  2311  2314  2317  2345  2347

                2349  2439  2441  2444  2447  2453  2455  2458  2461  2955

                2956  2959  2962  3458  3459  3461  3469  3503  3505  3507

                3732  3734  3736
  ZEROX  $1747  1788  1855  3011







CROSS REFERENCE......PAGE   11


  ZEROY  $174D  1793  3012































































































































